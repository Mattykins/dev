{
  "version": 3,
  "sources": ["../../../../node_modules/tweakpane/dist/tweakpane.js", "../../../../../phaser-genesis/src/config/const.ts", "../../../../../phaser-genesis/src/config/ConfigStore.ts", "../../../../../phaser-genesis/src/config/backgroundcolor/SetBackgroundColor.ts", "../../../../../phaser-genesis/src/config/backgroundcolor/BackgroundColor.ts", "../../../../../phaser-genesis/src/config/banner/SetBanner.ts", "../../../../../phaser-genesis/src/config/batchsize/SetBatchSize.ts", "../../../../../phaser-genesis/src/config/size/GetHeight.ts", "../../../../../phaser-genesis/src/config/size/GetResolution.ts", "../../../../../phaser-genesis/src/config/size/GetWidth.ts", "../../../../../phaser-genesis/src/config/size/SetSize.ts", "../../../../../phaser-genesis/src/renderer/BindingQueue.ts", "../../../../../phaser-genesis/src/config/backgroundcolor/GetBackgroundColor.ts", "../../../../../phaser-genesis/src/config/renderer/SetRenderer.ts", "../../../../../phaser-genesis/src/config/defaultorigin/SetDefaultOrigin.ts", "../../../../../phaser-genesis/src/config/globalvar/SetGlobalVar.ts", "../../../../../phaser-genesis/src/config/globalvar/GlobalVar.ts", "../../../../../phaser-genesis/src/config/maxtextures/SetMaxTextures.ts", "../../../../../phaser-genesis/src/dom/GetElement.ts", "../../../../../phaser-genesis/src/config/parent/SetParent.ts", "../../../../../phaser-genesis/src/config/parent/Parent.ts", "../../../../../phaser-genesis/src/config/scenes/SetScenes.ts", "../../../../../phaser-genesis/src/config/scenes/Scenes.ts", "../../../../../phaser-genesis/src/geom/rectangle/RectangleContains.ts", "../../../../../phaser-genesis/src/geom/rectangle/Rectangle.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/AddViewport.ts", "../../../../../phaser-genesis/src/renderer/webgl1/GL.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindViewport.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetViewport.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/PopViewport.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/PopFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/AddFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/Draw.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/Flush.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/End.ts", "../../../../../phaser-genesis/src/renderer/webgl1/colors/GetRGBArray.ts", "../../../../../phaser-genesis/src/config/webglcontext/GetWebGLContext.ts", "../../../../../phaser-genesis/src/renderer/webgl1/textures/CreateGLTexture.ts", "../../../../../phaser-genesis/src/renderer/webgl1/fbo/DeleteFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/textures/DeleteGLTexture.ts", "../../../../../phaser-genesis/src/math/pow2/IsSizePowerOfTwo.ts", "../../../../../phaser-genesis/src/renderer/webgl1/textures/SetGLTextureFilterMode.ts", "../../../../../phaser-genesis/src/renderer/webgl1/textures/UpdateGLTexture.ts", "../../../../../phaser-genesis/src/renderer/webgl1/textures/GLTextureBinding.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/ProcessBindingQueue.ts", "../../../../../phaser-genesis/src/config/maxtextures/GetMaxTextures.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/CheckShaderMaxIfStatements.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/CreateTempTextures.ts", "../../../../../phaser-genesis/src/config/batchsize/GetBatchSize.ts", "../../../../../phaser-genesis/src/renderer/webgl1/buffers/DeleteGLBuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/buffers/VertexBuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/buffers/IndexedVertexBuffer.ts", "../../../../../phaser-genesis/src/utils/array/matrix/CheckMatrix.ts", "../../../../../phaser-genesis/src/utils/array/matrix/MatrixToString.ts", "../../../../../phaser-genesis/src/utils/array/matrix/ReverseColumns.ts", "../../../../../phaser-genesis/src/utils/array/matrix/ReverseRows.ts", "../../../../../phaser-genesis/src/utils/array/matrix/TransposeMatrix.ts", "../../../../../phaser-genesis/src/utils/array/matrix/RotateMatrix.ts", "../../../../../phaser-genesis/src/utils/array/matrix/Rotate180.ts", "../../../../../phaser-genesis/src/utils/array/matrix/RotateLeft.ts", "../../../../../phaser-genesis/src/utils/array/matrix/RotateRight.ts", "../../../../../phaser-genesis/src/utils/array/NumberArray.ts", "../../../../../phaser-genesis/src/math/RoundAwayFromZero.ts", "../../../../../phaser-genesis/src/utils/array/NumberArrayStep.ts", "../../../../../phaser-genesis/src/utils/base64/ArrayBufferToBase64.ts", "../../../../../phaser-genesis/src/utils/base64/Base64ToArrayBuffer.ts", "../../../../../phaser-genesis/src/utils/string/UppercaseFirst.ts", "../../../../../phaser-genesis/src/utils/NOOP.ts", "../../../../../phaser-genesis/src/math/mat4/Matrix4.ts", "../../../../../phaser-genesis/src/math/mat4/Mat4Ortho.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateAttributes.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/DeleteShaders.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateProgram.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateShader.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateUniformSetter.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateUniforms.ts", "../../../../../phaser-genesis/src/renderer/webgl1/GL_CONST.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/DefaultQuadAttributes.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/DefaultQuadUniforms.ts", "../../../../../phaser-genesis/src/renderer/webgl1/fbo/CreateDepthBuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/fbo/CreateFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/glsl/SINGLE_QUAD_FRAG.ts", "../../../../../phaser-genesis/src/renderer/webgl1/glsl/SINGLE_QUAD_VERT.ts", "../../../../../phaser-genesis/src/textures/Frame.ts", "../../../../../phaser-genesis/src/textures/Texture.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/Shader.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/QuadShader.ts", "../../../../../phaser-genesis/src/renderer/webgl1/glsl/MULTI_QUAD_FRAG.ts", "../../../../../phaser-genesis/src/renderer/webgl1/shaders/MultiTextureQuadShader.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultBlendMode.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultFramebuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultShader.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultVertexBuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultViewport.ts", "../../../../../phaser-genesis/src/GameInstance.ts", "../../../../../phaser-genesis/src/math/mat4/Mat4Identity.ts", "../../../../../phaser-genesis/src/math/mat2d/Matrix2D.ts", "../../../../../phaser-genesis/src/math/angle/AngleBetween.ts", "../../../../../phaser-genesis/src/math/angle/AngleBetweenY.ts", "../../../../../phaser-genesis/src/math/const.ts", "../../../../../phaser-genesis/src/math/angle/CounterClockwise.ts", "../../../../../phaser-genesis/src/math/angle/NormalizeAngle.ts", "../../../../../phaser-genesis/src/math/angle/ReverseAngle.ts", "../../../../../phaser-genesis/src/math/angle/RotateAngleTo.ts", "../../../../../phaser-genesis/src/math/angle/ShortestAngleBetween.ts", "../../../../../phaser-genesis/src/math/Wrap.ts", "../../../../../phaser-genesis/src/math/angle/WrapAngle.ts", "../../../../../phaser-genesis/src/math/angle/WrapAngleDegrees.ts", "../../../../../phaser-genesis/src/math/angle/index.ts", "../../../../../phaser-genesis/src/camera/StaticCamera.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/RenderPass.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindShader.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/Begin.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindBlendMode.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindVertexBuffer.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/GetVertexBufferEntry.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetTexture.ts", "../../../../../phaser-genesis/src/renderer/webgl1/renderpass/Start.ts", "../../../../../phaser-genesis/src/renderer/webgl1/WebGLRendererInstance.ts", "../../../../../phaser-genesis/src/renderer/webgl1/WebGLRenderer.ts", "../../../../../phaser-genesis/src/config/webgl/WebGL.ts", "../../../../../phaser-genesis/src/config/webglcontext/SetWebGLContext.ts", "../../../../../phaser-genesis/src/display/DepthFirstSearch.ts", "../../../../../phaser-genesis/src/display/GetChildIndex.ts", "../../../../../phaser-genesis/src/display/RemoveChildAt.ts", "../../../../../phaser-genesis/src/display/RemoveChild.ts", "../../../../../phaser-genesis/src/gameobjects/events/AddedToWorldEvent.ts", "../../../../../phaser-genesis/src/gameobjects/events/DestroyEvent.ts", "../../../../../phaser-genesis/src/gameobjects/events/PostUpdateEvent.ts", "../../../../../phaser-genesis/src/gameobjects/events/RemovedFromWorldEvent.ts", "../../../../../phaser-genesis/src/gameobjects/events/UpdateEvent.ts", "../../../../../phaser-genesis/src/events/Emit.ts", "../../../../../phaser-genesis/src/display/SetWorld.ts", "../../../../../phaser-genesis/src/display/SetParent.ts", "../../../../../phaser-genesis/src/display/AddChild.ts", "../../../../../phaser-genesis/src/gameobjects/DIRTY_CONST.ts", "../../../../../phaser-genesis/src/display/RemoveChildrenBetween.ts", "../../../../../phaser-genesis/src/display/DestroyChildren.ts", "../../../../../phaser-genesis/src/display/RemoveChildren.ts", "../../../../../phaser-genesis/src/display/ReparentChildren.ts", "../../../../../phaser-genesis/src/dom/AddToDOM.ts", "../../../../../phaser-genesis/src/dom/DOMContentLoaded.ts", "../../../../../phaser-genesis/src/dom/ParseXML.ts", "../../../../../phaser-genesis/src/events/EventEmitter.ts", "../../../../../phaser-genesis/src/events/EventInstance.ts", "../../../../../phaser-genesis/src/events/Off.ts", "../../../../../phaser-genesis/src/events/On.ts", "../../../../../phaser-genesis/src/events/Once.ts", "../../../../../phaser-genesis/src/config/banner/GetBanner.ts", "../../../../../phaser-genesis/src/config/globalvar/GetGlobalVar.ts", "../../../../../phaser-genesis/src/config/parent/GetParent.ts", "../../../../../phaser-genesis/src/config/renderer/GetRenderer.ts", "../../../../../phaser-genesis/src/scenes/CreateSceneRenderData.ts", "../../../../../phaser-genesis/src/config/scenes/GetScenes.ts", "../../../../../phaser-genesis/src/scenes/ResetSceneRenderData.ts", "../../../../../phaser-genesis/src/scenes/SceneManagerInstance.ts", "../../../../../phaser-genesis/src/scenes/SceneManager.ts", "../../../../../phaser-genesis/src/config/SetConfigDefaults.ts", "../../../../../phaser-genesis/src/textures/CreateCanvas.ts", "../../../../../phaser-genesis/src/textures/TextureManagerInstance.ts", "../../../../../phaser-genesis/src/textures/TextureManager.ts", "../../../../../phaser-genesis/src/Game.ts", "../../../../../phaser-genesis/src/loader/File.ts", "../../../../../phaser-genesis/src/loader/GetURL.ts", "../../../../../phaser-genesis/src/loader/ImageTagLoader.ts", "../../../../../phaser-genesis/src/loader/files/ImageFile.ts", "../../../../../phaser-genesis/src/loader/Loader.ts", "../../../../../phaser-genesis/src/scenes/GetConfigValue.ts", "../../../../../phaser-genesis/src/scenes/Install.ts", "../../../../../phaser-genesis/src/scenes/Scene.ts", "../../../../../phaser-genesis/src/components/transform/GetVertices.ts", "../../../../../phaser-genesis/src/components/bounds/BoundsComponent.ts", "../../../../../phaser-genesis/src/components/input/InputComponent.ts", "../../../../../phaser-genesis/src/math/vec2/Vec2.ts", "../../../../../phaser-genesis/src/renderer/webgl1/colors/PackColors.ts", "../../../../../phaser-genesis/src/components/transform/UpdateVertices.ts", "../../../../../phaser-genesis/src/components/transform/PreRenderVertices.ts", "../../../../../phaser-genesis/src/components/transform/UpdateLocalTransform.ts", "../../../../../phaser-genesis/src/math/mat2d/Mat2dCopyFrom.ts", "../../../../../phaser-genesis/src/components/transform/UpdateWorldTransform.ts", "../../../../../phaser-genesis/src/renderer/webgl1/colors/PackColor.ts", "../../../../../phaser-genesis/src/components/Vertex.ts", "../../../../../phaser-genesis/src/renderer/webgl1/draw/BatchTexturedQuad.ts", "../../../../../phaser-genesis/src/config/defaultorigin/GetDefaultOriginX.ts", "../../../../../phaser-genesis/src/config/defaultorigin/GetDefaultOriginY.ts", "../../../../../phaser-genesis/src/geom/rectangle/GetRectangleSize.ts", "../../../../../phaser-genesis/src/components/transform/TRANSFORM_CONST.ts", "../../../../../phaser-genesis/src/gameobjects/GameObject.ts", "../../../../../phaser-genesis/src/gameobjects/container/Container.ts", "../../../../../phaser-genesis/src/renderer/canvas/draw/DrawImage.ts", "../../../../../phaser-genesis/src/gameobjects/sprite/SetFrame.ts", "../../../../../phaser-genesis/src/textures/GetTexture.ts", "../../../../../phaser-genesis/src/gameobjects/sprite/SetTexture.ts", "../../../../../phaser-genesis/src/gameobjects/sprite/Sprite.ts", "../../../../../phaser-genesis/src/math/Clamp.ts", "../../libs/phaser4debugkit/SpriteVertsEditor.js", "../../../../../phaser-genesis/src/world/events/WorldRenderEvent.ts", "../../../../../phaser-genesis/src/world/events/WorldShutdownEvent.ts", "../../../../../phaser-genesis/src/world/CalculateTotalRenderable.ts", "../../../../../phaser-genesis/src/world/HasDirtyChildren.ts", "../../../../../phaser-genesis/src/world/UpdateCachedLayers.ts", "../../../../../phaser-genesis/src/world/WorldDepthFirstSearch.ts", "../../../../../phaser-genesis/src/world/BuildRenderList.ts", "../../../../../phaser-genesis/src/math/mat2d/Mat2dEquals.ts", "../../../../../phaser-genesis/src/world/MergeRenderData.ts", "../../../../../phaser-genesis/src/world/ResetWorldRenderData.ts", "../../../../../phaser-genesis/src/world/BaseWorld.ts", "../../../../../phaser-genesis/src/world/CreateWorldRenderData.ts", "../../../../../phaser-genesis/src/world/StaticWorld.ts", "../../../src/gameobjects/sprite/modify sprite verts.ts"],
  "sourcesContent": ["/*! Tweakpane 3.0.0 (c) 2016 cocopon, licensed under the MIT license. */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Tweakpane = {}));\n}(this, (function (exports) { 'use strict';\n\n    /***\n     * A simple semantic versioning perser.\n     */\n    class Semver {\n        /**\n         * @hidden\n         */\n        constructor(text) {\n            const [core, prerelease] = text.split('-');\n            const coreComps = core.split('.');\n            this.major = parseInt(coreComps[0], 10);\n            this.minor = parseInt(coreComps[1], 10);\n            this.patch = parseInt(coreComps[2], 10);\n            this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n        }\n        toString() {\n            const core = [this.major, this.minor, this.patch].join('.');\n            return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n        }\n    }\n\n    class BladeApi {\n        constructor(controller) {\n            this.controller_ = controller;\n        }\n        get disabled() {\n            return this.controller_.viewProps.get('disabled');\n        }\n        set disabled(disabled) {\n            this.controller_.viewProps.set('disabled', disabled);\n        }\n        get hidden() {\n            return this.controller_.viewProps.get('hidden');\n        }\n        set hidden(hidden) {\n            this.controller_.viewProps.set('hidden', hidden);\n        }\n        dispose() {\n            this.controller_.viewProps.set('disposed', true);\n        }\n    }\n\n    class TpEvent {\n        constructor(target) {\n            this.target = target;\n        }\n    }\n    class TpChangeEvent extends TpEvent {\n        constructor(target, value, presetKey) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n        }\n    }\n    class TpUpdateEvent extends TpEvent {\n        constructor(target, value, presetKey) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n        }\n    }\n    class TpFoldEvent extends TpEvent {\n        constructor(target, expanded) {\n            super(target);\n            this.expanded = expanded;\n        }\n    }\n\n    function forceCast(v) {\n        return v;\n    }\n    function isEmpty(value) {\n        return value === null || value === undefined;\n    }\n    function deepEqualsArray(a1, a2) {\n        if (a1.length !== a2.length) {\n            return false;\n        }\n        for (let i = 0; i < a1.length; i++) {\n            if (a1[i] !== a2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    const CREATE_MESSAGE_MAP = {\n        alreadydisposed: () => 'View has been already disposed',\n        invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n        nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n        nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n        notbindable: () => `Value is not bindable`,\n        propertynotfound: (context) => `Property '${context.name}' not found`,\n        shouldneverhappen: () => 'This error should never happen',\n    };\n    class TpError {\n        constructor(config) {\n            var _a;\n            this.message =\n                (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n            this.name = this.constructor.name;\n            this.stack = new Error(this.message).stack;\n            this.type = config.type;\n        }\n        static alreadyDisposed() {\n            return new TpError({ type: 'alreadydisposed' });\n        }\n        static notBindable() {\n            return new TpError({\n                type: 'notbindable',\n            });\n        }\n        static propertyNotFound(name) {\n            return new TpError({\n                type: 'propertynotfound',\n                context: {\n                    name: name,\n                },\n            });\n        }\n        static shouldNeverHappen() {\n            return new TpError({ type: 'shouldneverhappen' });\n        }\n    }\n\n    class BindingTarget {\n        constructor(obj, key, opt_id) {\n            this.obj_ = obj;\n            this.key_ = key;\n            this.presetKey_ = opt_id !== null && opt_id !== void 0 ? opt_id : key;\n        }\n        static isBindable(obj) {\n            if (obj === null) {\n                return false;\n            }\n            if (typeof obj !== 'object') {\n                return false;\n            }\n            return true;\n        }\n        get key() {\n            return this.key_;\n        }\n        get presetKey() {\n            return this.presetKey_;\n        }\n        read() {\n            return this.obj_[this.key_];\n        }\n        write(value) {\n            this.obj_[this.key_] = value;\n        }\n        writeProperty(name, value) {\n            const valueObj = this.read();\n            if (!BindingTarget.isBindable(valueObj)) {\n                throw TpError.notBindable();\n            }\n            if (!(name in valueObj)) {\n                throw TpError.propertyNotFound(name);\n            }\n            valueObj[name] = value;\n        }\n    }\n\n    class ButtonApi extends BladeApi {\n        get disabled() {\n            return this.controller_.viewProps.get('disabled');\n        }\n        set disabled(disabled) {\n            this.controller_.viewProps.set('disabled', disabled);\n        }\n        get hidden() {\n            return this.controller_.viewProps.get('hidden');\n        }\n        set hidden(hidden) {\n            this.controller_.viewProps.set('hidden', hidden);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.valueController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.valueController.props.set('title', title);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            const emitter = this.controller_.valueController.emitter;\n            emitter.on(eventName, () => {\n                bh(new TpEvent(this));\n            });\n            return this;\n        }\n    }\n\n    class Emitter {\n        constructor() {\n            this.observers_ = {};\n        }\n        on(eventName, handler) {\n            let observers = this.observers_[eventName];\n            if (!observers) {\n                observers = this.observers_[eventName] = [];\n            }\n            observers.push({\n                handler: handler,\n            });\n            return this;\n        }\n        off(eventName, handler) {\n            const observers = this.observers_[eventName];\n            if (observers) {\n                this.observers_[eventName] = observers.filter((observer) => {\n                    return observer.handler !== handler;\n                });\n            }\n            return this;\n        }\n        emit(eventName, event) {\n            const observers = this.observers_[eventName];\n            if (!observers) {\n                return;\n            }\n            observers.forEach((observer) => {\n                observer.handler(event);\n            });\n        }\n    }\n\n    class BoundValue {\n        constructor(initialValue, config) {\n            var _a;\n            this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n            this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n            this.emitter = new Emitter();\n            this.rawValue_ = initialValue;\n        }\n        get constraint() {\n            return this.constraint_;\n        }\n        get rawValue() {\n            return this.rawValue_;\n        }\n        set rawValue(rawValue) {\n            const constrainedValue = this.constraint_\n                ? this.constraint_.constrain(rawValue)\n                : rawValue;\n            const changed = !this.equals_(this.rawValue_, constrainedValue);\n            if (!changed) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.rawValue_ = constrainedValue;\n            this.emitter.emit('change', {\n                rawValue: constrainedValue,\n                sender: this,\n            });\n        }\n    }\n\n    class PrimitiveValue {\n        constructor(initialValue) {\n            this.emitter = new Emitter();\n            this.value_ = initialValue;\n        }\n        get rawValue() {\n            return this.value_;\n        }\n        set rawValue(value) {\n            if (this.value_ === value) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.value_ = value;\n            this.emitter.emit('change', {\n                sender: this,\n                rawValue: this.value_,\n            });\n        }\n    }\n\n    function createValue(initialValue, config) {\n        const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n        const equals = config === null || config === void 0 ? void 0 : config.equals;\n        if (!constraint && !equals) {\n            return new PrimitiveValue(initialValue);\n        }\n        return new BoundValue(initialValue, config);\n    }\n\n    class ValueMap {\n        constructor(valueMap) {\n            this.emitter = new Emitter();\n            this.valMap_ = valueMap;\n            for (const key in this.valMap_) {\n                const v = this.valMap_[key];\n                v.emitter.on('change', () => {\n                    this.emitter.emit('change', {\n                        key: key,\n                        sender: this,\n                    });\n                });\n            }\n        }\n        static createCore(initialValue) {\n            const keys = Object.keys(initialValue);\n            return keys.reduce((o, key) => {\n                return Object.assign(o, {\n                    [key]: createValue(initialValue[key]),\n                });\n            }, {});\n        }\n        static fromObject(initialValue) {\n            const core = this.createCore(initialValue);\n            return new ValueMap(core);\n        }\n        get(key) {\n            return this.valMap_[key].rawValue;\n        }\n        set(key, value) {\n            this.valMap_[key].rawValue = value;\n        }\n        value(key) {\n            return this.valMap_[key];\n        }\n    }\n\n    function parseObject(value, keyToParserMap) {\n        const keys = Object.keys(keyToParserMap);\n        const result = keys.reduce((tmp, key) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const parser = keyToParserMap[key];\n            const result = parser(value[key]);\n            return result.succeeded\n                ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n        }, {});\n        return forceCast(result);\n    }\n    function parseArray(value, parseItem) {\n        return value.reduce((tmp, item) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const result = parseItem(item);\n            if (!result.succeeded || result.value === undefined) {\n                return undefined;\n            }\n            return [...tmp, result.value];\n        }, []);\n    }\n    function isObject(value) {\n        if (value === null) {\n            return false;\n        }\n        return typeof value === 'object';\n    }\n    function createParamsParserBuilder(parse) {\n        return (optional) => (v) => {\n            if (!optional && v === undefined) {\n                return {\n                    succeeded: false,\n                    value: undefined,\n                };\n            }\n            if (optional && v === undefined) {\n                return {\n                    succeeded: true,\n                    value: undefined,\n                };\n            }\n            const result = parse(v);\n            return result !== undefined\n                ? {\n                    succeeded: true,\n                    value: result,\n                }\n                : {\n                    succeeded: false,\n                    value: undefined,\n                };\n        };\n    }\n    function createParamsParserBuilders(optional) {\n        return {\n            custom: (parse) => createParamsParserBuilder(parse)(optional),\n            boolean: createParamsParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n            number: createParamsParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n            string: createParamsParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n            function: createParamsParserBuilder((v) =>\n            typeof v === 'function' ? v : undefined)(optional),\n            constant: (value) => createParamsParserBuilder((v) => (v === value ? value : undefined))(optional),\n            raw: createParamsParserBuilder((v) => v)(optional),\n            object: (keyToParserMap) => createParamsParserBuilder((v) => {\n                if (!isObject(v)) {\n                    return undefined;\n                }\n                return parseObject(v, keyToParserMap);\n            })(optional),\n            array: (itemParser) => createParamsParserBuilder((v) => {\n                if (!Array.isArray(v)) {\n                    return undefined;\n                }\n                return parseArray(v, itemParser);\n            })(optional),\n        };\n    }\n    const ParamsParsers = {\n        optional: createParamsParserBuilders(true),\n        required: createParamsParserBuilders(false),\n    };\n    function parseParams(value, keyToParserMap) {\n        const result = ParamsParsers.required.object(keyToParserMap)(value);\n        return result.succeeded ? result.value : undefined;\n    }\n\n    function disposeElement(elem) {\n        if (elem && elem.parentElement) {\n            elem.parentElement.removeChild(elem);\n        }\n        return null;\n    }\n\n    const PREFIX = 'tp';\n    function ClassName(viewName) {\n        const fn = (opt_elementName, opt_modifier) => {\n            return [\n                PREFIX,\n                '-',\n                viewName,\n                'v',\n                opt_elementName ? `_${opt_elementName}` : '',\n                opt_modifier ? `-${opt_modifier}` : '',\n            ].join('');\n        };\n        return fn;\n    }\n\n    function getAllBladePositions() {\n        return ['veryfirst', 'first', 'last', 'verylast'];\n    }\n\n    const className$q = ClassName('');\n    const POS_TO_CLASS_NAME_MAP = {\n        veryfirst: 'vfst',\n        first: 'fst',\n        last: 'lst',\n        verylast: 'vlst',\n    };\n    class BladeController {\n        constructor(config) {\n            this.parent_ = null;\n            this.blade = config.blade;\n            this.view = config.view;\n            this.viewProps = config.viewProps;\n            const elem = this.view.element;\n            this.blade.value('positions').emitter.on('change', () => {\n                getAllBladePositions().forEach((pos) => {\n                    elem.classList.remove(className$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n                this.blade.get('positions').forEach((pos) => {\n                    elem.classList.add(className$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n            });\n            this.viewProps.handleDispose(() => {\n                disposeElement(elem);\n            });\n        }\n        get parent() {\n            return this.parent_;\n        }\n    }\n\n    const SVG_NS = 'http://www.w3.org/2000/svg';\n    function forceReflow(element) {\n        element.offsetHeight;\n    }\n    function disableTransitionTemporarily(element, callback) {\n        const t = element.style.transition;\n        element.style.transition = 'none';\n        callback();\n        element.style.transition = t;\n    }\n    function supportsTouch(doc) {\n        return doc.ontouchstart !== undefined;\n    }\n    function getGlobalObject() {\n        return new Function('return this')();\n    }\n    function getWindowDocument() {\n        const globalObj = forceCast(getGlobalObject());\n        return globalObj.document;\n    }\n    function isBrowser() {\n        return 'document' in getGlobalObject();\n    }\n    function getCanvasContext(canvasElement) {\n        return isBrowser() ? canvasElement.getContext('2d') : null;\n    }\n    const ICON_ID_TO_INNER_HTML_MAP = {\n        check: '<path d=\"M2 8l4 4l8 -8\"/>',\n        dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n        p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n    };\n    function createSvgIconElement(document, iconId) {\n        const elem = document.createElementNS(SVG_NS, 'svg');\n        elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n        return elem;\n    }\n    function insertElementAt(parentElement, element, index) {\n        parentElement.insertBefore(element, parentElement.children[index]);\n    }\n    function removeElement(element) {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    function removeChildElements(element) {\n        while (element.children.length > 0) {\n            element.removeChild(element.children[0]);\n        }\n    }\n    function removeChildNodes(element) {\n        while (element.childNodes.length > 0) {\n            element.removeChild(element.childNodes[0]);\n        }\n    }\n    function findNextTarget(ev) {\n        if (ev.relatedTarget) {\n            return forceCast(ev.relatedTarget);\n        }\n        if ('explicitOriginalTarget' in ev) {\n            return ev.explicitOriginalTarget;\n        }\n        return null;\n    }\n\n    function compose(h1, h2) {\n        return (input) => h2(h1(input));\n    }\n    function extractValue(ev) {\n        return ev.rawValue;\n    }\n    function bindValue(value, applyValue) {\n        value.emitter.on('change', compose(extractValue, applyValue));\n        applyValue(value.rawValue);\n    }\n    function bindValueMap(valueMap, key, applyValue) {\n        bindValue(valueMap.value(key), applyValue);\n    }\n\n    const className$p = ClassName('lbl');\n    function createLabelNode(doc, label) {\n        const frag = doc.createDocumentFragment();\n        const lineNodes = label.split('\\n').map((line) => {\n            return doc.createTextNode(line);\n        });\n        lineNodes.forEach((lineNode, index) => {\n            if (index > 0) {\n                frag.appendChild(doc.createElement('br'));\n            }\n            frag.appendChild(lineNode);\n        });\n        return frag;\n    }\n    class LabelView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$p());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('div');\n            labelElem.classList.add(className$p('l'));\n            bindValueMap(config.props, 'label', (value) => {\n                if (isEmpty(value)) {\n                    this.element.classList.add(className$p(undefined, 'nol'));\n                }\n                else {\n                    this.element.classList.remove(className$p(undefined, 'nol'));\n                    removeChildNodes(labelElem);\n                    labelElem.appendChild(createLabelNode(doc, value));\n                }\n            });\n            this.element.appendChild(labelElem);\n            this.labelElement = labelElem;\n            const valueElem = doc.createElement('div');\n            valueElem.classList.add(className$p('v'));\n            this.element.appendChild(valueElem);\n            this.valueElement = valueElem;\n        }\n    }\n\n    class LabelController extends BladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    function applyClass(elem, className, active) {\n        if (active) {\n            elem.classList.add(className);\n        }\n        else {\n            elem.classList.remove(className);\n        }\n    }\n    function valueToClassName(elem, className) {\n        return (value) => {\n            applyClass(elem, className, value);\n        };\n    }\n    function bindValueToTextContent(value, elem) {\n        bindValue(value, (text) => {\n            elem.textContent = text !== null && text !== void 0 ? text : '';\n        });\n    }\n\n    const className$o = ClassName('btn');\n    class ButtonView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$o());\n            config.viewProps.bindClassModifiers(this.element);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$o('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            bindValueToTextContent(config.props.value('title'), buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n        }\n    }\n\n    class ButtonController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new ButtonView(doc, {\n                props: this.props,\n                viewProps: this.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    const ButtonBladePlugin = {\n        id: 'button',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('button'),\n                label: p.optional.string,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new LabelController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: new ButtonController(args.document, {\n                    props: ValueMap.fromObject({\n                        title: args.params.title,\n                    }),\n                    viewProps: args.viewProps,\n                }),\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabelController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof ButtonController)) {\n                return null;\n            }\n            return new ButtonApi(args.controller);\n        },\n    };\n\n    class ValueBladeController extends BladeController {\n        constructor(config) {\n            super(config);\n            this.value = config.value;\n        }\n    }\n\n    function createBlade() {\n        return new ValueMap({\n            positions: createValue([], {\n                equals: deepEqualsArray,\n            }),\n        });\n    }\n\n    function createFoldable(expanded) {\n        return ValueMap.fromObject({\n            expanded: expanded,\n            expandedHeight: null,\n            shouldFixHeight: false,\n            temporaryExpanded: null,\n        });\n    }\n    function computeExpandedFolderHeight(folder, containerElement) {\n        let height = 0;\n        disableTransitionTemporarily(containerElement, () => {\n            folder.set('expandedHeight', null);\n            folder.set('temporaryExpanded', true);\n            forceReflow(containerElement);\n            height = containerElement.clientHeight;\n            folder.set('temporaryExpanded', null);\n            forceReflow(containerElement);\n        });\n        return height;\n    }\n    function getFoldableStyleExpanded(foldable) {\n        var _a;\n        return (_a = foldable.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : foldable.get('expanded');\n    }\n    function getFoldableStyleHeight(foldable) {\n        if (!getFoldableStyleExpanded(foldable)) {\n            return '0';\n        }\n        const exHeight = foldable.get('expandedHeight');\n        if (foldable.get('shouldFixHeight') && !isEmpty(exHeight)) {\n            return `${exHeight}px`;\n        }\n        return 'auto';\n    }\n    function applyHeight(foldable, elem) {\n        elem.style.height = getFoldableStyleHeight(foldable);\n    }\n    function bindFoldable(foldable, elem) {\n        foldable.value('expanded').emitter.on('beforechange', () => {\n            if (isEmpty(foldable.get('expandedHeight'))) {\n                foldable.set('expandedHeight', computeExpandedFolderHeight(foldable, elem));\n            }\n            foldable.set('shouldFixHeight', true);\n            forceReflow(elem);\n        });\n        foldable.emitter.on('change', () => {\n            applyHeight(foldable, elem);\n        });\n        applyHeight(foldable, elem);\n        elem.addEventListener('transitionend', (ev) => {\n            if (ev.propertyName !== 'height') {\n                return;\n            }\n            foldable.set('shouldFixHeight', false);\n            foldable.set('expandedHeight', null);\n        });\n    }\n\n    class RackLikeApi extends BladeApi {\n        constructor(controller, rackApi) {\n            super(controller);\n            this.rackApi_ = rackApi;\n        }\n    }\n\n    function addButtonAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n    }\n    function addFolderAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n    }\n    function addSeparatorAsBlade(api, opt_params) {\n        const params = opt_params || {};\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'separator' }));\n    }\n    function addTabAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n    }\n\n    class NestedOrderedSet {\n        constructor(extract) {\n            this.emitter = new Emitter();\n            this.items_ = [];\n            this.cache_ = new Set();\n            this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n            this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n            this.extract_ = extract;\n        }\n        get items() {\n            return this.items_;\n        }\n        allItems() {\n            return Array.from(this.cache_);\n        }\n        find(callback) {\n            for (const item of this.allItems()) {\n                if (callback(item)) {\n                    return item;\n                }\n            }\n            return null;\n        }\n        includes(item) {\n            return this.cache_.has(item);\n        }\n        add(item, opt_index) {\n            if (this.includes(item)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const index = opt_index !== undefined ? opt_index : this.items_.length;\n            this.items_.splice(index, 0, item);\n            this.cache_.add(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.on('add', this.onSubListAdd_);\n                subList.emitter.on('remove', this.onSubListRemove_);\n                subList.allItems().forEach((item) => {\n                    this.cache_.add(item);\n                });\n            }\n            this.emitter.emit('add', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        remove(item) {\n            const index = this.items_.indexOf(item);\n            if (index < 0) {\n                return;\n            }\n            this.items_.splice(index, 1);\n            this.cache_.delete(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.off('add', this.onSubListAdd_);\n                subList.emitter.off('remove', this.onSubListRemove_);\n            }\n            this.emitter.emit('remove', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        onSubListAdd_(ev) {\n            this.cache_.add(ev.item);\n            this.emitter.emit('add', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n        onSubListRemove_(ev) {\n            this.cache_.delete(ev.item);\n            this.emitter.emit('remove', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n    }\n\n    class InputBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingChange_ = this.onBindingChange_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('change', this.onBindingChange_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingChange_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        }\n    }\n\n    class InputBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n        }\n    }\n\n    class MonitorBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingUpdate_ = this.onBindingUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('update', this.onBindingUpdate_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingUpdate_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        }\n    }\n\n    class MonitorBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n            this.viewProps.bindDisabled(this.binding.ticker);\n            this.viewProps.handleDispose(() => {\n                this.binding.dispose();\n            });\n        }\n    }\n\n    function findSubBladeApiSet(api) {\n        if (api instanceof RackApi) {\n            return api['apiSet_'];\n        }\n        if (api instanceof RackLikeApi) {\n            return api['rackApi_']['apiSet_'];\n        }\n        return null;\n    }\n    function getApiByController(apiSet, controller) {\n        const api = apiSet.find((api) => api.controller_ === controller);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return api;\n    }\n    function createBindingTarget(obj, key, opt_id) {\n        if (!BindingTarget.isBindable(obj)) {\n            throw TpError.notBindable();\n        }\n        return new BindingTarget(obj, key, opt_id);\n    }\n    class RackApi extends BladeApi {\n        constructor(controller, pool) {\n            super(controller);\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            this.onRackInputChange_ = this.onRackInputChange_.bind(this);\n            this.onRackMonitorUpdate_ = this.onRackMonitorUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.apiSet_ = new NestedOrderedSet(findSubBladeApiSet);\n            this.pool_ = pool;\n            const rack = this.controller_.rack;\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            rack.emitter.on('inputchange', this.onRackInputChange_);\n            rack.emitter.on('monitorupdate', this.onRackMonitorUpdate_);\n            rack.children.forEach((bc) => {\n                this.setUpApi_(bc);\n            });\n        }\n        get children() {\n            return this.controller_.rack.children.map((bc) => getApiByController(this.apiSet_, bc));\n        }\n        addInput(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createInput(doc, createBindingTarget(object, key, params.presetKey), params);\n            const api = new InputBindingApi(bc);\n            return this.add(api, params.index);\n        }\n        addMonitor(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createMonitor(doc, createBindingTarget(object, key), params);\n            const api = new MonitorBindingApi(bc);\n            return forceCast(this.add(api, params.index));\n        }\n        addFolder(params) {\n            return addFolderAsBlade(this, params);\n        }\n        addButton(params) {\n            return addButtonAsBlade(this, params);\n        }\n        addSeparator(opt_params) {\n            return addSeparatorAsBlade(this, opt_params);\n        }\n        addTab(params) {\n            return addTabAsBlade(this, params);\n        }\n        add(api, opt_index) {\n            this.controller_.rack.add(api.controller_, opt_index);\n            const gapi = this.apiSet_.find((a) => a.controller_ === api.controller_);\n            if (gapi) {\n                this.apiSet_.remove(gapi);\n            }\n            this.apiSet_.add(api);\n            return api;\n        }\n        remove(api) {\n            this.controller_.rack.remove(api.controller_);\n        }\n        addBlade(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createBlade(doc, params);\n            const api = this.pool_.createBladeApi(bc);\n            return this.add(api, params.index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpApi_(bc) {\n            const api = this.apiSet_.find((api) => api.controller_ === bc);\n            if (!api) {\n                this.apiSet_.add(this.pool_.createBladeApi(bc));\n            }\n        }\n        onRackAdd_(ev) {\n            this.setUpApi_(ev.bladeController);\n        }\n        onRackRemove_(ev) {\n            if (ev.isRoot) {\n                const api = getApiByController(this.apiSet_, ev.bladeController);\n                this.apiSet_.remove(api);\n            }\n        }\n        onRackInputChange_(ev) {\n            const bc = ev.bladeController;\n            if (bc instanceof InputBindingController) {\n                const api = getApiByController(this.apiSet_, bc);\n                const binding = bc.binding;\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n                });\n            }\n            else if (bc instanceof ValueBladeController) {\n                const api = getApiByController(this.apiSet_, bc);\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, bc.value.rawValue, undefined),\n                });\n            }\n        }\n        onRackMonitorUpdate_(ev) {\n            if (!(ev.bladeController instanceof MonitorBindingController)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = getApiByController(this.apiSet_, ev.bladeController);\n            const binding = ev.bladeController.binding;\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        }\n    }\n\n    class FolderApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.emitter_ = new Emitter();\n            this.controller_.foldable\n                .value('expanded')\n                .emitter.on('change', (ev) => {\n                this.emitter_.emit('fold', {\n                    event: new TpFoldEvent(this, ev.sender.rawValue),\n                });\n            });\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n        }\n        get expanded() {\n            return this.controller_.foldable.get('expanded');\n        }\n        set expanded(expanded) {\n            this.controller_.foldable.set('expanded', expanded);\n        }\n        get title() {\n            return this.controller_.props.get('title');\n        }\n        set title(title) {\n            this.controller_.props.set('title', title);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            return this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class RackLikeController extends BladeController {\n        constructor(config) {\n            super({\n                blade: config.blade,\n                view: config.view,\n                viewProps: config.rackController.viewProps,\n            });\n            this.rackController = config.rackController;\n        }\n    }\n\n    class PlainView {\n        constructor(doc, config) {\n            const className = ClassName(config.viewName);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n        }\n    }\n\n    function findInputBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof InputBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findMonitorBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof MonitorBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findValueBladeController(bcs, v) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof ValueBladeController && bc.value === v) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findSubRack(bc) {\n        if (bc instanceof RackController) {\n            return bc.rack;\n        }\n        if (bc instanceof RackLikeController) {\n            return bc.rackController.rack;\n        }\n        return null;\n    }\n    function findSubBladeControllerSet(bc) {\n        const rack = findSubRack(bc);\n        return rack ? rack['bcSet_'] : null;\n    }\n    class BladeRack {\n        constructor(blade) {\n            var _a;\n            this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n            this.onSetAdd_ = this.onSetAdd_.bind(this);\n            this.onSetRemove_ = this.onSetRemove_.bind(this);\n            this.onChildDispose_ = this.onChildDispose_.bind(this);\n            this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n            this.onChildInputChange_ = this.onChildInputChange_.bind(this);\n            this.onChildMonitorUpdate_ = this.onChildMonitorUpdate_.bind(this);\n            this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n            this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n            this.onDescendantLayout_ = this.onDescendantLayout_.bind(this);\n            this.onDescendantInputChange_ = this.onDescendantInputChange_.bind(this);\n            this.onDescendantMonitorUpdate_ =\n                this.onDescendantMonitorUpdate_.bind(this);\n            this.emitter = new Emitter();\n            this.blade_ = blade !== null && blade !== void 0 ? blade : null;\n            (_a = this.blade_) === null || _a === void 0 ? void 0 : _a.value('positions').emitter.on('change', this.onBladePositionsChange_);\n            this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n            this.bcSet_.emitter.on('add', this.onSetAdd_);\n            this.bcSet_.emitter.on('remove', this.onSetRemove_);\n        }\n        get children() {\n            return this.bcSet_.items;\n        }\n        add(bc, opt_index) {\n            if (bc.parent) {\n                bc.parent.remove(bc);\n            }\n            bc['parent_'] = this;\n            this.bcSet_.add(bc, opt_index);\n        }\n        remove(bc) {\n            bc['parent_'] = null;\n            this.bcSet_.remove(bc);\n        }\n        find(controllerClass) {\n            return forceCast(this.bcSet_.allItems().filter((bc) => {\n                return bc instanceof controllerClass;\n            }));\n        }\n        onSetAdd_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('add', {\n                bladeController: ev.item,\n                index: ev.index,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n            bc.blade\n                .value('positions')\n                .emitter.on('change', this.onChildPositionsChange_);\n            bc.viewProps.handleDispose(this.onChildDispose_);\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.on('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.on('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.on('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.on('layout', this.onDescendantLayout_);\n                    emitter.on('inputchange', this.onDescendantInputChange_);\n                    emitter.on('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        onSetRemove_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('remove', {\n                bladeController: ev.item,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.off('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.off('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.off('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.off('layout', this.onDescendantLayout_);\n                    emitter.off('inputchange', this.onDescendantInputChange_);\n                    emitter.off('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        updatePositions_() {\n            const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n            const firstVisibleItem = visibleItems[0];\n            const lastVisibleItem = visibleItems[visibleItems.length - 1];\n            this.bcSet_.items.forEach((bc) => {\n                const ps = [];\n                if (bc === firstVisibleItem) {\n                    ps.push('first');\n                    if (!this.blade_ ||\n                        this.blade_.get('positions').includes('veryfirst')) {\n                        ps.push('veryfirst');\n                    }\n                }\n                if (bc === lastVisibleItem) {\n                    ps.push('last');\n                    if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                        ps.push('verylast');\n                    }\n                }\n                bc.blade.set('positions', ps);\n            });\n        }\n        onChildPositionsChange_() {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildViewPropsChange_(_ev) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildDispose_() {\n            const disposedUcs = this.bcSet_.items.filter((bc) => {\n                return bc.viewProps.get('disposed');\n            });\n            disposedUcs.forEach((bc) => {\n                this.bcSet_.remove(bc);\n            });\n        }\n        onChildInputChange_(ev) {\n            const bc = findInputBindingController(this.find(InputBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                sender: this,\n            });\n        }\n        onChildMonitorUpdate_(ev) {\n            const bc = findMonitorBindingController(this.find(MonitorBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('monitorupdate', {\n                bladeController: bc,\n                sender: this,\n            });\n        }\n        onChildValueChange_(ev) {\n            const bc = findValueBladeController(this.find(ValueBladeController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                sender: this,\n            });\n        }\n        onDescendantLayout_(_) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onDescendantInputChange_(ev) {\n            this.emitter.emit('inputchange', {\n                bladeController: ev.bladeController,\n                sender: this,\n            });\n        }\n        onDescendantMonitorUpdate_(ev) {\n            this.emitter.emit('monitorupdate', {\n                bladeController: ev.bladeController,\n                sender: this,\n            });\n        }\n        onBladePositionsChange_() {\n            this.updatePositions_();\n        }\n    }\n\n    class RackController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new PlainView(doc, {\n                    viewName: 'brk',\n                    viewProps: config.viewProps,\n                }) }));\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            const rack = new BladeRack(config.root ? undefined : config.blade);\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            this.rack = rack;\n            this.viewProps.handleDispose(() => {\n                for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                    const bc = this.rack.children[i];\n                    bc.viewProps.set('disposed', true);\n                }\n            });\n        }\n        onRackAdd_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            insertElementAt(this.view.element, ev.bladeController.view.element, ev.index);\n        }\n        onRackRemove_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            removeElement(ev.bladeController.view.element);\n        }\n    }\n\n    const bladeContainerClassName = ClassName('cnt');\n\n    class FolderView {\n        constructor(doc, config) {\n            this.onFoldableExpandedChange_ = this.onFoldableExpandedChange_.bind(this);\n            this.className_ = ClassName(config.viewName || 'fld');\n            this.element = doc.createElement('div');\n            this.element.classList.add(this.className_(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            this.foldable_ = config.foldable;\n            bindValueMap(this.foldable_, 'expanded', this.onFoldableExpandedChange_);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(this.className_('b'));\n            bindValueMap(config.props, 'title', (title) => {\n                if (isEmpty(title)) {\n                    this.element.classList.add(this.className_(undefined, 'not'));\n                }\n                else {\n                    this.element.classList.remove(this.className_(undefined, 'not'));\n                }\n            });\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(this.className_('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(this.className_('m'));\n            this.buttonElement.appendChild(markElem);\n            const containerElem = config.containerElement;\n            containerElem.classList.add(this.className_('c'));\n            this.element.appendChild(containerElem);\n            this.containerElement = containerElem;\n        }\n        onFoldableExpandedChange_() {\n            const expanded = getFoldableStyleExpanded(this.foldable_);\n            const expandedClass = this.className_(undefined, 'expanded');\n            if (expanded) {\n                this.element.classList.add(expandedClass);\n            }\n            else {\n                this.element.classList.remove(expandedClass);\n            }\n        }\n    }\n\n    class FolderController extends RackLikeController {\n        constructor(doc, config) {\n            var _a;\n            const foldable = createFoldable((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n            const rc = new RackController(doc, {\n                blade: config.blade,\n                root: config.root,\n                viewProps: config.viewProps,\n            });\n            super(Object.assign(Object.assign({}, config), { rackController: rc, view: new FolderView(doc, {\n                    containerElement: rc.view.element,\n                    foldable: foldable,\n                    props: config.props,\n                    viewName: config.root ? 'rot' : undefined,\n                    viewProps: config.viewProps,\n                }) }));\n            this.onTitleClick_ = this.onTitleClick_.bind(this);\n            this.props = config.props;\n            this.foldable = foldable;\n            bindFoldable(this.foldable, this.view.containerElement);\n            this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n        }\n        get document() {\n            return this.view.element.ownerDocument;\n        }\n        onTitleClick_() {\n            this.foldable.set('expanded', !this.foldable.get('expanded'));\n        }\n    }\n\n    const FolderBladePlugin = {\n        id: 'folder',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('folder'),\n                expanded: p.optional.boolean,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new FolderController(args.document, {\n                blade: args.blade,\n                expanded: args.params.expanded,\n                props: ValueMap.fromObject({\n                    title: args.params.title,\n                }),\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof FolderController)) {\n                return null;\n            }\n            return new FolderApi(args.controller, args.pool);\n        },\n    };\n\n    class LabeledValueController extends ValueBladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { value: config.valueController.value, view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    class SeparatorApi extends BladeApi {\n    }\n\n    const className$n = ClassName('spr');\n    class SeparatorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$n());\n            config.viewProps.bindClassModifiers(this.element);\n            const hrElem = doc.createElement('hr');\n            hrElem.classList.add(className$n('r'));\n            this.element.appendChild(hrElem);\n        }\n    }\n\n    class SeparatorController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new SeparatorView(doc, {\n                    viewProps: config.viewProps,\n                }) }));\n        }\n    }\n\n    const SeparatorBladePlugin = {\n        id: 'separator',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                view: p.required.constant('separator'),\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new SeparatorController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof SeparatorController)) {\n                return null;\n            }\n            return new SeparatorApi(args.controller);\n        },\n    };\n\n    const className$m = ClassName('');\n    function valueToModifier(elem, modifier) {\n        return valueToClassName(elem, className$m(undefined, modifier));\n    }\n    class ViewProps extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(opt_initialValue) {\n            var _a, _b;\n            const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n            const coreObj = {\n                disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n                disposed: false,\n                hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new ViewProps(core);\n        }\n        bindClassModifiers(elem) {\n            bindValueMap(this, 'disabled', valueToModifier(elem, 'disabled'));\n            bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n        }\n        bindDisabled(target) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                target.disabled = disabled;\n            });\n        }\n        bindTabIndex(elem) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                elem.tabIndex = disabled ? -1 : 0;\n            });\n        }\n        handleDispose(callback) {\n            this.value('disposed').emitter.on('change', (disposed) => {\n                if (disposed) {\n                    callback();\n                }\n            });\n        }\n    }\n\n    const className$l = ClassName('tbi');\n    class TabItemView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$l());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValueMap(config.props, 'selected', (selected) => {\n                if (selected) {\n                    this.element.classList.add(className$l(undefined, 'sel'));\n                }\n                else {\n                    this.element.classList.remove(className$l(undefined, 'sel'));\n                }\n            });\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$l('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$l('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n        }\n    }\n\n    class TabItemController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new TabItemView(doc, {\n                props: config.props,\n                viewProps: config.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class TabPageController {\n        constructor(doc, config) {\n            this.onItemClick_ = this.onItemClick_.bind(this);\n            this.ic_ = new TabItemController(doc, {\n                props: config.itemProps,\n                viewProps: ViewProps.create(),\n            });\n            this.ic_.emitter.on('click', this.onItemClick_);\n            this.cc_ = new RackController(doc, {\n                blade: createBlade(),\n                viewProps: ViewProps.create(),\n            });\n            this.props = config.props;\n            bindValueMap(this.props, 'selected', (selected) => {\n                this.itemController.props.set('selected', selected);\n                this.contentController.viewProps.set('hidden', !selected);\n            });\n        }\n        get itemController() {\n            return this.ic_;\n        }\n        get contentController() {\n            return this.cc_;\n        }\n        onItemClick_() {\n            this.props.set('selected', true);\n        }\n    }\n\n    class TabPageApi {\n        constructor(controller, contentRackApi) {\n            this.controller_ = controller;\n            this.rackApi_ = contentRackApi;\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.itemController.props.set('title', title);\n        }\n        get selected() {\n            return this.controller_.props.get('selected');\n        }\n        set selected(selected) {\n            this.controller_.props.set('selected', selected);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n    }\n\n    class TabApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.emitter_ = new Emitter();\n            this.pageApiMap_ = new Map();\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n            this.controller_.pageSet.emitter.on('add', this.onPageAdd_);\n            this.controller_.pageSet.emitter.on('remove', this.onPageRemove_);\n            this.controller_.pageSet.items.forEach((pc) => {\n                this.setUpPageApi_(pc);\n            });\n        }\n        get pages() {\n            return this.controller_.pageSet.items.map((pc) => {\n                const api = this.pageApiMap_.get(pc);\n                if (!api) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return api;\n            });\n        }\n        addPage(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const pc = new TabPageController(doc, {\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: params.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n            });\n            this.controller_.add(pc, params.index);\n            const api = this.pageApiMap_.get(pc);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n        removePage(index) {\n            this.controller_.remove(index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpPageApi_(pc) {\n            const rackApi = this.rackApi_['apiSet_'].find((api) => api.controller_ === pc.contentController);\n            if (!rackApi) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = new TabPageApi(pc, rackApi);\n            this.pageApiMap_.set(pc, api);\n        }\n        onPageAdd_(ev) {\n            this.setUpPageApi_(ev.item);\n        }\n        onPageRemove_(ev) {\n            const api = this.pageApiMap_.get(ev.item);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.pageApiMap_.delete(ev.item);\n        }\n    }\n\n    const className$k = ClassName('tab');\n    class TabView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$k(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.empty, valueToClassName(this.element, className$k(undefined, 'nop')));\n            const itemsElem = doc.createElement('div');\n            itemsElem.classList.add(className$k('i'));\n            this.element.appendChild(itemsElem);\n            this.itemsElement = itemsElem;\n            const contentsElem = config.contentsElement;\n            contentsElem.classList.add(className$k('c'));\n            this.element.appendChild(contentsElem);\n            this.contentsElement = contentsElem;\n        }\n    }\n\n    class TabController extends RackLikeController {\n        constructor(doc, config) {\n            const cr = new RackController(doc, {\n                blade: config.blade,\n                viewProps: config.viewProps,\n            });\n            const empty = createValue(true);\n            super({\n                blade: config.blade,\n                rackController: cr,\n                view: new TabView(doc, {\n                    contentsElement: cr.view.element,\n                    empty: empty,\n                    viewProps: config.viewProps,\n                }),\n            });\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.onPageSelectedChange_ = this.onPageSelectedChange_.bind(this);\n            this.pageSet_ = new NestedOrderedSet(() => null);\n            this.pageSet_.emitter.on('add', this.onPageAdd_);\n            this.pageSet_.emitter.on('remove', this.onPageRemove_);\n            this.empty_ = empty;\n            this.applyPages_();\n        }\n        get pageSet() {\n            return this.pageSet_;\n        }\n        add(pc, opt_index) {\n            this.pageSet_.add(pc, opt_index !== null && opt_index !== void 0 ? opt_index : this.pageSet_.items.length);\n        }\n        remove(index) {\n            this.pageSet_.remove(this.pageSet_.items[index]);\n        }\n        applyPages_() {\n            this.keepSelection_();\n            this.empty_.rawValue = this.pageSet_.items.length === 0;\n        }\n        onPageAdd_(ev) {\n            const pc = ev.item;\n            insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n            this.rackController.rack.add(pc.contentController, ev.index);\n            pc.props.value('selected').emitter.on('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        onPageRemove_(ev) {\n            const pc = ev.item;\n            removeElement(pc.itemController.view.element);\n            this.rackController.rack.remove(pc.contentController);\n            pc.props\n                .value('selected')\n                .emitter.off('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        keepSelection_() {\n            if (this.pageSet_.items.length === 0) {\n                return;\n            }\n            const firstSelIndex = this.pageSet_.items.findIndex((pc) => pc.props.get('selected'));\n            if (firstSelIndex < 0) {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === 0);\n                });\n            }\n            else {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === firstSelIndex);\n                });\n            }\n        }\n        onPageSelectedChange_(ev) {\n            if (ev.rawValue) {\n                const index = this.pageSet_.items.findIndex((pc) => pc.props.value('selected') === ev.sender);\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === index);\n                });\n            }\n            else {\n                this.keepSelection_();\n            }\n        }\n    }\n\n    const TabBladePlugin = {\n        id: 'tab',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                pages: p.required.array(p.required.object({ title: p.required.string })),\n                view: p.required.constant('tab'),\n            });\n            if (!result || result.pages.length === 0) {\n                return null;\n            }\n            return { params: result };\n        },\n        controller(args) {\n            const c = new TabController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n            args.params.pages.forEach((p) => {\n                const pc = new TabPageController(args.document, {\n                    itemProps: ValueMap.fromObject({\n                        selected: false,\n                        title: p.title,\n                    }),\n                    props: ValueMap.fromObject({\n                        selected: false,\n                    }),\n                });\n                c.add(pc);\n            });\n            return c;\n        },\n        api(args) {\n            if (!(args.controller instanceof TabController)) {\n                return null;\n            }\n            return new TabApi(args.controller, args.pool);\n        },\n    };\n\n    function createBladeController(plugin, args) {\n        const ac = plugin.accept(args.params);\n        if (!ac) {\n            return null;\n        }\n        const disabled = ParamsParsers.optional.boolean(args.params['disabled']).value;\n        const hidden = ParamsParsers.optional.boolean(args.params['hidden']).value;\n        return plugin.controller({\n            blade: createBlade(),\n            document: args.document,\n            params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: disabled, hidden: hidden })),\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n    }\n\n    class ManualTicker {\n        constructor() {\n            this.disabled = false;\n            this.emitter = new Emitter();\n        }\n        dispose() { }\n        tick() {\n            if (this.disabled) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class CompositeConstraint {\n        constructor(constraints) {\n            this.constraints = constraints;\n        }\n        constrain(value) {\n            return this.constraints.reduce((result, c) => {\n                return c.constrain(result);\n            }, value);\n        }\n    }\n    function findConstraint(c, constraintClass) {\n        if (c instanceof constraintClass) {\n            return c;\n        }\n        if (c instanceof CompositeConstraint) {\n            const result = c.constraints.reduce((tmpResult, sc) => {\n                if (tmpResult) {\n                    return tmpResult;\n                }\n                return sc instanceof constraintClass ? sc : null;\n            }, null);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    class ListConstraint {\n        constructor(options) {\n            this.options = options;\n        }\n        constrain(value) {\n            const opts = this.options;\n            if (opts.length === 0) {\n                return value;\n            }\n            const matched = opts.filter((item) => {\n                return item.value === value;\n            }).length > 0;\n            return matched ? value : opts[0].value;\n        }\n    }\n\n    class RangeConstraint {\n        constructor(config) {\n            this.maxValue = config.max;\n            this.minValue = config.min;\n        }\n        constrain(value) {\n            let result = value;\n            if (!isEmpty(this.minValue)) {\n                result = Math.max(result, this.minValue);\n            }\n            if (!isEmpty(this.maxValue)) {\n                result = Math.min(result, this.maxValue);\n            }\n            return result;\n        }\n    }\n\n    class StepConstraint {\n        constructor(step) {\n            this.step = step;\n        }\n        constrain(value) {\n            const r = value < 0\n                ? -Math.round(-value / this.step)\n                : Math.round(value / this.step);\n            return r * this.step;\n        }\n    }\n\n    const className$j = ClassName('lst');\n    class ListView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.props_ = config.props;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$j());\n            config.viewProps.bindClassModifiers(this.element);\n            const selectElem = doc.createElement('select');\n            selectElem.classList.add(className$j('s'));\n            bindValueMap(this.props_, 'options', (opts) => {\n                removeChildElements(selectElem);\n                opts.forEach((item, index) => {\n                    const optionElem = doc.createElement('option');\n                    optionElem.dataset.index = String(index);\n                    optionElem.textContent = item.text;\n                    optionElem.value = String(item.value);\n                    selectElem.appendChild(optionElem);\n                });\n            });\n            config.viewProps.bindDisabled(selectElem);\n            this.element.appendChild(selectElem);\n            this.selectElement = selectElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(className$j('m'));\n            markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            this.element.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value_ = config.value;\n            this.update_();\n        }\n        update_() {\n            this.selectElement.value = String(this.value_.rawValue);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ListController {\n        constructor(doc, config) {\n            this.onSelectChange_ = this.onSelectChange_.bind(this);\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ListView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.selectElement.addEventListener('change', this.onSelectChange_);\n        }\n        onSelectChange_(e) {\n            const selectElem = forceCast(e.currentTarget);\n            const optElem = selectElem.selectedOptions.item(0);\n            if (!optElem) {\n                return;\n            }\n            const itemIndex = Number(optElem.dataset.index);\n            this.value.rawValue = this.props.get('options')[itemIndex].value;\n        }\n    }\n\n    const className$i = ClassName('pop');\n    class PopupView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$i());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.shows, valueToClassName(this.element, className$i(undefined, 'v')));\n        }\n    }\n\n    class PopupController {\n        constructor(doc, config) {\n            this.shows = createValue(false);\n            this.viewProps = config.viewProps;\n            this.view = new PopupView(doc, {\n                shows: this.shows,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$h = ClassName('txt');\n    class TextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$h());\n            config.viewProps.bindClassModifiers(this.element);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$h('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value_ = config.value;\n            this.refresh();\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value_.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class TextController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new TextView(doc, {\n                props: config.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n    }\n\n    function boolToString(value) {\n        return String(value);\n    }\n    function boolFromUnknown(value) {\n        if (value === 'false') {\n            return false;\n        }\n        return !!value;\n    }\n    function BooleanFormatter(value) {\n        return boolToString(value);\n    }\n\n    class NumberLiteralNode {\n        constructor(text) {\n            this.text = text;\n        }\n        evaluate() {\n            return Number(this.text);\n        }\n        toString() {\n            return this.text;\n        }\n    }\n    const BINARY_OPERATION_MAP = {\n        '**': (v1, v2) => Math.pow(v1, v2),\n        '*': (v1, v2) => v1 * v2,\n        '/': (v1, v2) => v1 / v2,\n        '%': (v1, v2) => v1 % v2,\n        '+': (v1, v2) => v1 + v2,\n        '-': (v1, v2) => v1 - v2,\n        '<<': (v1, v2) => v1 << v2,\n        '>>': (v1, v2) => v1 >> v2,\n        '>>>': (v1, v2) => v1 >>> v2,\n        '&': (v1, v2) => v1 & v2,\n        '^': (v1, v2) => v1 ^ v2,\n        '|': (v1, v2) => v1 | v2,\n    };\n    class BinaryOperationNode {\n        constructor(operator, left, right) {\n            this.left = left;\n            this.operator = operator;\n            this.right = right;\n        }\n        evaluate() {\n            const op = BINARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected binary operator: '${this.operator}`);\n            }\n            return op(this.left.evaluate(), this.right.evaluate());\n        }\n        toString() {\n            return [\n                'b(',\n                this.left.toString(),\n                this.operator,\n                this.right.toString(),\n                ')',\n            ].join(' ');\n        }\n    }\n    const UNARY_OPERATION_MAP = {\n        '+': (v) => v,\n        '-': (v) => -v,\n        '~': (v) => ~v,\n    };\n    class UnaryOperationNode {\n        constructor(operator, expr) {\n            this.operator = operator;\n            this.expression = expr;\n        }\n        evaluate() {\n            const op = UNARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected unary operator: '${this.operator}`);\n            }\n            return op(this.expression.evaluate());\n        }\n        toString() {\n            return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n        }\n    }\n\n    function combineReader(parsers) {\n        return (text, cursor) => {\n            for (let i = 0; i < parsers.length; i++) {\n                const result = parsers[i](text, cursor);\n                if (result !== '') {\n                    return result;\n                }\n            }\n            return '';\n        };\n    }\n    function readWhitespace(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^\\s+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readNonZeroDigit(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        return ch.match(/^[1-9]$/) ? ch : '';\n    }\n    function readDecimalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readSignedInteger(text, cursor) {\n        const ds = readDecimalDigits(text, cursor);\n        if (ds !== '') {\n            return ds;\n        }\n        const sign = text.substr(cursor, 1);\n        cursor += 1;\n        if (sign !== '-' && sign !== '+') {\n            return '';\n        }\n        const sds = readDecimalDigits(text, cursor);\n        if (sds === '') {\n            return '';\n        }\n        return sign + sds;\n    }\n    function readExponentPart(text, cursor) {\n        const e = text.substr(cursor, 1);\n        cursor += 1;\n        if (e.toLowerCase() !== 'e') {\n            return '';\n        }\n        const si = readSignedInteger(text, cursor);\n        if (si === '') {\n            return '';\n        }\n        return e + si;\n    }\n    function readDecimalIntegerLiteral(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        if (ch === '0') {\n            return ch;\n        }\n        const nzd = readNonZeroDigit(text, cursor);\n        cursor += nzd.length;\n        if (nzd === '') {\n            return '';\n        }\n        return nzd + readDecimalDigits(text, cursor);\n    }\n    function readDecimalLiteral1(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        return dil + dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral2(text, cursor) {\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        if (dds === '') {\n            return '';\n        }\n        return dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral3(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        return dil + readExponentPart(text, cursor);\n    }\n    const readDecimalLiteral = combineReader([\n        readDecimalLiteral1,\n        readDecimalLiteral2,\n        readDecimalLiteral3,\n    ]);\n    function parseBinaryDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[01]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readBinaryIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0b') {\n            return '';\n        }\n        const bds = parseBinaryDigits(text, cursor);\n        if (bds === '') {\n            return '';\n        }\n        return prefix + bds;\n    }\n    function readOctalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-7]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readOctalIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0o') {\n            return '';\n        }\n        const ods = readOctalDigits(text, cursor);\n        if (ods === '') {\n            return '';\n        }\n        return prefix + ods;\n    }\n    function readHexDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readHexIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0x') {\n            return '';\n        }\n        const hds = readHexDigits(text, cursor);\n        if (hds === '') {\n            return '';\n        }\n        return prefix + hds;\n    }\n    const readNonDecimalIntegerLiteral = combineReader([\n        readBinaryIntegerLiteral,\n        readOctalIntegerLiteral,\n        readHexIntegerLiteral,\n    ]);\n    const readNumericLiteral = combineReader([\n        readNonDecimalIntegerLiteral,\n        readDecimalLiteral,\n    ]);\n\n    function parseLiteral(text, cursor) {\n        const num = readNumericLiteral(text, cursor);\n        cursor += num.length;\n        if (num === '') {\n            return null;\n        }\n        return {\n            evaluable: new NumberLiteralNode(num),\n            cursor: cursor,\n        };\n    }\n    function parseParenthesizedExpression(text, cursor) {\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '(') {\n            return null;\n        }\n        const expr = parseExpression(text, cursor);\n        if (!expr) {\n            return null;\n        }\n        cursor = expr.cursor;\n        cursor += readWhitespace(text, cursor).length;\n        const cl = text.substr(cursor, 1);\n        cursor += cl.length;\n        if (cl !== ')') {\n            return null;\n        }\n        return {\n            evaluable: expr.evaluable,\n            cursor: cursor,\n        };\n    }\n    function parsePrimaryExpression(text, cursor) {\n        return (parseLiteral(text, cursor) || parseParenthesizedExpression(text, cursor));\n    }\n    function parseUnaryExpression(text, cursor) {\n        const expr = parsePrimaryExpression(text, cursor);\n        if (expr) {\n            return expr;\n        }\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '+' && op !== '-' && op !== '~') {\n            return null;\n        }\n        const num = parseUnaryExpression(text, cursor);\n        if (!num) {\n            return null;\n        }\n        cursor = num.cursor;\n        return {\n            cursor: cursor,\n            evaluable: new UnaryOperationNode(op, num.evaluable),\n        };\n    }\n    function readBinaryOperator(ops, text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n        if (!op) {\n            return null;\n        }\n        cursor += op.length;\n        cursor += readWhitespace(text, cursor).length;\n        return {\n            cursor: cursor,\n            operator: op,\n        };\n    }\n    function createBinaryOperationExpressionParser(exprParser, ops) {\n        return (text, cursor) => {\n            const firstExpr = exprParser(text, cursor);\n            if (!firstExpr) {\n                return null;\n            }\n            cursor = firstExpr.cursor;\n            let expr = firstExpr.evaluable;\n            for (;;) {\n                const op = readBinaryOperator(ops, text, cursor);\n                if (!op) {\n                    break;\n                }\n                cursor = op.cursor;\n                const nextExpr = exprParser(text, cursor);\n                if (!nextExpr) {\n                    return null;\n                }\n                cursor = nextExpr.cursor;\n                expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n            }\n            return expr\n                ? {\n                    cursor: cursor,\n                    evaluable: expr,\n                }\n                : null;\n        };\n    }\n    const parseBinaryOperationExpression = [\n        ['**'],\n        ['*', '/', '%'],\n        ['+', '-'],\n        ['<<', '>>>', '>>'],\n        ['&'],\n        ['^'],\n        ['|'],\n    ].reduce((parser, ops) => {\n        return createBinaryOperationExpressionParser(parser, ops);\n    }, parseUnaryExpression);\n    function parseExpression(text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        return parseBinaryOperationExpression(text, cursor);\n    }\n    function parseEcmaNumberExpression(text) {\n        const expr = parseExpression(text, 0);\n        if (!expr) {\n            return null;\n        }\n        const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n        if (cursor !== text.length) {\n            return null;\n        }\n        return expr.evaluable;\n    }\n\n    function parseNumber(text) {\n        var _a;\n        const r = parseEcmaNumberExpression(text);\n        return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n    }\n    function numberFromUnknown(value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'string') {\n            const pv = parseNumber(value);\n            if (!isEmpty(pv)) {\n                return pv;\n            }\n        }\n        return 0;\n    }\n    function numberToString(value) {\n        return String(value);\n    }\n    function createNumberFormatter(digits) {\n        return (value) => {\n            return value.toFixed(Math.max(Math.min(digits, 20), 0));\n        };\n    }\n\n    const innerFormatter = createNumberFormatter(0);\n    function formatPercentage(value) {\n        return innerFormatter(value) + '%';\n    }\n\n    function stringFromUnknown(value) {\n        return String(value);\n    }\n    function formatString(value) {\n        return value;\n    }\n\n    function fillBuffer(buffer, bufferSize) {\n        while (buffer.length < bufferSize) {\n            buffer.push(undefined);\n        }\n    }\n    function initializeBuffer(bufferSize) {\n        const buffer = [];\n        fillBuffer(buffer, bufferSize);\n        return createValue(buffer);\n    }\n    function createTrimmedBuffer(buffer) {\n        const index = buffer.indexOf(undefined);\n        return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n    }\n    function createPushedBuffer(buffer, newValue) {\n        const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n        if (newBuffer.length > buffer.length) {\n            newBuffer.splice(0, newBuffer.length - buffer.length);\n        }\n        else {\n            fillBuffer(newBuffer, buffer.length);\n        }\n        return newBuffer;\n    }\n\n    function connectValues({ primary, secondary, forward, backward, }) {\n        let changing = false;\n        function preventFeedback(callback) {\n            if (changing) {\n                return;\n            }\n            changing = true;\n            callback();\n            changing = false;\n        }\n        primary.emitter.on('change', () => {\n            preventFeedback(() => {\n                secondary.rawValue = forward(primary, secondary);\n            });\n        });\n        secondary.emitter.on('change', () => {\n            preventFeedback(() => {\n                primary.rawValue = backward(primary, secondary);\n            });\n            preventFeedback(() => {\n                secondary.rawValue = forward(primary, secondary);\n            });\n        });\n        preventFeedback(() => {\n            secondary.rawValue = forward(primary, secondary);\n        });\n    }\n\n    function getStepForKey(baseStep, keys) {\n        const step = baseStep * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n        if (keys.upKey) {\n            return +step;\n        }\n        else if (keys.downKey) {\n            return -step;\n        }\n        return 0;\n    }\n    function getVerticalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowDown',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowUp',\n        };\n    }\n    function getHorizontalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowLeft',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowRight',\n        };\n    }\n    function isVerticalArrowKey(key) {\n        return key === 'ArrowUp' || key === 'ArrowDown';\n    }\n    function isArrowKey(key) {\n        return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n    }\n\n    function computeOffset(ev, elem) {\n        const win = elem.ownerDocument.defaultView;\n        const rect = elem.getBoundingClientRect();\n        return {\n            x: ev.pageX - (((win && win.scrollX) || 0) + rect.left),\n            y: ev.pageY - (((win && win.scrollY) || 0) + rect.top),\n        };\n    }\n    class PointerHandler {\n        constructor(element) {\n            this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n            this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n            this.onMouseDown_ = this.onMouseDown_.bind(this);\n            this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n            this.onTouchMove_ = this.onTouchMove_.bind(this);\n            this.onTouchStart_ = this.onTouchStart_.bind(this);\n            this.elem_ = element;\n            this.emitter = new Emitter();\n            const doc = this.elem_.ownerDocument;\n            if (supportsTouch(doc)) {\n                element.addEventListener('touchstart', this.onTouchStart_);\n                element.addEventListener('touchmove', this.onTouchMove_);\n                element.addEventListener('touchend', this.onTouchEnd_);\n            }\n            else {\n                element.addEventListener('mousedown', this.onMouseDown_);\n            }\n        }\n        computePosition_(offset) {\n            const rect = this.elem_.getBoundingClientRect();\n            return {\n                bounds: {\n                    width: rect.width,\n                    height: rect.height,\n                },\n                point: offset\n                    ? {\n                        x: offset.x,\n                        y: offset.y,\n                    }\n                    : null,\n            };\n        }\n        onMouseDown_(ev) {\n            var _a;\n            ev.preventDefault();\n            (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n            const doc = this.elem_.ownerDocument;\n            doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseMove_(ev) {\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseUp_(ev) {\n            const doc = this.elem_.ownerDocument;\n            doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onTouchStart_(ev) {\n            ev.preventDefault();\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onTouchMove_(ev) {\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onTouchEnd_(ev) {\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n    }\n\n    function mapRange(value, start1, end1, start2, end2) {\n        const p = (value - start1) / (end1 - start1);\n        return start2 + p * (end2 - start2);\n    }\n    function getDecimalDigits(value) {\n        const text = String(value.toFixed(10));\n        const frac = text.split('.')[1];\n        return frac.replace(/0+$/, '').length;\n    }\n    function constrainRange(value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    }\n    function loopRange(value, max) {\n        return ((value % max) + max) % max;\n    }\n\n    const className$g = ClassName('txt');\n    class NumberTextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$g(), className$g(undefined, 'num'));\n            if (config.arrayPosition) {\n                this.element.classList.add(className$g(undefined, config.arrayPosition));\n            }\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$g('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n            this.dragging_ = config.dragging;\n            this.dragging_.emitter.on('change', this.onDraggingChange_);\n            this.element.classList.add(className$g());\n            this.inputElement.classList.add(className$g('i'));\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$g('k'));\n            this.element.appendChild(knobElem);\n            this.knobElement = knobElem;\n            const guideElem = doc.createElementNS(SVG_NS, 'svg');\n            guideElem.classList.add(className$g('g'));\n            this.knobElement.appendChild(guideElem);\n            const bodyElem = doc.createElementNS(SVG_NS, 'path');\n            bodyElem.classList.add(className$g('gb'));\n            guideElem.appendChild(bodyElem);\n            this.guideBodyElem_ = bodyElem;\n            const headElem = doc.createElementNS(SVG_NS, 'path');\n            headElem.classList.add(className$g('gh'));\n            guideElem.appendChild(headElem);\n            this.guideHeadElem_ = headElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(ClassName('tt')());\n            this.knobElement.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.refresh();\n        }\n        onDraggingChange_(ev) {\n            if (ev.rawValue === null) {\n                this.element.classList.remove(className$g(undefined, 'drg'));\n                return;\n            }\n            this.element.classList.add(className$g(undefined, 'drg'));\n            const x = ev.rawValue / this.props_.get('draggingScale');\n            const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n            const adx = constrainRange(-aox, -4, +4);\n            this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n            this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n            const formatter = this.props_.get('formatter');\n            this.tooltipElem_.textContent = formatter(this.value.rawValue);\n            this.tooltipElem_.style.left = `${x}px`;\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class NumberTextController {\n        constructor(doc, config) {\n            this.originRawValue_ = 0;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.dragging_ = createValue(null);\n            this.view = new NumberTextView(doc, {\n                arrayPosition: config.arrayPosition,\n                dragging: this.dragging_,\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n            this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n            const ph = new PointerHandler(this.view.knobElement);\n            ph.emitter.on('down', this.onPointerDown_);\n            ph.emitter.on('move', this.onPointerMove_);\n            ph.emitter.on('up', this.onPointerUp_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n        onInputKeyDown_(e) {\n            const step = getStepForKey(this.baseStep_, getVerticalStepKeys(e));\n            if (step !== 0) {\n                this.value.rawValue += step;\n            }\n        }\n        onPointerDown_() {\n            this.originRawValue_ = this.value.rawValue;\n            this.dragging_.rawValue = 0;\n        }\n        onPointerMove_(ev) {\n            if (!ev.data.point) {\n                return;\n            }\n            const dx = ev.data.point.x - ev.data.bounds.width / 2;\n            this.value.rawValue =\n                this.originRawValue_ + dx * this.props.get('draggingScale');\n            this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n        }\n        onPointerUp_() {\n            this.dragging_.rawValue = null;\n        }\n    }\n\n    const className$f = ClassName('sld');\n    class SliderView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$f());\n            config.viewProps.bindClassModifiers(this.element);\n            const trackElem = doc.createElement('div');\n            trackElem.classList.add(className$f('t'));\n            config.viewProps.bindTabIndex(trackElem);\n            this.element.appendChild(trackElem);\n            this.trackElement = trackElem;\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$f('k'));\n            this.trackElement.appendChild(knobElem);\n            this.knobElement = knobElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('minValue'), this.props_.get('maxValue'), 0, 100), 0, 100);\n            this.knobElement.style.width = `${p}%`;\n        }\n        onChange_() {\n            this.update_();\n        }\n    }\n\n    class SliderController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPoint_ = this.onPoint_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.props = config.props;\n            this.view = new SliderView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.trackElement);\n            this.ptHandler_.emitter.on('down', this.onPoint_);\n            this.ptHandler_.emitter.on('move', this.onPoint_);\n            this.ptHandler_.emitter.on('up', this.onPoint_);\n            this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d) {\n            if (!d.point) {\n                return;\n            }\n            this.value.rawValue = mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('minValue'), this.props.get('maxValue'));\n        }\n        onPoint_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onKeyDown_(ev) {\n            this.value.rawValue += getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n        }\n    }\n\n    const className$e = ClassName('sldtxt');\n    class SliderTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$e());\n            const sliderElem = doc.createElement('div');\n            sliderElem.classList.add(className$e('s'));\n            this.sliderView_ = config.sliderView;\n            sliderElem.appendChild(this.sliderView_.element);\n            this.element.appendChild(sliderElem);\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$e('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n    }\n\n    class SliderTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.sliderC_ = new SliderController(doc, {\n                baseStep: config.baseStep,\n                props: config.sliderProps,\n                value: config.value,\n                viewProps: this.viewProps,\n            });\n            this.textC_ = new NumberTextController(doc, {\n                baseStep: config.baseStep,\n                parser: config.parser,\n                props: config.textProps,\n                value: config.value,\n                viewProps: config.viewProps,\n            });\n            this.view = new SliderTextView(doc, {\n                sliderView: this.sliderC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get sliderController() {\n            return this.sliderC_;\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    function writePrimitive(target, value) {\n        target.write(value);\n    }\n\n    function parseListOptions(value) {\n        const p = ParamsParsers;\n        if (Array.isArray(value)) {\n            return p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            }))(value).value;\n        }\n        if (typeof value === 'object') {\n            return p.required.raw(value)\n                .value;\n        }\n        return undefined;\n    }\n    function parsePickerLayout(value) {\n        if (value === 'inline' || value === 'popup') {\n            return value;\n        }\n        return undefined;\n    }\n    function parsePointDimensionParams(value) {\n        const p = ParamsParsers;\n        return p.required.object({\n            max: p.optional.number,\n            min: p.optional.number,\n            step: p.optional.number,\n        })(value).value;\n    }\n    function normalizeListOptions(options) {\n        if (Array.isArray(options)) {\n            return options;\n        }\n        const items = [];\n        Object.keys(options).forEach((text) => {\n            items.push({ text: text, value: options[text] });\n        });\n        return items;\n    }\n    function createListConstraint(options) {\n        return !isEmpty(options)\n            ? new ListConstraint(normalizeListOptions(forceCast(options)))\n            : null;\n    }\n    function findListItems(constraint) {\n        const c = constraint\n            ? findConstraint(constraint, ListConstraint)\n            : null;\n        if (!c) {\n            return null;\n        }\n        return c.options;\n    }\n    function findStep(constraint) {\n        const c = constraint ? findConstraint(constraint, StepConstraint) : null;\n        if (!c) {\n            return null;\n        }\n        return c.step;\n    }\n    function getSuitableDecimalDigits(constraint, rawValue) {\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        if (sc) {\n            return getDecimalDigits(sc.step);\n        }\n        return Math.max(getDecimalDigits(rawValue), 2);\n    }\n    function getBaseStep(constraint) {\n        const step = findStep(constraint);\n        return step !== null && step !== void 0 ? step : 1;\n    }\n    function getSuitableDraggingScale(constraint, rawValue) {\n        var _a;\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        const base = Math.abs((_a = sc === null || sc === void 0 ? void 0 : sc.step) !== null && _a !== void 0 ? _a : rawValue);\n        return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n    }\n\n    const className$d = ClassName('ckb');\n    class CheckboxView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$d());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('label');\n            labelElem.classList.add(className$d('l'));\n            this.element.appendChild(labelElem);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$d('i'));\n            inputElem.type = 'checkbox';\n            labelElem.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.viewProps.bindDisabled(this.inputElement);\n            const wrapperElem = doc.createElement('div');\n            wrapperElem.classList.add(className$d('w'));\n            labelElem.appendChild(wrapperElem);\n            const markElem = createSvgIconElement(doc, 'check');\n            wrapperElem.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            this.inputElement.checked = this.value.rawValue;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class CheckboxController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new CheckboxView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            this.value.rawValue = inputElem.checked;\n        }\n    }\n\n    function createConstraint$5(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const BooleanInputPlugin = {\n        id: 'input-bool',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n            constraint: (args) => createConstraint$5(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new CheckboxController(doc, {\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const className$c = ClassName('col');\n    class ColorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$c());\n            bindValue(config.expanded, valueToClassName(this.element, className$c(undefined, 'expanded')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$c('h'));\n            this.element.appendChild(headElem);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$c('s'));\n            headElem.appendChild(swatchElem);\n            this.swatchElement = swatchElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$c('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$c('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    function rgbToHsl(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const c = cmax - cmin;\n        let h = 0;\n        let s = 0;\n        const l = (cmin + cmax) / 2;\n        if (c !== 0) {\n            s = c / (1 - Math.abs(cmax + cmin - 1));\n            if (rp === cmax) {\n                h = (gp - bp) / c;\n            }\n            else if (gp === cmax) {\n                h = 2 + (bp - rp) / c;\n            }\n            else {\n                h = 4 + (rp - gp) / c;\n            }\n            h = h / 6 + (h < 0 ? 1 : 0);\n        }\n        return [h * 360, s * 100, l * 100];\n    }\n    function hslToRgb(h, s, l) {\n        const hp = ((h % 360) + 360) % 360;\n        const sp = constrainRange(s / 100, 0, 1);\n        const lp = constrainRange(l / 100, 0, 1);\n        const c = (1 - Math.abs(2 * lp - 1)) * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = lp - c / 2;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function rgbToHsv(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const d = cmax - cmin;\n        let h;\n        if (d === 0) {\n            h = 0;\n        }\n        else if (cmax === rp) {\n            h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n        }\n        else if (cmax === gp) {\n            h = 60 * ((bp - rp) / d + 2);\n        }\n        else {\n            h = 60 * ((rp - gp) / d + 4);\n        }\n        const s = cmax === 0 ? 0 : d / cmax;\n        const v = cmax;\n        return [h, s * 100, v * 100];\n    }\n    function hsvToRgb(h, s, v) {\n        const hp = loopRange(h, 360);\n        const sp = constrainRange(s / 100, 0, 1);\n        const vp = constrainRange(v / 100, 0, 1);\n        const c = vp * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = vp - c;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function hslToHsv(h, s, l) {\n        const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n        return [\n            h,\n            sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n            l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n        ];\n    }\n    function hsvToHsl(h, s, v) {\n        const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n        return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n    }\n    function removeAlphaComponent(comps) {\n        return [comps[0], comps[1], comps[2]];\n    }\n    function appendAlphaComponent(comps, alpha) {\n        return [comps[0], comps[1], comps[2], alpha];\n    }\n    const MODE_CONVERTER_MAP = {\n        hsl: {\n            hsl: (h, s, l) => [h, s, l],\n            hsv: hslToHsv,\n            rgb: hslToRgb,\n        },\n        hsv: {\n            hsl: hsvToHsl,\n            hsv: (h, s, v) => [h, s, v],\n            rgb: hsvToRgb,\n        },\n        rgb: {\n            hsl: rgbToHsl,\n            hsv: rgbToHsv,\n            rgb: (r, g, b) => [r, g, b],\n        },\n    };\n    function convertColorMode(components, fromMode, toMode) {\n        return MODE_CONVERTER_MAP[fromMode][toMode](...components);\n    }\n\n    const CONSTRAINT_MAP = {\n        hsl: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        hsv: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        rgb: (comps) => {\n            var _a;\n            return [\n                constrainRange(comps[0], 0, 255),\n                constrainRange(comps[1], 0, 255),\n                constrainRange(comps[2], 0, 255),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n    };\n    function isRgbColorComponent(obj, key) {\n        if (typeof obj !== 'object' || isEmpty(obj)) {\n            return false;\n        }\n        return key in obj && typeof obj[key] === 'number';\n    }\n    class Color {\n        constructor(comps, mode) {\n            this.mode_ = mode;\n            this.comps_ = CONSTRAINT_MAP[mode](comps);\n        }\n        static black() {\n            return new Color([0, 0, 0], 'rgb');\n        }\n        static fromObject(obj) {\n            const comps = 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n            return new Color(comps, 'rgb');\n        }\n        static toRgbaObject(color) {\n            return color.toRgbaObject();\n        }\n        static isRgbColorObject(obj) {\n            return (isRgbColorComponent(obj, 'r') &&\n                isRgbColorComponent(obj, 'g') &&\n                isRgbColorComponent(obj, 'b'));\n        }\n        static isRgbaColorObject(obj) {\n            return this.isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n        }\n        static isColorObject(obj) {\n            return this.isRgbColorObject(obj);\n        }\n        static equals(v1, v2) {\n            if (v1.mode_ !== v2.mode_) {\n                return false;\n            }\n            const comps1 = v1.comps_;\n            const comps2 = v2.comps_;\n            for (let i = 0; i < comps1.length; i++) {\n                if (comps1[i] !== comps2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        get mode() {\n            return this.mode_;\n        }\n        getComponents(opt_mode) {\n            return appendAlphaComponent(convertColorMode(removeAlphaComponent(this.comps_), this.mode_, opt_mode || this.mode_), this.comps_[3]);\n        }\n        toRgbaObject() {\n            const rgbComps = this.getComponents('rgb');\n            return {\n                r: rgbComps[0],\n                g: rgbComps[1],\n                b: rgbComps[2],\n                a: rgbComps[3],\n            };\n        }\n    }\n\n    const className$b = ClassName('colp');\n    class ColorPickerView {\n        constructor(doc, config) {\n            this.alphaViews_ = null;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$b());\n            const hsvElem = doc.createElement('div');\n            hsvElem.classList.add(className$b('hsv'));\n            const svElem = doc.createElement('div');\n            svElem.classList.add(className$b('sv'));\n            this.svPaletteView_ = config.svPaletteView;\n            svElem.appendChild(this.svPaletteView_.element);\n            hsvElem.appendChild(svElem);\n            const hElem = doc.createElement('div');\n            hElem.classList.add(className$b('h'));\n            this.hPaletteView_ = config.hPaletteView;\n            hElem.appendChild(this.hPaletteView_.element);\n            hsvElem.appendChild(hElem);\n            this.element.appendChild(hsvElem);\n            const rgbElem = doc.createElement('div');\n            rgbElem.classList.add(className$b('rgb'));\n            this.textView_ = config.textView;\n            rgbElem.appendChild(this.textView_.element);\n            this.element.appendChild(rgbElem);\n            if (config.alphaViews) {\n                this.alphaViews_ = {\n                    palette: config.alphaViews.palette,\n                    text: config.alphaViews.text,\n                };\n                const aElem = doc.createElement('div');\n                aElem.classList.add(className$b('a'));\n                const apElem = doc.createElement('div');\n                apElem.classList.add(className$b('ap'));\n                apElem.appendChild(this.alphaViews_.palette.element);\n                aElem.appendChild(apElem);\n                const atElem = doc.createElement('div');\n                atElem.classList.add(className$b('at'));\n                atElem.appendChild(this.alphaViews_.text.element);\n                aElem.appendChild(atElem);\n                this.element.appendChild(aElem);\n            }\n        }\n        get allFocusableElements() {\n            const elems = [\n                this.svPaletteView_.element,\n                this.hPaletteView_.element,\n                this.textView_.modeSelectElement,\n                ...this.textView_.textViews.map((v) => v.inputElement),\n            ];\n            if (this.alphaViews_) {\n                elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n            }\n            return elems;\n        }\n    }\n\n    function parseColorInputParams(params) {\n        const p = ParamsParsers;\n        return parseParams(params, {\n            alpha: p.optional.boolean,\n            expanded: p.optional.boolean,\n            picker: p.optional.custom(parsePickerLayout),\n        });\n    }\n    function getBaseStepForColor(forAlpha) {\n        return forAlpha ? 0.1 : 1;\n    }\n\n    function parseCssNumberOrPercentage(text, maxValue) {\n        const m = text.match(/^(.+)%$/);\n        if (!m) {\n            return Math.min(parseFloat(text), maxValue);\n        }\n        return Math.min(parseFloat(m[1]) * 0.01 * maxValue, maxValue);\n    }\n    const ANGLE_TO_DEG_MAP = {\n        deg: (angle) => angle,\n        grad: (angle) => (angle * 360) / 400,\n        rad: (angle) => (angle * 360) / (2 * Math.PI),\n        turn: (angle) => angle * 360,\n    };\n    function parseCssNumberOrAngle(text) {\n        const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n        if (!m) {\n            return parseFloat(text);\n        }\n        const angle = parseFloat(m[1]);\n        const unit = m[2];\n        return ANGLE_TO_DEG_MAP[unit](angle);\n    }\n    const NOTATION_TO_PARSER_MAP = {\n        'func.rgb': (text) => {\n            const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.rgba': (text) => {\n            const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.hsl': (text) => {\n            const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'func.hsla': (text) => {\n            const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'hex.rgb': (text) => {\n            const mRrggbb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1] + mRrggbb[1], 16),\n                    parseInt(mRrggbb[2] + mRrggbb[2], 16),\n                    parseInt(mRrggbb[3] + mRrggbb[3], 16),\n                ], 'rgb');\n            }\n            const mRgb = text.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRgb) {\n                return new Color([parseInt(mRgb[1], 16), parseInt(mRgb[2], 16), parseInt(mRgb[3], 16)], 'rgb');\n            }\n            return null;\n        },\n        'hex.rgba': (text) => {\n            const mRrggbb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1] + mRrggbb[1], 16),\n                    parseInt(mRrggbb[2] + mRrggbb[2], 16),\n                    parseInt(mRrggbb[3] + mRrggbb[3], 16),\n                    mapRange(parseInt(mRrggbb[4] + mRrggbb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            const mRgb = text.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1], 16),\n                    parseInt(mRgb[2], 16),\n                    parseInt(mRgb[3], 16),\n                    mapRange(parseInt(mRgb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            return null;\n        },\n    };\n    function getColorNotation(text) {\n        const notations = Object.keys(NOTATION_TO_PARSER_MAP);\n        return notations.reduce((result, notation) => {\n            if (result) {\n                return result;\n            }\n            const subparser = NOTATION_TO_PARSER_MAP[notation];\n            return subparser(text) ? notation : null;\n        }, null);\n    }\n    const CompositeColorParser = (text) => {\n        const notation = getColorNotation(text);\n        return notation ? NOTATION_TO_PARSER_MAP[notation](text) : null;\n    };\n    function hasAlphaComponent(notation) {\n        return (notation === 'func.hsla' ||\n            notation === 'func.rgba' ||\n            notation === 'hex.rgba');\n    }\n    function colorFromString(value) {\n        if (typeof value === 'string') {\n            const cv = CompositeColorParser(value);\n            if (cv) {\n                return cv;\n            }\n        }\n        return Color.black();\n    }\n    function zerofill(comp) {\n        const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n        return hex.length === 1 ? `0${hex}` : hex;\n    }\n    function colorToHexRgbString(value) {\n        const hexes = removeAlphaComponent(value.getComponents('rgb'))\n            .map(zerofill)\n            .join('');\n        return `#${hexes}`;\n    }\n    function colorToHexRgbaString(value) {\n        const rgbaComps = value.getComponents('rgb');\n        const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n            .map(zerofill)\n            .join('');\n        return `#${hexes}`;\n    }\n    function colorToFunctionalRgbString(value) {\n        const formatter = createNumberFormatter(0);\n        const comps = removeAlphaComponent(value.getComponents('rgb')).map((comp) => formatter(comp));\n        return `rgb(${comps.join(', ')})`;\n    }\n    function colorToFunctionalRgbaString(value) {\n        const aFormatter = createNumberFormatter(2);\n        const rgbFormatter = createNumberFormatter(0);\n        const comps = value.getComponents('rgb').map((comp, index) => {\n            const formatter = index === 3 ? aFormatter : rgbFormatter;\n            return formatter(comp);\n        });\n        return `rgba(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n        ];\n        const comps = removeAlphaComponent(value.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n        return `hsl(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslaString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n            createNumberFormatter(2),\n        ];\n        const comps = value\n            .getComponents('hsl')\n            .map((comp, index) => formatters[index](comp));\n        return `hsla(${comps.join(', ')})`;\n    }\n    const NOTATION_TO_STRINGIFIER_MAP = {\n        'func.hsl': colorToFunctionalHslString,\n        'func.hsla': colorToFunctionalHslaString,\n        'func.rgb': colorToFunctionalRgbString,\n        'func.rgba': colorToFunctionalRgbaString,\n        'hex.rgb': colorToHexRgbString,\n        'hex.rgba': colorToHexRgbaString,\n    };\n    function getColorStringifier(notation) {\n        return NOTATION_TO_STRINGIFIER_MAP[notation];\n    }\n\n    const className$a = ClassName('apl');\n    class APaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$a());\n            config.viewProps.bindTabIndex(this.element);\n            const barElem = doc.createElement('div');\n            barElem.classList.add(className$a('b'));\n            this.element.appendChild(barElem);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$a('c'));\n            barElem.appendChild(colorElem);\n            this.colorElem_ = colorElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$a('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            const previewElem = doc.createElement('div');\n            previewElem.classList.add(className$a('p'));\n            this.markerElem_.appendChild(previewElem);\n            this.previewElem_ = previewElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const rgbaComps = c.getComponents('rgb');\n            const leftColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n            const rightColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n            const gradientComps = [\n                'to right',\n                colorToFunctionalRgbaString(leftColor),\n                colorToFunctionalRgbaString(rightColor),\n            ];\n            this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n            this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n            const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class APaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new APaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d) {\n            if (!d.point) {\n                return;\n            }\n            const alpha = d.point.x / d.bounds.width;\n            const c = this.value.rawValue;\n            const [h, s, v] = c.getComponents('hsv');\n            this.value.rawValue = new Color([h, s, v, alpha], 'hsv');\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.rawValue = new Color([h, s, v, a + step], 'hsv');\n        }\n    }\n\n    const className$9 = ClassName('coltxt');\n    function createModeSelectElement(doc) {\n        const selectElem = doc.createElement('select');\n        const items = [\n            { text: 'RGB', value: 'rgb' },\n            { text: 'HSL', value: 'hsl' },\n            { text: 'HSV', value: 'hsv' },\n        ];\n        selectElem.appendChild(items.reduce((frag, item) => {\n            const optElem = doc.createElement('option');\n            optElem.textContent = item.text;\n            optElem.value = item.value;\n            frag.appendChild(optElem);\n            return frag;\n        }, doc.createDocumentFragment()));\n        return selectElem;\n    }\n    class ColorTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$9());\n            const modeElem = doc.createElement('div');\n            modeElem.classList.add(className$9('m'));\n            this.modeElem_ = createModeSelectElement(doc);\n            this.modeElem_.classList.add(className$9('ms'));\n            modeElem.appendChild(this.modeSelectElement);\n            const modeMarkerElem = doc.createElement('div');\n            modeMarkerElem.classList.add(className$9('mm'));\n            modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            modeElem.appendChild(modeMarkerElem);\n            this.element.appendChild(modeElem);\n            const textsElem = doc.createElement('div');\n            textsElem.classList.add(className$9('w'));\n            this.element.appendChild(textsElem);\n            this.textsElem_ = textsElem;\n            this.textViews_ = config.textViews;\n            this.applyTextViews_();\n            bindValue(config.colorMode, (mode) => {\n                this.modeElem_.value = mode;\n            });\n        }\n        get modeSelectElement() {\n            return this.modeElem_;\n        }\n        get textViews() {\n            return this.textViews_;\n        }\n        set textViews(textViews) {\n            this.textViews_ = textViews;\n            this.applyTextViews_();\n        }\n        applyTextViews_() {\n            removeChildElements(this.textsElem_);\n            const doc = this.element.ownerDocument;\n            this.textViews_.forEach((v) => {\n                const compElem = doc.createElement('div');\n                compElem.classList.add(className$9('c'));\n                compElem.appendChild(v.element);\n                this.textsElem_.appendChild(compElem);\n            });\n        }\n    }\n\n    const FORMATTER = createNumberFormatter(0);\n    const MODE_TO_CONSTRAINT_MAP = {\n        rgb: () => {\n            return new RangeConstraint({ min: 0, max: 255 });\n        },\n        hsl: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n        hsv: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n    };\n    function createComponentController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n            baseStep: getBaseStepForColor(false),\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                draggingScale: 1,\n                formatter: FORMATTER,\n            }),\n            value: createValue(0, {\n                constraint: MODE_TO_CONSTRAINT_MAP[config.colorMode](index),\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class ColorTextController {\n        constructor(doc, config) {\n            this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.colorMode = createValue(this.value.rawValue.mode);\n            this.ccs_ = this.createComponentControllers_(doc);\n            this.view = new ColorTextView(doc, {\n                colorMode: this.colorMode,\n                textViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            });\n            this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n        }\n        createComponentControllers_(doc) {\n            const cc = {\n                colorMode: this.colorMode.rawValue,\n                parser: this.parser_,\n                viewProps: this.viewProps,\n            };\n            const ccs = [\n                createComponentController(doc, cc, 0),\n                createComponentController(doc, cc, 1),\n                createComponentController(doc, cc, 2),\n            ];\n            ccs.forEach((cs, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: cs.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents(this.colorMode.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const pickedMode = this.colorMode.rawValue;\n                        const comps = p.rawValue.getComponents(pickedMode);\n                        comps[index] = s.rawValue;\n                        return new Color(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode);\n                    },\n                });\n            });\n            return ccs;\n        }\n        onModeSelectChange_(ev) {\n            const selectElem = ev.currentTarget;\n            this.colorMode.rawValue = selectElem.value;\n            this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n            this.view.textViews = [\n                this.ccs_[0].view,\n                this.ccs_[1].view,\n                this.ccs_[2].view,\n            ];\n        }\n    }\n\n    const className$8 = ClassName('hpl');\n    class HPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$8());\n            config.viewProps.bindTabIndex(this.element);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$8('c'));\n            this.element.appendChild(colorElem);\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$8('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const [h] = c.getComponents('hsv');\n            this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new Color([h, 100, 100], 'hsv'));\n            const left = mapRange(h, 0, 360, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class HPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new HPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d) {\n            if (!d.point) {\n                return;\n            }\n            const hue = mapRange(d.point.x, 0, d.bounds.width, 0, 360);\n            const c = this.value.rawValue;\n            const [, s, v, a] = c.getComponents('hsv');\n            this.value.rawValue = new Color([hue, s, v, a], 'hsv');\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.rawValue = new Color([h + step, s, v, a], 'hsv');\n        }\n    }\n\n    const className$7 = ClassName('svp');\n    const CANVAS_RESOL = 64;\n    class SvPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$7());\n            config.viewProps.bindTabIndex(this.element);\n            const canvasElem = doc.createElement('canvas');\n            canvasElem.height = CANVAS_RESOL;\n            canvasElem.width = CANVAS_RESOL;\n            canvasElem.classList.add(className$7('c'));\n            this.element.appendChild(canvasElem);\n            this.canvasElement = canvasElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$7('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const ctx = getCanvasContext(this.canvasElement);\n            if (!ctx) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const hsvComps = c.getComponents('hsv');\n            const width = this.canvasElement.width;\n            const height = this.canvasElement.height;\n            const imgData = ctx.getImageData(0, 0, width, height);\n            const data = imgData.data;\n            for (let iy = 0; iy < height; iy++) {\n                for (let ix = 0; ix < width; ix++) {\n                    const s = mapRange(ix, 0, width, 0, 100);\n                    const v = mapRange(iy, 0, height, 100, 0);\n                    const rgbComps = hsvToRgb(hsvComps[0], s, v);\n                    const i = (iy * width + ix) * 4;\n                    data[i] = rgbComps[0];\n                    data[i + 1] = rgbComps[1];\n                    data[i + 2] = rgbComps[2];\n                    data[i + 3] = 255;\n                }\n            }\n            ctx.putImageData(imgData, 0, 0);\n            const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n            const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n            this.markerElem_.style.top = `${top}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class SvPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SvPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d) {\n            if (!d.point) {\n                return;\n            }\n            const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n            const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n            const [h, , , a] = this.value.rawValue.getComponents('hsv');\n            this.value.rawValue = new Color([h, saturation, value, a], 'hsv');\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n            const baseStep = getBaseStepForColor(false);\n            this.value.rawValue = new Color([\n                h,\n                s + getStepForKey(baseStep, getHorizontalStepKeys(ev)),\n                v + getStepForKey(baseStep, getVerticalStepKeys(ev)),\n                a,\n            ], 'hsv');\n        }\n    }\n\n    class ColorPickerController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.hPaletteC_ = new HPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.svPaletteC_ = new SvPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.alphaIcs_ = config.supportsAlpha\n                ? {\n                    palette: new APaletteController(doc, {\n                        value: this.value,\n                        viewProps: this.viewProps,\n                    }),\n                    text: new NumberTextController(doc, {\n                        parser: parseNumber,\n                        baseStep: 0.1,\n                        props: ValueMap.fromObject({\n                            draggingScale: 0.01,\n                            formatter: createNumberFormatter(2),\n                        }),\n                        value: createValue(0, {\n                            constraint: new RangeConstraint({ min: 0, max: 1 }),\n                        }),\n                        viewProps: this.viewProps,\n                    }),\n                }\n                : null;\n            if (this.alphaIcs_) {\n                connectValues({\n                    primary: this.value,\n                    secondary: this.alphaIcs_.text.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents()[3];\n                    },\n                    backward: (p, s) => {\n                        const comps = p.rawValue.getComponents();\n                        comps[3] = s.rawValue;\n                        return new Color(comps, p.rawValue.mode);\n                    },\n                });\n            }\n            this.textC_ = new ColorTextController(doc, {\n                parser: parseNumber,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorPickerView(doc, {\n                alphaViews: this.alphaIcs_\n                    ? {\n                        palette: this.alphaIcs_.palette.view,\n                        text: this.alphaIcs_.text.view,\n                    }\n                    : null,\n                hPaletteView: this.hPaletteC_.view,\n                supportsAlpha: config.supportsAlpha,\n                svPaletteView: this.svPaletteC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    const className$6 = ClassName('colsw');\n    class ColorSwatchView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$6());\n            config.viewProps.bindClassModifiers(this.element);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$6('sw'));\n            this.element.appendChild(swatchElem);\n            this.swatchElem_ = swatchElem;\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$6('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            this.update_();\n        }\n        update_() {\n            const value = this.value.rawValue;\n            this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ColorSwatchController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ColorSwatchView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    class ColorController {\n        constructor(doc, config) {\n            this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = createFoldable(config.expanded);\n            this.swatchC_ = new ColorSwatchController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            const buttonElem = this.swatchC_.view.buttonElement;\n            buttonElem.addEventListener('blur', this.onButtonBlur_);\n            buttonElem.addEventListener('click', this.onButtonClick_);\n            this.textC_ = new TextController(doc, {\n                parser: config.parser,\n                props: ValueMap.fromObject({\n                    formatter: config.formatter,\n                }),\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n            });\n            this.view.swatchElement.appendChild(this.swatchC_.view.element);\n            this.view.textElement.appendChild(this.textC_.view.element);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const pickerC = new ColorPickerController(doc, {\n                supportsAlpha: config.supportsAlpha,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            pickerC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = pickerC;\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(pickerC.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        get textController() {\n            return this.textC_;\n        }\n        onButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.swatchC_.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.swatchC_.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function colorFromObject(value) {\n        if (Color.isColorObject(value)) {\n            return Color.fromObject(value);\n        }\n        return Color.black();\n    }\n    function colorToRgbNumber(value) {\n        return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n            return (result << 8) | (Math.floor(comp) & 0xff);\n        }, 0);\n    }\n    function colorToRgbaNumber(value) {\n        return (value.getComponents('rgb').reduce((result, comp, index) => {\n            const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n            return (result << 8) | hex;\n        }, 0) >>> 0);\n    }\n    function numberToRgbColor(num) {\n        return new Color([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n    }\n    function numberToRgbaColor(num) {\n        return new Color([\n            (num >> 24) & 0xff,\n            (num >> 16) & 0xff,\n            (num >> 8) & 0xff,\n            mapRange(num & 0xff, 0, 255, 0, 1),\n        ], 'rgb');\n    }\n    function colorFromRgbNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbColor(value);\n    }\n    function colorFromRgbaNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbaColor(value);\n    }\n\n    function createColorStringWriter(notation) {\n        const stringify = getColorStringifier(notation);\n        return (target, value) => {\n            writePrimitive(target, stringify(value));\n        };\n    }\n    function createColorNumberWriter(supportsAlpha) {\n        const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n        return (target, value) => {\n            writePrimitive(target, colorToNumber(value));\n        };\n    }\n    function writeRgbaColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n        target.writeProperty('a', obj.a);\n    }\n    function writeRgbColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n    }\n    function createColorObjectWriter(supportsAlpha) {\n        return supportsAlpha ? writeRgbaColorObject : writeRgbColorObject;\n    }\n\n    function shouldSupportAlpha$1(inputParams) {\n        return 'alpha' in inputParams && inputParams.alpha === true;\n    }\n    const NumberColorInputPlugin = {\n        id: 'input-color-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            if (!('view' in params)) {\n                return null;\n            }\n            if (params.view !== 'color') {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (args) => {\n                return shouldSupportAlpha$1(args.params)\n                    ? colorFromRgbaNumber\n                    : colorFromRgbNumber;\n            },\n            equals: Color.equals,\n            writer: (args) => {\n                return createColorNumberWriter(shouldSupportAlpha$1(args.params));\n            },\n        },\n        controller: (args) => {\n            const supportsAlpha = shouldSupportAlpha$1(args.params);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            const formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function shouldSupportAlpha(initialValue) {\n        return Color.isRgbaColorObject(initialValue);\n    }\n    const ObjectColorInputPlugin = {\n        id: 'input-color-object',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Color.isColorObject(value)) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromObject,\n            equals: Color.equals,\n            writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue)),\n        },\n        controller: (args) => {\n            const supportsAlpha = Color.isRgbaColorObject(args.initialValue);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            const formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const StringColorInputPlugin = {\n        id: 'input-color-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            if ('view' in params && params.view === 'text') {\n                return null;\n            }\n            const notation = getColorNotation(value);\n            if (!notation) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromString,\n            equals: Color.equals,\n            writer: (args) => {\n                const notation = getColorNotation(args.initialValue);\n                if (!notation) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return createColorStringWriter(notation);\n            },\n        },\n        controller: (args) => {\n            const notation = getColorNotation(args.initialValue);\n            if (!notation) {\n                throw TpError.shouldNeverHappen();\n            }\n            const stringifier = getColorStringifier(notation);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: stringifier,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: hasAlphaComponent(notation),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class PointNdConstraint {\n        constructor(config) {\n            this.components = config.components;\n            this.asm_ = config.assembly;\n        }\n        constrain(value) {\n            const comps = this.asm_\n                .toComponents(value)\n                .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n            return this.asm_.fromComponents(comps);\n        }\n    }\n\n    const className$5 = ClassName('pndtxt');\n    class PointNdTextView {\n        constructor(doc, config) {\n            this.textViews = config.textViews;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$5());\n            this.textViews.forEach((v) => {\n                const axisElem = doc.createElement('div');\n                axisElem.classList.add(className$5('a'));\n                axisElem.appendChild(v.element);\n                this.element.appendChild(axisElem);\n            });\n        }\n    }\n\n    function createAxisController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n            baseStep: config.axes[index].baseStep,\n            parser: config.parser,\n            props: config.axes[index].textProps,\n            value: createValue(0, {\n                constraint: config.axes[index].constraint,\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class PointNdTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n            this.acs_.forEach((c, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: c.value,\n                    forward: (p) => {\n                        return config.assembly.toComponents(p.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const comps = config.assembly.toComponents(p.rawValue);\n                        comps[index] = s.rawValue;\n                        return config.assembly.fromComponents(comps);\n                    },\n                });\n            });\n            this.view = new PointNdTextView(doc, {\n                textViews: this.acs_.map((ac) => ac.view),\n            });\n        }\n    }\n\n    function createStepConstraint(params) {\n        if ('step' in params && !isEmpty(params.step)) {\n            return new StepConstraint(params.step);\n        }\n        return null;\n    }\n    function createRangeConstraint(params) {\n        if (('max' in params && !isEmpty(params.max)) ||\n            ('min' in params && !isEmpty(params.min))) {\n            return new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            });\n        }\n        return null;\n    }\n    function createConstraint$4(params) {\n        const constraints = [];\n        const sc = createStepConstraint(params);\n        if (sc) {\n            constraints.push(sc);\n        }\n        const rc = createRangeConstraint(params);\n        if (rc) {\n            constraints.push(rc);\n        }\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function findRange(constraint) {\n        const c = constraint ? findConstraint(constraint, RangeConstraint) : null;\n        if (!c) {\n            return [undefined, undefined];\n        }\n        return [c.minValue, c.maxValue];\n    }\n    function estimateSuitableRange(constraint) {\n        const [min, max] = findRange(constraint);\n        return [min !== null && min !== void 0 ? min : 0, max !== null && max !== void 0 ? max : 100];\n    }\n    const NumberInputPlugin = {\n        id: 'input-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                max: p.optional.number,\n                min: p.optional.number,\n                options: p.optional.custom(parseListOptions),\n                step: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => numberFromUnknown,\n            constraint: (args) => createConstraint$4(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a, _b;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            const formatter = (_b = ('format' in args.params ? args.params.format : undefined)) !== null && _b !== void 0 ? _b : createNumberFormatter(getSuitableDecimalDigits(c, value.rawValue));\n            if (c && findConstraint(c, RangeConstraint)) {\n                const [min, max] = estimateSuitableRange(c);\n                return new SliderTextController(args.document, {\n                    baseStep: getBaseStep(c),\n                    parser: parseNumber,\n                    sliderProps: ValueMap.fromObject({\n                        maxValue: max,\n                        minValue: min,\n                    }),\n                    textProps: ValueMap.fromObject({\n                        draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                        formatter: formatter,\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new NumberTextController(args.document, {\n                baseStep: getBaseStep(c),\n                parser: parseNumber,\n                props: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                    formatter: formatter,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point2d {\n        constructor(x = 0, y = 0) {\n            this.x = x;\n            this.y = y;\n        }\n        getComponents() {\n            return [this.x, this.y];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            if (typeof x !== 'number' || typeof y !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n            };\n        }\n    }\n    const Point2dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point2d(...comps),\n    };\n\n    const className$4 = ClassName('p2d');\n    class Point2dView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$4());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.expanded, valueToClassName(this.element, className$4(undefined, 'expanded')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$4('h'));\n            this.element.appendChild(headElem);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$4('b'));\n            buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n            config.viewProps.bindDisabled(buttonElem);\n            headElem.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$4('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$4('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    const className$3 = ClassName('p2dp');\n    class Point2dPickerView {\n        constructor(doc, config) {\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.invertsY_ = config.invertsY;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$3());\n            if (config.layout === 'popup') {\n                this.element.classList.add(className$3(undefined, 'p'));\n            }\n            const padElem = doc.createElement('div');\n            padElem.classList.add(className$3('p'));\n            config.viewProps.bindTabIndex(padElem);\n            this.element.appendChild(padElem);\n            this.padElement = padElem;\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$3('g'));\n            this.padElement.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n            xAxisElem.classList.add(className$3('ax'));\n            xAxisElem.setAttributeNS(null, 'x1', '0');\n            xAxisElem.setAttributeNS(null, 'y1', '50%');\n            xAxisElem.setAttributeNS(null, 'x2', '100%');\n            xAxisElem.setAttributeNS(null, 'y2', '50%');\n            this.svgElem_.appendChild(xAxisElem);\n            const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n            yAxisElem.classList.add(className$3('ax'));\n            yAxisElem.setAttributeNS(null, 'x1', '50%');\n            yAxisElem.setAttributeNS(null, 'y1', '0');\n            yAxisElem.setAttributeNS(null, 'x2', '50%');\n            yAxisElem.setAttributeNS(null, 'y2', '100%');\n            this.svgElem_.appendChild(yAxisElem);\n            const lineElem = doc.createElementNS(SVG_NS, 'line');\n            lineElem.classList.add(className$3('l'));\n            lineElem.setAttributeNS(null, 'x1', '50%');\n            lineElem.setAttributeNS(null, 'y1', '50%');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$3('m'));\n            this.padElement.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        get allFocusableElements() {\n            return [this.padElement];\n        }\n        update_() {\n            const [x, y] = this.value.rawValue.getComponents();\n            const max = this.maxValue_;\n            const px = mapRange(x, -max, +max, 0, 100);\n            const py = mapRange(y, -max, +max, 0, 100);\n            const ipy = this.invertsY_ ? 100 - py : py;\n            this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n            this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n            this.markerElem_.style.left = `${px}%`;\n            this.markerElem_.style.top = `${ipy}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n        onFoldableChange_() {\n            this.update_();\n        }\n    }\n\n    class Point2dPickerController {\n        constructor(doc, config) {\n            this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.baseSteps_ = config.baseSteps;\n            this.maxValue_ = config.maxValue;\n            this.invertsY_ = config.invertsY;\n            this.view = new Point2dPickerView(doc, {\n                invertsY: this.invertsY_,\n                layout: config.layout,\n                maxValue: this.maxValue_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.padElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n        }\n        handlePointerEvent_(d) {\n            if (!d.point) {\n                return;\n            }\n            const max = this.maxValue_;\n            const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n            const py = mapRange(this.invertsY_ ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n            this.value.rawValue = new Point2d(px, py);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data);\n        }\n        onPadKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            this.value.rawValue = new Point2d(this.value.rawValue.x +\n                getStepForKey(this.baseSteps_[0], getHorizontalStepKeys(ev)), this.value.rawValue.y +\n                getStepForKey(this.baseSteps_[1], getVerticalStepKeys(ev)) *\n                    (this.invertsY_ ? 1 : -1));\n        }\n    }\n\n    class Point2dController {\n        constructor(doc, config) {\n            var _a, _b;\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n            this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = createFoldable(config.expanded);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const padC = new Point2dPickerController(doc, {\n                baseSteps: [config.axes[0].baseStep, config.axes[1].baseStep],\n                invertsY: config.invertsY,\n                layout: config.pickerLayout,\n                maxValue: config.maxValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            padC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = padC;\n            this.textC_ = new PointNdTextController(doc, {\n                assembly: Point2dAssembly,\n                axes: config.axes,\n                parser: config.parser,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new Point2dView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n                viewProps: this.viewProps,\n            });\n            this.view.textElement.appendChild(this.textC_.view.element);\n            (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n            (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(this.pickerC_.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        onPadButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onPadButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function point2dFromUnknown(value) {\n        return Point2d.isObject(value)\n            ? new Point2d(value.x, value.y)\n            : new Point2d();\n    }\n    function writePoint2d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n    }\n\n    function createDimensionConstraint$2(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$3(params) {\n        return new PointNdConstraint({\n            assembly: Point2dAssembly,\n            components: [\n                createDimensionConstraint$2('x' in params ? params.x : undefined),\n                createDimensionConstraint$2('y' in params ? params.y : undefined),\n            ],\n        });\n    }\n    function getSuitableMaxDimensionValue(constraint, rawValue) {\n        const rc = constraint && findConstraint(constraint, RangeConstraint);\n        if (rc) {\n            return Math.max(Math.abs(rc.minValue || 0), Math.abs(rc.maxValue || 0));\n        }\n        const step = getBaseStep(constraint);\n        return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n    }\n    function getSuitableMaxValue(initialValue, constraint) {\n        const xc = constraint instanceof PointNdConstraint\n            ? constraint.components[0]\n            : undefined;\n        const yc = constraint instanceof PointNdConstraint\n            ? constraint.components[1]\n            : undefined;\n        const xr = getSuitableMaxDimensionValue(xc, initialValue.x);\n        const yr = getSuitableMaxDimensionValue(yc, initialValue.y);\n        return Math.max(xr, yr);\n    }\n    function createAxis$2(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    function shouldInvertY(params) {\n        if (!('y' in params)) {\n            return false;\n        }\n        const yParams = params.y;\n        if (!yParams) {\n            return false;\n        }\n        return 'inverted' in yParams ? !!yParams.inverted : false;\n    }\n    const Point2dInputPlugin = {\n        id: 'input-point2d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point2d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                expanded: p.optional.boolean,\n                picker: p.optional.custom(parsePickerLayout),\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.object({\n                    inverted: p.optional.boolean,\n                    max: p.optional.number,\n                    min: p.optional.number,\n                    step: p.optional.number,\n                }),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point2dFromUnknown,\n            constraint: (args) => createConstraint$3(args.params),\n            equals: Point2d.equals,\n            writer: (_args) => writePoint2d,\n        },\n        controller: (args) => {\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new Point2dController(doc, {\n                axes: [\n                    createAxis$2(value.rawValue.x, c.components[0]),\n                    createAxis$2(value.rawValue.y, c.components[1]),\n                ],\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                invertsY: shouldInvertY(args.params),\n                maxValue: getSuitableMaxValue(value.rawValue, c),\n                parser: parseNumber,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point3d {\n        constructor(x = 0, y = 0, z = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n            };\n        }\n    }\n    const Point3dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point3d(...comps),\n    };\n\n    function point3dFromUnknown(value) {\n        return Point3d.isObject(value)\n            ? new Point3d(value.x, value.y, value.z)\n            : new Point3d();\n    }\n    function writePoint3d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n    }\n\n    function createDimensionConstraint$1(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$2(params) {\n        return new PointNdConstraint({\n            assembly: Point3dAssembly,\n            components: [\n                createDimensionConstraint$1('x' in params ? params.x : undefined),\n                createDimensionConstraint$1('y' in params ? params.y : undefined),\n                createDimensionConstraint$1('z' in params ? params.z : undefined),\n            ],\n        });\n    }\n    function createAxis$1(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point3dInputPlugin = {\n        id: 'input-point3d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point3d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point3dFromUnknown,\n            constraint: (args) => createConstraint$2(args.params),\n            equals: Point3d.equals,\n            writer: (_args) => writePoint3d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point3dAssembly,\n                axes: [\n                    createAxis$1(value.rawValue.x, c.components[0]),\n                    createAxis$1(value.rawValue.y, c.components[1]),\n                    createAxis$1(value.rawValue.z, c.components[2]),\n                ],\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point4d {\n        constructor(x = 0, y = 0, z = 0, w = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z, this.w];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            const w = obj.w;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number' ||\n                typeof w !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n                w: this.w,\n            };\n        }\n    }\n    const Point4dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point4d(...comps),\n    };\n\n    function point4dFromUnknown(value) {\n        return Point4d.isObject(value)\n            ? new Point4d(value.x, value.y, value.z, value.w)\n            : new Point4d();\n    }\n    function writePoint4d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n        target.writeProperty('w', value.w);\n    }\n\n    function createDimensionConstraint(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$1(params) {\n        return new PointNdConstraint({\n            assembly: Point4dAssembly,\n            components: [\n                createDimensionConstraint('x' in params ? params.x : undefined),\n                createDimensionConstraint('y' in params ? params.y : undefined),\n                createDimensionConstraint('z' in params ? params.z : undefined),\n                createDimensionConstraint('w' in params ? params.w : undefined),\n            ],\n        });\n    }\n    function createAxis(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point4dInputPlugin = {\n        id: 'input-point4d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point4d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n                w: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point4dFromUnknown,\n            constraint: (args) => createConstraint$1(args.params),\n            equals: Point4d.equals,\n            writer: (_args) => writePoint4d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point4dAssembly,\n                axes: value.rawValue\n                    .getComponents()\n                    .map((comp, index) => createAxis(comp, c.components[index])),\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function createConstraint(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const StringInputPlugin = {\n        id: 'input-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n            constraint: (args) => createConstraint(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new TextController(doc, {\n                parser: (v) => v,\n                props: ValueMap.fromObject({\n                    formatter: formatString,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const Constants = {\n        monitor: {\n            defaultInterval: 200,\n            defaultLineCount: 3,\n        },\n    };\n\n    const className$2 = ClassName('mll');\n    class MultiLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$2());\n            config.viewProps.bindClassModifiers(this.element);\n            const textareaElem = doc.createElement('textarea');\n            textareaElem.classList.add(className$2('i'));\n            textareaElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            textareaElem.readOnly = true;\n            config.viewProps.bindDisabled(textareaElem);\n            this.element.appendChild(textareaElem);\n            this.textareaElem_ = textareaElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const elem = this.textareaElem_;\n            const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n            const lines = [];\n            this.value.rawValue.forEach((value) => {\n                if (value !== undefined) {\n                    lines.push(this.formatter_(value));\n                }\n            });\n            elem.textContent = lines.join('\\n');\n            if (shouldScroll) {\n                elem.scrollTop = elem.scrollHeight;\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class MultiLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new MultiLogView(doc, {\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$1 = ClassName('sgl');\n    class SingleLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$1());\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$1('i'));\n            inputElem.readOnly = true;\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElem_ = inputElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const values = this.value.rawValue;\n            const lastValue = values[values.length - 1];\n            this.inputElem_.value =\n                lastValue !== undefined ? this.formatter_(lastValue) : '';\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class SingleLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SingleLogView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const BooleanMonitorPlugin = {\n        id: 'monitor-bool',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            if (args.value.rawValue.length === 1) {\n                return new SingleLogController(args.document, {\n                    formatter: BooleanFormatter,\n                    value: args.value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new MultiLogController(args.document, {\n                formatter: BooleanFormatter,\n                lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class GraphCursor {\n        constructor() {\n            this.emitter = new Emitter();\n            this.index_ = -1;\n        }\n        get index() {\n            return this.index_;\n        }\n        set index(index) {\n            const changed = this.index_ !== index;\n            if (changed) {\n                this.index_ = index;\n                this.emitter.emit('change', {\n                    index: index,\n                    sender: this,\n                });\n            }\n        }\n    }\n\n    const className = ClassName('grl');\n    class GraphLogView {\n        constructor(doc, config) {\n            this.onCursorChange_ = this.onCursorChange_.bind(this);\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n            this.formatter_ = config.formatter;\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.cursor_ = config.cursor;\n            this.cursor_.emitter.on('change', this.onCursorChange_);\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className('g'));\n            svgElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            this.element.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(className('t'), ClassName('tt')());\n            this.element.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        get graphElement() {\n            return this.svgElem_;\n        }\n        update_() {\n            const bounds = this.svgElem_.getBoundingClientRect();\n            const maxIndex = this.value.rawValue.length - 1;\n            const min = this.minValue_;\n            const max = this.maxValue_;\n            const points = [];\n            this.value.rawValue.forEach((v, index) => {\n                if (v === undefined) {\n                    return;\n                }\n                const x = mapRange(index, 0, maxIndex, 0, bounds.width);\n                const y = mapRange(v, min, max, bounds.height, 0);\n                points.push([x, y].join(','));\n            });\n            this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n            const tooltipElem = this.tooltipElem_;\n            const value = this.value.rawValue[this.cursor_.index];\n            if (value === undefined) {\n                tooltipElem.classList.remove(className('t', 'a'));\n                return;\n            }\n            const tx = mapRange(this.cursor_.index, 0, maxIndex, 0, bounds.width);\n            const ty = mapRange(value, min, max, bounds.height, 0);\n            tooltipElem.style.left = `${tx}px`;\n            tooltipElem.style.top = `${ty}px`;\n            tooltipElem.textContent = `${this.formatter_(value)}`;\n            if (!tooltipElem.classList.contains(className('t', 'a'))) {\n                tooltipElem.classList.add(className('t', 'a'), className('t', 'in'));\n                forceReflow(tooltipElem);\n                tooltipElem.classList.remove(className('t', 'in'));\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n        onCursorChange_() {\n            this.update_();\n        }\n    }\n\n    class GraphLogController {\n        constructor(doc, config) {\n            this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n            this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n            this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n            this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n            this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.cursor_ = new GraphCursor();\n            this.view = new GraphLogView(doc, {\n                cursor: this.cursor_,\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                maxValue: config.maxValue,\n                minValue: config.minValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            if (!supportsTouch(doc)) {\n                this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n                this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n            }\n            else {\n                const ph = new PointerHandler(this.view.element);\n                ph.emitter.on('down', this.onGraphPointerDown_);\n                ph.emitter.on('move', this.onGraphPointerMove_);\n                ph.emitter.on('up', this.onGraphPointerUp_);\n            }\n        }\n        onGraphMouseLeave_() {\n            this.cursor_.index = -1;\n        }\n        onGraphMouseMove_(ev) {\n            const bounds = this.view.element.getBoundingClientRect();\n            this.cursor_.index = Math.floor(mapRange(ev.offsetX, 0, bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerDown_(ev) {\n            this.onGraphPointerMove_(ev);\n        }\n        onGraphPointerMove_(ev) {\n            if (!ev.data.point) {\n                this.cursor_.index = -1;\n                return;\n            }\n            this.cursor_.index = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerUp_() {\n            this.cursor_.index = -1;\n        }\n    }\n\n    function createFormatter() {\n        return createNumberFormatter(2);\n    }\n    function createTextMonitor(args) {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: createFormatter(),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: createFormatter(),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function createGraphMonitor(args) {\n        var _a, _b, _c;\n        return new GraphLogController(args.document, {\n            formatter: createFormatter(),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            maxValue: (_b = ('max' in args.params ? args.params.max : null)) !== null && _b !== void 0 ? _b : 100,\n            minValue: (_c = ('min' in args.params ? args.params.min : null)) !== null && _c !== void 0 ? _c : 0,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function shouldShowGraph(params) {\n        return 'view' in params && params.view === 'graph';\n    }\n    const NumberMonitorPlugin = {\n        id: 'monitor-number',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n                max: p.optional.number,\n                min: p.optional.number,\n                view: p.optional.string,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n            reader: (_args) => numberFromUnknown,\n        },\n        controller: (args) => {\n            if (shouldShowGraph(args.params)) {\n                return createGraphMonitor(args);\n            }\n            return createTextMonitor(args);\n        },\n    };\n\n    const StringMonitorPlugin = {\n        id: 'monitor-string',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n                multiline: p.optional.boolean,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            const value = args.value;\n            const multiline = value.rawValue.length > 1 ||\n                ('multiline' in args.params && args.params.multiline);\n            if (multiline) {\n                return new MultiLogController(args.document, {\n                    formatter: formatString,\n                    lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new SingleLogController(args.document, {\n                formatter: formatString,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class InputBinding {\n        constructor(config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.reader = config.reader;\n            this.writer = config.writer;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.target = config.target;\n            this.read();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue !== undefined) {\n                this.value.rawValue = this.reader(targetValue);\n            }\n        }\n        write_(rawValue) {\n            this.writer(this.target, rawValue);\n        }\n        onValueChange_(ev) {\n            this.write_(ev.rawValue);\n            this.emitter.emit('change', {\n                rawValue: ev.rawValue,\n                sender: this,\n            });\n        }\n    }\n\n    function createInputBindingController(plugin, args) {\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const p = ParamsParsers;\n        const valueArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(valueArgs);\n        const constraint = plugin.binding.constraint\n            ? plugin.binding.constraint(valueArgs)\n            : undefined;\n        const value = createValue(reader(result.initialValue), {\n            constraint: constraint,\n            equals: plugin.binding.equals,\n        });\n        const binding = new InputBinding({\n            reader: reader,\n            target: args.target,\n            value: value,\n            writer: plugin.binding.writer(valueArgs),\n        });\n        const disabled = p.optional.boolean(args.params.disabled).value;\n        const hidden = p.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            constraint: constraint,\n            document: args.document,\n            initialValue: result.initialValue,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = p.optional.string(args.params.label).value;\n        return new InputBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label || args.target.key,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class MonitorBinding {\n        constructor(config) {\n            this.onTick_ = this.onTick_.bind(this);\n            this.reader_ = config.reader;\n            this.target = config.target;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.ticker = config.ticker;\n            this.ticker.emitter.on('tick', this.onTick_);\n            this.read();\n        }\n        dispose() {\n            this.ticker.dispose();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue === undefined) {\n                return;\n            }\n            const buffer = this.value.rawValue;\n            const newValue = this.reader_(targetValue);\n            this.value.rawValue = createPushedBuffer(buffer, newValue);\n            this.emitter.emit('update', {\n                rawValue: newValue,\n                sender: this,\n            });\n        }\n        onTick_(_) {\n            this.read();\n        }\n    }\n\n    class IntervalTicker {\n        constructor(doc, interval) {\n            this.disabled_ = false;\n            this.timerId_ = null;\n            this.onTick_ = this.onTick_.bind(this);\n            this.doc_ = doc;\n            this.emitter = new Emitter();\n            this.interval_ = interval;\n            this.setTimer_();\n        }\n        get disabled() {\n            return this.disabled_;\n        }\n        set disabled(inactive) {\n            this.disabled_ = inactive;\n            if (this.disabled_) {\n                this.clearTimer_();\n            }\n            else {\n                this.setTimer_();\n            }\n        }\n        dispose() {\n            this.clearTimer_();\n        }\n        clearTimer_() {\n            if (this.timerId_ === null) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                win.clearInterval(this.timerId_);\n            }\n            this.timerId_ = null;\n        }\n        setTimer_() {\n            this.clearTimer_();\n            if (this.interval_ <= 0) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n            }\n        }\n        onTick_() {\n            if (this.disabled_) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    function createTicker(document, interval) {\n        return interval === 0\n            ? new ManualTicker()\n            : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n    }\n    function createMonitorBindingController(plugin, args) {\n        var _a, _b, _c;\n        const P = ParamsParsers;\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const bindingArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(bindingArgs);\n        const bufferSize = (_b = (_a = P.optional.number(args.params.bufferSize).value) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n            plugin.binding.defaultBufferSize(result.params))) !== null && _b !== void 0 ? _b : 1;\n        const interval = P.optional.number(args.params.interval).value;\n        const binding = new MonitorBinding({\n            reader: reader,\n            target: args.target,\n            ticker: createTicker(args.document, interval),\n            value: initializeBuffer(bufferSize),\n        });\n        const disabled = P.optional.boolean(args.params.disabled).value;\n        const hidden = P.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            document: args.document,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = (_c = P.optional.string(args.params.label).value) !== null && _c !== void 0 ? _c : args.target.key;\n        return new MonitorBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class PluginPool {\n        constructor() {\n            this.pluginsMap_ = {\n                blades: [],\n                inputs: [],\n                monitors: [],\n            };\n        }\n        getAll() {\n            return [\n                ...this.pluginsMap_.blades,\n                ...this.pluginsMap_.inputs,\n                ...this.pluginsMap_.monitors,\n            ];\n        }\n        register(r) {\n            if (r.type === 'blade') {\n                this.pluginsMap_.blades.unshift(r);\n            }\n            else if (r.type === 'input') {\n                this.pluginsMap_.inputs.unshift(r);\n            }\n            else if (r.type === 'monitor') {\n                this.pluginsMap_.monitors.unshift(r);\n            }\n        }\n        createInput(document, target, params) {\n            const initialValue = target.read();\n            if (isEmpty(initialValue)) {\n                throw new TpError({\n                    context: {\n                        key: target.key,\n                    },\n                    type: 'nomatchingcontroller',\n                });\n            }\n            const bc = this.pluginsMap_.inputs.reduce((result, plugin) => result ||\n                createInputBindingController(plugin, {\n                    document: document,\n                    target: target,\n                    params: params,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createMonitor(document, target, params) {\n            const bc = this.pluginsMap_.monitors.reduce((result, plugin) => result ||\n                createMonitorBindingController(plugin, {\n                    document: document,\n                    params: params,\n                    target: target,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createBlade(document, params) {\n            const bc = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                createBladeController(plugin, {\n                    document: document,\n                    params: params,\n                }), null);\n            if (!bc) {\n                throw new TpError({\n                    type: 'nomatchingview',\n                    context: {\n                        params: params,\n                    },\n                });\n            }\n            return bc;\n        }\n        createBladeApi(bc) {\n            if (bc instanceof InputBindingController) {\n                return new InputBindingApi(bc);\n            }\n            if (bc instanceof MonitorBindingController) {\n                return new MonitorBindingApi(bc);\n            }\n            if (bc instanceof RackController) {\n                return new RackApi(bc, this);\n            }\n            const api = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                plugin.api({\n                    controller: bc,\n                    pool: this,\n                }), null);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n    }\n\n    function createDefaultPluginPool() {\n        const pool = new PluginPool();\n        [\n            Point2dInputPlugin,\n            Point3dInputPlugin,\n            Point4dInputPlugin,\n            StringInputPlugin,\n            NumberInputPlugin,\n            StringColorInputPlugin,\n            ObjectColorInputPlugin,\n            NumberColorInputPlugin,\n            BooleanInputPlugin,\n            BooleanMonitorPlugin,\n            StringMonitorPlugin,\n            NumberMonitorPlugin,\n            ButtonBladePlugin,\n            FolderBladePlugin,\n            SeparatorBladePlugin,\n            TabBladePlugin,\n        ].forEach((p) => {\n            pool.register(p);\n        });\n        return pool;\n    }\n\n    class ListApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get options() {\n            return this.controller_.valueController.props.get('options');\n        }\n        set options(options) {\n            this.controller_.valueController.props.set('options', options);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class SliderApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get maxValue() {\n            return this.controller_.valueController.sliderController.props.get('maxValue');\n        }\n        set maxValue(maxValue) {\n            this.controller_.valueController.sliderController.props.set('maxValue', maxValue);\n        }\n        get minValue() {\n            return this.controller_.valueController.sliderController.props.get('minValue');\n        }\n        set minValue(minValue) {\n            this.controller_.valueController.sliderController.props.set('minValue', minValue);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class TextApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get formatter() {\n            return this.controller_.valueController.props.get('formatter');\n        }\n        set formatter(formatter) {\n            this.controller_.valueController.props.set('formatter', formatter);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    const ListBladePlugin = (function () {\n        return {\n            id: 'list',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    options: p.required.custom(parseListOptions),\n                    value: p.required.raw,\n                    view: p.required.constant('list'),\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                const ic = new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: normalizeListOptions(args.params.options),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof ListController)) {\n                    return null;\n                }\n                return new ListApi(args.controller);\n            },\n        };\n    })();\n\n    /**\n     * @hidden\n     */\n    function exportPresetJson(targets) {\n        return targets.reduce((result, target) => {\n            return Object.assign(result, {\n                [target.presetKey]: target.read(),\n            });\n        }, {});\n    }\n    /**\n     * @hidden\n     */\n    function importPresetJson(targets, preset) {\n        targets.forEach((target) => {\n            const value = preset[target.presetKey];\n            if (value !== undefined) {\n                target.write(value);\n            }\n        });\n    }\n\n    class RootApi extends FolderApi {\n        /**\n         * @hidden\n         */\n        constructor(controller, pool) {\n            super(controller, pool);\n        }\n        get element() {\n            return this.controller_.view.element;\n        }\n        /**\n         * Imports a preset of all inputs.\n         * @param preset The preset object to import.\n         */\n        importPreset(preset) {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            importPresetJson(targets, preset);\n            this.refresh();\n        }\n        /**\n         * Exports a preset of all inputs.\n         * @return An exported preset object.\n         */\n        exportPreset() {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            return exportPresetJson(targets);\n        }\n        /**\n         * Refreshes all bindings of the pane.\n         */\n        refresh() {\n            // Force-read all input bindings\n            this.controller_.rackController.rack\n                .find(InputBindingController)\n                .forEach((ibc) => {\n                ibc.binding.read();\n            });\n            // Force-read all monitor bindings\n            this.controller_.rackController.rack\n                .find(MonitorBindingController)\n                .forEach((mbc) => {\n                mbc.binding.read();\n            });\n        }\n    }\n\n    class RootController extends FolderController {\n        constructor(doc, config) {\n            super(doc, {\n                expanded: config.expanded,\n                blade: config.blade,\n                props: config.props,\n                root: true,\n                viewProps: config.viewProps,\n            });\n        }\n    }\n\n    const SliderBladePlugin = {\n        id: 'slider',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                max: p.required.number,\n                min: p.required.number,\n                view: p.required.constant('slider'),\n                format: p.optional.function,\n                label: p.optional.string,\n                value: p.optional.number,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            var _a, _b;\n            const v = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n            const vc = new SliderTextController(args.document, {\n                baseStep: 1,\n                parser: parseNumber,\n                sliderProps: ValueMap.fromObject({\n                    maxValue: args.params.max,\n                    minValue: args.params.min,\n                }),\n                textProps: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(undefined, v),\n                    formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n                }),\n                value: createValue(v),\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: vc,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof SliderTextController)) {\n                return null;\n            }\n            return new SliderApi(args.controller);\n        },\n    };\n\n    const TextBladePlugin = (function () {\n        return {\n            id: 'text',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    parse: p.required.function,\n                    value: p.required.raw,\n                    view: p.required.constant('text'),\n                    format: p.optional.function,\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                var _a;\n                const ic = new TextController(args.document, {\n                    parser: args.params.parse,\n                    props: ValueMap.fromObject({\n                        formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : ((v) => String(v)),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof TextController)) {\n                    return null;\n                }\n                return new TextApi(args.controller);\n            },\n        };\n    })();\n\n    function createDefaultWrapperElement(doc) {\n        const elem = doc.createElement('div');\n        elem.classList.add(ClassName('dfw')());\n        if (doc.body) {\n            doc.body.appendChild(elem);\n        }\n        return elem;\n    }\n    function embedStyle(doc, id, css) {\n        if (doc.querySelector(`style[data-tp-style=${id}]`)) {\n            return;\n        }\n        const styleElem = doc.createElement('style');\n        styleElem.dataset.tpStyle = id;\n        styleElem.textContent = css;\n        doc.head.appendChild(styleElem);\n    }\n    /**\n     * The root pane of Tweakpane.\n     */\n    class Pane extends RootApi {\n        constructor(opt_config) {\n            var _a;\n            const config = opt_config || {};\n            const doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n            const pool = createDefaultPluginPool();\n            const rootController = new RootController(doc, {\n                expanded: config.expanded,\n                blade: createBlade(),\n                props: ValueMap.fromObject({\n                    title: config.title,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            super(rootController, pool);\n            this.pool_ = pool;\n            this.containerElem_ = config.container || createDefaultWrapperElement(doc);\n            this.containerElem_.appendChild(this.element);\n            this.doc_ = doc;\n            this.usesDefaultWrapper_ = !config.container;\n            this.setUpDefaultPlugins_();\n        }\n        get document() {\n            if (!this.doc_) {\n                throw TpError.alreadyDisposed();\n            }\n            return this.doc_;\n        }\n        dispose() {\n            const containerElem = this.containerElem_;\n            if (!containerElem) {\n                throw TpError.alreadyDisposed();\n            }\n            if (this.usesDefaultWrapper_) {\n                const parentElem = containerElem.parentElement;\n                if (parentElem) {\n                    parentElem.removeChild(containerElem);\n                }\n            }\n            this.containerElem_ = null;\n            this.doc_ = null;\n            super.dispose();\n        }\n        registerPlugin(bundle) {\n            const plugins = 'plugin' in bundle\n                ? [bundle.plugin]\n                : 'plugins' in bundle\n                    ? bundle.plugins\n                    : [];\n            plugins.forEach((p) => {\n                this.pool_.register(p);\n                this.embedPluginStyle_(p);\n            });\n        }\n        embedPluginStyle_(plugin) {\n            if (plugin.css) {\n                embedStyle(this.document, `plugin-${plugin.id}`, plugin.css);\n            }\n        }\n        setUpDefaultPlugins_() {\n            // NOTE: This string literal will be replaced with the default CSS by Rollup at the compilation time\n            embedStyle(this.document, 'default', '.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(0,0,0,0.2));--in-bg-a: var(--tp-input-background-color-active, rgba(0,0,0,0.35));--in-bg-f: var(--tp-input-background-color-focus, rgba(0,0,0,0.3));--in-bg-h: var(--tp-input-background-color-hover, rgba(0,0,0,0.25));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:calc(var(--cnt-h-p) + 8px);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\\'\\';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:\\'\\';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv.tp-v-disabled .tp-lstv_s{opacity:0.5}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:\\'\\';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}');\n            this.pool_.getAll().forEach((plugin) => {\n                this.embedPluginStyle_(plugin);\n            });\n            this.registerPlugin({\n                plugins: [\n                    SliderBladePlugin,\n                    ListBladePlugin,\n                    TabBladePlugin,\n                    TextBladePlugin,\n                ],\n            });\n        }\n    }\n\n    const VERSION = new Semver('3.0.0');\n\n    exports.BladeApi = BladeApi;\n    exports.ButtonApi = ButtonApi;\n    exports.FolderApi = FolderApi;\n    exports.InputBindingApi = InputBindingApi;\n    exports.ListApi = ListApi;\n    exports.MonitorBindingApi = MonitorBindingApi;\n    exports.Pane = Pane;\n    exports.SeparatorApi = SeparatorApi;\n    exports.SliderApi = SliderApi;\n    exports.TabApi = TabApi;\n    exports.TabPageApi = TabPageApi;\n    exports.TextApi = TextApi;\n    exports.TpChangeEvent = TpChangeEvent;\n    exports.VERSION = VERSION;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n", "export const CONFIG_DEFAULTS = {\n    AUTO: 'Auto',\n    BACKGROUND_COLOR: 'BackgroundColor',\n    BANNER: 'Banner',\n    BATCH_SIZE: 'BatchSize',\n    CANVAS_CONTEXT: 'CanvasContext',\n    CANVAS: 'Canvas',\n    DEFAULT_ORIGIN: 'DefaultOrigin',\n    GLOBAL_VAR: 'GlobalVar',\n    MAX_TEXTURES: 'MaxTextures',\n    PARENT: 'Parent',\n    RENDERER: 'Renderer',\n    SCENES: 'Scenes',\n    SIZE: 'Size',\n    WEBGL_CONTEXT: 'WebGLContext',\n    WEBGL: 'WebGL'\n};\n", "export const ConfigStore = new Map();\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetBackgroundColor (color: number): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.BACKGROUND_COLOR, color);\n}\n", "import { SetBackgroundColor } from './SetBackgroundColor';\n\nexport function BackgroundColor (color: number): () => void\n{\n    return (): void =>\n    {\n        SetBackgroundColor(color);\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetBanner (title: string = '', version: string = '', url: string = '', color: string = '#fff', background: string = 'linear-gradient(#3e0081 40%, #00bcc3)'): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.BANNER, { title, version, url, color, background });\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetBatchSize (size: number): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.BATCH_SIZE, size);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetHeight (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SIZE).height;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetResolution (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SIZE).resolution;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetWidth (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SIZE).width;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetSize (width: number = 800, height: number = 600, resolution: number = 1): void\n{\n    if (resolution === 0)\n    {\n        resolution = window.devicePixelRatio;\n    }\n\n    ConfigStore.set(CONFIG_DEFAULTS.SIZE, { width, height, resolution });\n}\n", "import { IGLTextureBindingConfig } from './webgl1/textures/IGLTextureBindingConfig';\nimport { ITexture } from '../textures/ITexture';\n\nexport type BindingQueueEntry = {\n    texture: ITexture,\n    glConfig: IGLTextureBindingConfig\n};\n\nconst queue: BindingQueueEntry[] = [];\n\nexport const BindingQueue =\n{\n    add: (texture: ITexture, glConfig?: IGLTextureBindingConfig): void =>\n    {\n        queue.push({ texture, glConfig });\n    },\n\n    get: (): BindingQueueEntry[] =>\n    {\n        return queue;\n    },\n\n    clear: (): void =>\n    {\n        queue.length = 0;\n    }\n};\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetBackgroundColor (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.BACKGROUND_COLOR);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { IRendererConstructor } from '../../renderer/IRendererConstructor';\n\nexport function SetRenderer (renderer: IRendererConstructor): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.RENDERER, renderer);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetDefaultOrigin (x: number = 0.5, y: number = x): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.DEFAULT_ORIGIN, { x, y });\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetGlobalVar (name: string): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.GLOBAL_VAR, name);\n}\n", "import { SetGlobalVar } from './SetGlobalVar';\n\nexport function GlobalVar (name: string): () => void\n{\n    return (): void =>\n    {\n        SetGlobalVar(name);\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetMaxTextures (max: number): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.MAX_TEXTURES, max);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Attempts to get the target DOM element based on the given value, which can be either\n * a string, in which case it will be looked-up by ID, or an element node. If nothing\n * can be found it will return a reference to the document.body.\n *\n * @function Phaser.DOM.GetElement\n * @since 4.0.0\n *\n * @param {(string | HTMLElement)} [target] - The DOM element to look-up.\n * \n * @returns {HTMLElement} The HTML Element that was found.\n */\nexport function GetElement (target?: string | HTMLElement): HTMLElement\n{\n    let element: HTMLElement;\n\n    if (target)\n    {\n        if (typeof target === 'string')\n        {\n            //  Hopefully an element ID\n            element = document.getElementById(target);\n        }\n        else if (typeof target === 'object' && target.nodeType === 1)\n        {\n            //  Quick test for a HTMLElement\n            element = target;\n        }\n    }\n\n    if (!element)\n    {\n        element = document.body;\n    }\n\n    return element;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { GetElement } from '../../dom/GetElement';\n\nexport function SetParent (parentElement?: string | HTMLElement): void\n{\n    //  If this function was called and `null` *wasn't* given as the parent\n    //  then we try to figure it out, or fallback to the document body\n    if (parentElement)\n    {\n        ConfigStore.set(CONFIG_DEFAULTS.PARENT, GetElement(parentElement));\n    }\n}\n", "import { SetParent } from './SetParent';\n\nexport function Parent (parentElement?: string | HTMLElement): () => void\n{\n    return (): void =>\n    {\n        SetParent(parentElement);\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { ISceneConstructor } from '../../scenes/ISceneConstructor';\n\nexport function SetScenes (scenes?: ISceneConstructor | Array<ISceneConstructor>): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.SCENES, [].concat(scenes));\n}\n", "import { ISceneConstructor } from '../../scenes/ISceneConstructor';\nimport { SetScenes } from './SetScenes';\n\nexport function Scenes (scenes?: ISceneConstructor | Array<ISceneConstructor>): () => void\n{\n    return (): void =>\n    {\n        SetScenes(scenes);\n    };\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Checks if a given point is inside a Rectangle's bounds.\n */\nexport function RectangleContains (rect: IRectangle, x: number, y: number): boolean\n{\n    if (rect.width <= 0 || rect.height <= 0)\n    {\n        return false;\n    }\n\n    return (rect.x <= x && rect.x + rect.width >= x && rect.y <= y && rect.y + rect.height >= y);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RectangleContains } from './RectangleContains';\n\nexport class Rectangle\n{\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n\n    constructor (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\n    {\n        this.set(x, y, width, height);\n    }\n\n    set (x: number = 0, y: number = 0, width: number = 0, height: number = 0): this\n    {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n\n        return this;\n    }\n\n    contains (x: number, y: number): boolean\n    {\n        return RectangleContains(this, x, y);\n    }\n\n    set right (value: number)\n    {\n        if (value <= this.x)\n        {\n            this.width = 0;\n        }\n        else\n        {\n            this.width = value - this.x;\n        }\n    }\n\n    get right (): number\n    {\n        return this.x + this.width;\n    }\n\n    set bottom (value: number)\n    {\n        if (value <= this.y)\n        {\n            this.height = 0;\n        }\n        else\n        {\n            this.height = value - this.y;\n        }\n    }\n\n    get bottom (): number\n    {\n        return this.y + this.height;\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function AddViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): Rectangle\n{\n    const viewport = new Rectangle(x, y, width, height);\n\n    renderPass.viewportStack.push(viewport);\n\n    return viewport;\n}\n", "export let gl: WebGLRenderingContext;\n\nexport const GL =\n{\n    get: (): WebGLRenderingContext =>\n    {\n        return gl;\n    },\n\n    set: (context: WebGLRenderingContext | undefined): void =>\n    {\n        gl = context;\n    }\n};\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle';\nimport { gl } from '../GL';\n\nexport function BindViewport (renderPass: IRenderPass, viewport?: Rectangle): void\n{\n    if (!viewport)\n    {\n        viewport = renderPass.currentViewport;\n\n        if (!viewport)\n        {\n            return;\n        }\n    }\n\n    const glv = gl.getParameter(gl.VIEWPORT);\n\n    if (glv[0] !== viewport.x || glv[1] !== viewport.y || glv[2] !== viewport.width || glv[3] !== viewport.height)\n    {\n        gl.viewport(viewport.x, viewport.y, viewport.width, viewport.height);\n    }\n}\n", "import { AddViewport } from './AddViewport';\nimport { BindViewport } from './BindViewport';\nimport { IRenderPass } from './IRenderPass';\n\nexport function SetViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): void\n{\n    const entry = AddViewport(renderPass, x, y, width, height);\n\n    BindViewport(renderPass, entry);\n\n    renderPass.currentViewport = entry;\n}\n", "import { FramebufferStackEntry } from './RenderPass';\nimport { IRenderPass } from './IRenderPass';\nimport { SetViewport } from './SetViewport';\nimport { gl } from '../GL';\n\nexport function BindFramebuffer (renderPass: IRenderPass, clear: boolean = true, entry?: FramebufferStackEntry): void\n{\n    if (!entry)\n    {\n        entry = renderPass.currentFramebuffer;\n    }\n\n    const { framebuffer, viewport } = entry;\n\n    //  TODO - Only bind if different\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n    if (clear)\n    {\n        gl.clearColor(0, 0, 0, 0);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    }\n\n    if (viewport)\n    {\n        SetViewport(renderPass, viewport.x, viewport.y, viewport.width, viewport.height);\n    }\n}\n", "import { BindViewport } from './BindViewport';\nimport { IRenderPass } from './IRenderPass';\n\nexport function PopViewport (renderPass: IRenderPass): void\n{\n    const stack = renderPass.viewportStack;\n\n    //  > 1 because index 0 contains the default, which we don't want to remove\n    if (stack.length > 1)\n    {\n        stack.pop();\n    }\n\n    renderPass.currentViewport = stack[ stack.length - 1 ];\n\n    BindViewport(renderPass);\n}\n", "import { BindFramebuffer } from './BindFramebuffer';\nimport { IRenderPass } from './IRenderPass';\nimport { PopViewport } from './PopViewport';\n\nexport function PopFramebuffer (renderPass: IRenderPass): void\n{\n    const stack = renderPass.framebufferStack;\n\n    //  > 1 because index 0 contains the default, which we don't want to remove\n    if (stack.length > 1)\n    {\n        if (renderPass.currentFramebuffer.viewport)\n        {\n            PopViewport(renderPass);\n        }\n\n        stack.pop();\n    }\n\n    renderPass.currentFramebuffer = stack[ stack.length - 1 ];\n\n    BindFramebuffer(renderPass, false);\n}\n", "import { FramebufferStackEntry } from './RenderPass';\nimport { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function AddFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer, viewport?: Rectangle): FramebufferStackEntry\n{\n    const entry = { framebuffer, viewport };\n\n    renderPass.framebufferStack.push(entry);\n\n    return entry;\n}\n", "import { AddFramebuffer } from './AddFramebuffer';\nimport { BindFramebuffer } from './BindFramebuffer';\nimport { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle';\n\nexport function SetFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer, clear: boolean = true, viewport?: Rectangle): void\n{\n    const entry = AddFramebuffer(renderPass, framebuffer, viewport);\n\n    BindFramebuffer(renderPass, clear, entry);\n\n    renderPass.currentFramebuffer = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { PopFramebuffer } from './PopFramebuffer';\nimport { SetFramebuffer } from './SetFramebuffer';\nimport { gl } from '../GL';\n\nexport function Draw (renderPass: IRenderPass): void\n{\n    const count = renderPass.count;\n\n    if (count === 0)\n    {\n        return;\n    }\n\n    const currentBuffer = renderPass.currentVertexBuffer;\n    const currentShader = renderPass.currentShader;\n\n    const renderToFramebuffer = currentShader.shader.renderToFramebuffer;\n\n    if (renderToFramebuffer)\n    {\n        SetFramebuffer(renderPass, currentShader.shader.framebuffer, true);\n    }\n\n    if (count === currentBuffer.batchSize)\n    {\n        const type = (currentBuffer.isDynamic) ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n        gl.bufferData(gl.ARRAY_BUFFER, currentBuffer.data, type);\n    }\n    else\n    {\n        const subsize = (currentBuffer.indexed) ? count * currentBuffer.entryElementSize : count * currentBuffer.vertexElementSize;\n\n        const view = currentBuffer.vertexViewF32.subarray(0, subsize);\n\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);\n    }\n\n    if (currentBuffer.indexed)\n    {\n        gl.drawElements(gl.TRIANGLES, count * currentBuffer.entryIndexSize, gl.UNSIGNED_SHORT, 0);\n    }\n    else\n    {\n        gl.drawArrays(gl.TRIANGLES, 0, count);\n    }\n\n    if (renderToFramebuffer)\n    {\n        PopFramebuffer(renderPass);\n    }\n}\n", "import { Draw } from './Draw';\nimport { IRenderPass } from './IRenderPass';\n\nexport function Flush (renderPass: IRenderPass, forceCount?: number): boolean\n{\n    if (forceCount)\n    {\n        renderPass.count = forceCount;\n    }\n\n    const count = renderPass.count;\n\n    if (count === 0)\n    {\n        return false;\n    }\n\n    Draw(renderPass);\n\n    renderPass.prevCount = count;\n\n    renderPass.count = 0;\n\n    renderPass.flushTotal++;\n\n    return true;\n}\n", "import { Flush } from './Flush';\nimport { IRenderPass } from './IRenderPass';\n\nexport function End (renderPass: IRenderPass): void\n{\n    Flush(renderPass);\n}\n", "export function GetRGBArray (color: number, output: number[] = []): number[]\n{\n    const r: number = color >> 16 & 0xFF;\n    const g: number = color >> 8 & 0xFF;\n    const b: number = color & 0xFF;\n    const a: number = (color > 16777215) ? color >>> 24 : 255;\n\n    output[0] = r / 255;\n    output[1] = g / 255;\n    output[2] = b / 255;\n    output[3] = a / 255;\n\n    return output;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetWebGLContext (): WebGLContextAttributes\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.WEBGL_CONTEXT);\n}\n", "import { IGLTextureBinding } from './IGLTextureBinding';\nimport { gl } from '../GL';\n\nexport function CreateGLTexture <T extends IGLTextureBinding> (binding: T): WebGLTexture\n{\n    const { parent, flipY, unpackPremultiplyAlpha, minFilter, magFilter, wrapS, wrapT, generateMipmap, isPOT } = binding;\n\n    const source = parent.image;\n\n    let width = parent.width;\n    let height = parent.height;\n\n    const glTexture: WebGLTexture = gl.createTexture();\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, glTexture);\n\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, unpackPremultiplyAlpha);\n\n    if (source)\n    {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n\n        width = source.width;\n        height = source.height;\n    }\n    else\n    {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    }\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\n\n    if (generateMipmap && isPOT)\n    {\n        gl.generateMipmap(gl.TEXTURE_2D);\n    }\n\n    binding.texture = glTexture;\n\n    return glTexture;\n}\n", "import { gl } from '../GL';\n\nexport function DeleteFramebuffer (framebuffer: WebGLFramebuffer): void\n{\n    if (gl && gl.isFramebuffer(framebuffer))\n    {\n        gl.deleteFramebuffer(framebuffer);\n    }\n}\n", "import { gl } from '../GL';\n\nexport function DeleteGLTexture (texture: WebGLTexture): void\n{\n    if (gl.isTexture(texture))\n    {\n        gl.deleteTexture(texture);\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Checks if the given `width` and `height` are a power of two.\n * Useful for checking texture dimensions.\n *\n * @function Phaser.Math.Pow2.IsSize\n * @since 3.0.0\n *\n * @param {number} width - The width.\n * @param {number} height - The height.\n *\n * @return {boolean} `true` if `width` and `height` are a power of two, otherwise `false`.\n */\nexport function IsSizePowerOfTwo (width: number, height: number): boolean\n{\n    if (width < 1 || height < 1)\n    {\n        return false;\n    }\n\n    return ((width & (width - 1)) === 0) && ((height & (height - 1)) === 0);\n}\n", "import { gl } from '../GL';\n\nexport function SetGLTextureFilterMode (texture: WebGLTexture, linear: boolean = true): void\n{\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\n}\n", "import { IGLTextureBinding } from './IGLTextureBinding';\nimport { gl } from '../GL';\n\nexport function UpdateGLTexture <T extends IGLTextureBinding> (binding: T): WebGLTexture\n{\n    const source = binding.parent.image;\n    const width = source.width;\n    const height = source.height;\n\n    if (width > 0 && height > 0)\n    {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, binding.texture);\n\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, binding.flipY);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n    }\n\n    return binding.texture;\n}\n", "import { CreateGLTexture } from './CreateGLTexture';\nimport { DeleteFramebuffer } from '../fbo/DeleteFramebuffer';\nimport { DeleteGLTexture } from './DeleteGLTexture';\nimport { IGLTextureBinding } from './IGLTextureBinding';\nimport { IGLTextureBindingConfig } from './IGLTextureBindingConfig';\nimport { ITexture } from '../../../textures/ITexture';\nimport { IsSizePowerOfTwo } from '../../../math/pow2/IsSizePowerOfTwo';\nimport { SetGLTextureFilterMode } from './SetGLTextureFilterMode';\nimport { UpdateGLTexture } from './UpdateGLTexture';\nimport { gl } from '../GL';\n\nexport class GLTextureBinding implements IGLTextureBinding\n{\n    parent: ITexture;\n\n    texture: WebGLTexture;\n    framebuffer: WebGLFramebuffer;\n    depthbuffer: WebGLRenderbuffer;\n\n    index: number = 0;\n    indexCounter: number = -1;\n\n    dirtyIndex: boolean = true;\n    unpackPremultiplyAlpha: boolean = true;\n\n    minFilter: GLenum;\n    magFilter: GLenum;\n    wrapS: GLenum;\n    wrapT: GLenum;\n\n    flipY: boolean = false;\n    isPOT: boolean = false;\n    generateMipmap: boolean = false;\n\n    constructor (parent: ITexture, config: IGLTextureBindingConfig = {})\n    {\n        this.parent = parent;\n\n        this.isPOT = IsSizePowerOfTwo(parent.width, parent.height);\n\n        const {\n            texture = null,\n            framebuffer = null,\n            depthbuffer = null,\n            unpackPremultiplyAlpha = true,\n            minFilter = (this.isPOT) ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR,\n            magFilter = gl.LINEAR,\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            generateMipmap = this.isPOT,\n            flipY = false\n        } = config;\n\n        this.minFilter = minFilter;\n        this.magFilter = magFilter;\n        this.wrapS = wrapS;\n        this.wrapT = wrapT;\n        this.generateMipmap = generateMipmap;\n        this.flipY = flipY;\n        this.unpackPremultiplyAlpha = unpackPremultiplyAlpha;\n\n        if (framebuffer)\n        {\n            this.framebuffer = framebuffer;\n        }\n\n        if (depthbuffer)\n        {\n            this.depthbuffer = depthbuffer;\n        }\n\n        if (texture)\n        {\n            this.texture = texture;\n        }\n        else\n        {\n            CreateGLTexture(this);\n        }\n    }\n\n    //  Needed?\n    setFilter (linear: boolean): void\n    {\n        if (this.texture)\n        {\n            SetGLTextureFilterMode(this.texture, linear);\n        }\n    }\n\n    create (): WebGLTexture\n    {\n        const texture = this.texture;\n\n        if (texture)\n        {\n            DeleteGLTexture(texture);\n        }\n\n        return CreateGLTexture(this);\n    }\n\n    update (): WebGLTexture\n    {\n        const texture = this.texture;\n\n        if (!texture)\n        {\n            return CreateGLTexture(this);\n        }\n        else\n        {\n            return UpdateGLTexture(this);\n        }\n    }\n\n    setIndex (index: number): void\n    {\n        this.dirtyIndex = (index !== this.index);\n        this.index = index;\n    }\n\n    destroy (): void\n    {\n        DeleteGLTexture(this.texture);\n        DeleteFramebuffer(this.framebuffer);\n\n        this.parent = null;\n        this.texture = null;\n        this.framebuffer = null;\n    }\n}\n", "import { BindingQueue } from '../../BindingQueue';\nimport { GLTextureBinding } from '../textures/GLTextureBinding';\n\nexport function ProcessBindingQueue (): void\n{\n    const queue = BindingQueue.get();\n\n    queue.forEach(entry =>\n    {\n        const { texture, glConfig } = entry;\n\n        if (!texture.binding)\n        {\n            texture.binding = new GLTextureBinding(texture, glConfig);\n        }\n    });\n\n    BindingQueue.clear();\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetMaxTextures (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.MAX_TEXTURES);\n}\n", "import { gl } from '../GL';\n\n//  From Pixi v5\n\nconst fragTemplate = [\n    'precision mediump float;',\n    'void main(void){',\n    'float test = 0.1;',\n    '%forloop%',\n    'gl_FragColor = vec4(0.0);',\n    '}'\n].join('\\n');\n\nfunction GenerateSrc (maxIfs: number): string\n{\n    let src = '';\n\n    for (let i = 0; i < maxIfs; ++i)\n    {\n        if (i > 0)\n        {\n            src += '\\nelse ';\n        }\n\n        if (i < maxIfs - 1)\n        {\n            src += `if(test == ${i}.0){}`;\n        }\n    }\n\n    return src;\n}\n\nexport function CheckShaderMaxIfStatements (maxIfs: number): number\n{\n    const shader = gl.createShader(gl.FRAGMENT_SHADER);\n\n    // eslint-disable-next-line no-constant-condition\n    while (true)\n    {\n        const fragmentSrc = fragTemplate.replace(/%forloop%/gi, GenerateSrc(maxIfs));\n\n        gl.shaderSource(shader, fragmentSrc);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\n        {\n            maxIfs = (maxIfs / 2) | 0;\n        }\n        else\n        {\n            // valid!\n            break;\n        }\n    }\n\n    return maxIfs;\n}\n", "import { GetMaxTextures, SetMaxTextures } from '../../../config/maxtextures/';\n\nimport { CheckShaderMaxIfStatements } from '../shaders/CheckShaderMaxIfStatements';\nimport { IRenderPass } from './IRenderPass';\nimport { gl } from '../GL';\n\n//  As per the WebGL spec, the browser should always support at least 8 texture units\n\nexport function CreateTempTextures (renderPass: IRenderPass): void\n{\n    let maxGPUTextures: number = CheckShaderMaxIfStatements(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));\n\n    const maxConfigTextures = GetMaxTextures();\n\n    if (maxConfigTextures === 0 || (maxConfigTextures > 0 && maxConfigTextures > maxGPUTextures))\n    {\n        //  Insert gpu limit into config value\n        SetMaxTextures(maxGPUTextures);\n    }\n    else if (maxConfigTextures > 0 && maxConfigTextures < maxGPUTextures)\n    {\n        //  Limit to config setting, or 8, whichever is higher\n        maxGPUTextures = Math.max(8, maxConfigTextures);\n    }\n\n    const tempTextures = renderPass.tempTextures;\n\n    if (tempTextures.length)\n    {\n        tempTextures.forEach(texture =>\n        {\n            gl.deleteTexture(texture);\n        });\n    }\n\n    const index = [];\n\n    //  Create temp textures to stop WebGL errors on mac os\n    for (let texturesIndex: number = 0; texturesIndex < maxGPUTextures; texturesIndex++)\n    {\n        const tempTexture = gl.createTexture();\n\n        gl.activeTexture(gl.TEXTURE0 + texturesIndex);\n\n        gl.bindTexture(gl.TEXTURE_2D, tempTexture);\n\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([ 0, 0, 255, 255 ]));\n\n        tempTextures[texturesIndex] = tempTexture;\n\n        index.push(texturesIndex);\n    }\n\n    renderPass.maxTextures = maxGPUTextures;\n\n    renderPass.textureIndex = index;\n\n    //  ID Zero is reserved for FBO Textures\n    renderPass.currentActiveTexture = 1;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetBatchSize (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.BATCH_SIZE);\n}\n", "import { gl } from '../GL';\n\nexport function DeleteGLBuffer (buffer: WebGLBuffer): void\n{\n    if (gl.isBuffer(buffer))\n    {\n        gl.deleteBuffer(buffer);\n    }\n}\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\nimport { IVertexBuffer } from './IVertexBuffer';\nimport { IVertexBufferConfig } from './IVertexBufferConfig';\nimport { gl } from '../GL';\n\nexport class VertexBuffer implements IVertexBuffer\n{\n    /**\n     * Maximum number of entries per batch before a flush takes place.\n     * For a Mesh, this is the number of triangles / faces in the vertex buffer.\n     * Typically each face consists of 3 verticies.\n     *\n     * @type {number}\n     */\n    batchSize: number;\n\n    /**\n     * The size, in bytes, per entry in the array buffer.\n     *\n     * @type {number}\n     */\n    dataSize: number;\n\n    /**\n     * The amount of elements / floats a single vertex consists of.\n     *\n     * The default is 6:\n     *\n     * position (x,y - 2 floats)\n     * texture coord (x,y - 2 floats)\n     * texture index (uint)\n     * packed color (uint)\n     *\n     * @type {number}\n     */\n    vertexElementSize: number;\n\n    /**\n     * The size, in bytes, of a single vertex in the array buffer.\n     *\n     * This is `vertexElementSize * dataSize`.\n     *\n     * @type {number}\n     */\n    vertexByteSize: number;\n\n    /**\n     * The size, in bytes, of a single entry in the array buffer.\n     *\n     * This is `vertexByteSize * 4` for a quad.\n     *\n     * @type {number}\n     */\n    entryByteSize: number;\n\n    /**\n     * The size, in bytes, of the Array Buffer.\n     *\n     * This is `batchSize * entryByteSize`\n     *\n     * @type {number}\n     */\n    bufferByteSize: number;\n\n    /**\n     * The Array Buffer.\n     *\n     * @type {ArrayBuffer}\n     */\n    data: ArrayBuffer;\n\n    /**\n     * Float32 View of the Array Buffer.\n     *\n     * @type {Float32Array}\n     */\n    vertexViewF32: Float32Array;\n\n    /**\n     * Uint32 View of the Array Buffer.\n     *\n     * @type {Uint32Array}\n     */\n    vertexViewU32: Uint32Array;\n\n    /**\n     * The data array buffer.\n     *\n     * @type {WebGLBuffer}\n     */\n    vertexBuffer: WebGLBuffer;\n\n    indexed: boolean = false;\n\n    isDynamic: boolean = false;\n\n    /**\n     * The total number of entries added to the buffer so far, or reserved to be added.\n     *\n     * This is the total number of indices / verticies, not faces.\n     * Typically there are 3 verts per face, so this value is usually batchSize x 3 for a Mesh.\n     *\n     * @type {number}\n     */\n    count: number = 0;\n\n    /**\n     * The current buffer offset.\n     *\n     * @type {number}\n     */\n    offset: number = 0;\n\n    elementsPerEntry: number;\n\n    constructor (config: IVertexBufferConfig = {})\n    {\n        const {\n            batchSize = 1,\n            dataSize = 4,\n            isDynamic = true,\n            elementsPerEntry = 4,\n            vertexElementSize = 6\n        } = config;\n\n        this.batchSize = batchSize;\n        this.dataSize = dataSize;\n        this.vertexElementSize = vertexElementSize;\n        this.isDynamic = isDynamic;\n        this.elementsPerEntry = elementsPerEntry;\n\n        //  Derive the remaining values\n        this.vertexByteSize = vertexElementSize * dataSize;\n        this.entryByteSize = this.vertexByteSize * elementsPerEntry;\n        this.bufferByteSize = batchSize * this.entryByteSize;\n\n        this.create();\n    }\n\n    resize (batchSize: number): void\n    {\n        this.batchSize = batchSize;\n        this.bufferByteSize = batchSize * this.entryByteSize;\n\n        if (this.vertexBuffer)\n        {\n            DeleteGLBuffer(this.vertexBuffer);\n        }\n\n        this.create();\n    }\n\n    create (): void\n    {\n        const data = new ArrayBuffer(this.bufferByteSize);\n\n        this.data = data;\n\n        this.vertexViewF32 = new Float32Array(data);\n        this.vertexViewU32 = new Uint32Array(data);\n\n        this.vertexBuffer = gl.createBuffer();\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\n        const type = (this.isDynamic) ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n        gl.bufferData(gl.ARRAY_BUFFER, data, type);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    }\n\n    add (count: number): void\n    {\n        this.count += count;\n        this.offset += (this.vertexElementSize * count);\n    }\n\n    reset (): void\n    {\n        this.count = 0;\n        this.offset = 0;\n    }\n\n    canContain (count: number): boolean\n    {\n        return ((this.count + count) <= this.batchSize);\n    }\n\n    free (): number\n    {\n        return Math.max(0, 1 - (this.count / this.batchSize));\n    }\n\n    bind (): void\n    {\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    }\n\n    destroy (): void\n    {\n        DeleteGLBuffer(this.vertexBuffer);\n\n        this.data = null;\n        this.vertexViewF32 = null;\n        this.vertexViewU32 = null;\n        this.vertexBuffer = null;\n    }\n}\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\nimport { IIndexedVertexBuffer } from './IIndexedVertexBuffer';\nimport { IVertexBufferConfig } from './IVertexBufferConfig';\nimport { VertexBuffer } from './VertexBuffer';\nimport { gl } from '../GL';\n\nexport class IndexedVertexBuffer extends VertexBuffer implements IIndexedVertexBuffer\n{\n    /**\n     * The size, in bytes, per entry in the element index array.\n     *\n     * @type {number}\n     */\n    indexSize: number;\n\n    /**\n     * The size, in quantity of elements, of a single entry in the element index array.\n     *\n     * This is `vertexElementSize * 4` for a quad.\n     *\n     * @type {number}\n     */\n    entryElementSize: number;\n\n    /**\n     * The total number of entries per entry in the element index array.\n     *\n     * For a quad, the IBO contains 6 entries per entry:\n     *\n     * 0, 1, 2\n     * 2, 3, 0\n     *\n     * @type {number}\n     */\n    entryIndexSize: number;\n\n    /**\n     * The Element Array Buffer.\n     *\n     * @type {Uint16Array}\n     */\n    index: Uint16Array;\n\n    /**\n     * The element array buffer.\n     *\n     * @type {WebGLBuffer}\n     */\n    indexBuffer: WebGLBuffer;\n\n    indexLayout: number[];\n\n    constructor (config: IVertexBufferConfig = {})\n    {\n        super(config);\n\n        const {\n            indexSize = 4,\n            entryIndexSize = 6,\n            indexLayout = null\n        } = config;\n\n        this.indexed = true;\n\n        this.indexSize = indexSize;\n        this.entryIndexSize = entryIndexSize;\n\n        //  Derive the remaining values\n        this.entryElementSize = this.vertexElementSize * this.elementsPerEntry;\n\n        const seededIndexBuffer = [];\n\n        if (indexLayout)\n        {\n            this.indexLayout = indexLayout;\n\n            //  Seed the index buffer\n            for (let i = 0; i < (this.batchSize * indexSize); i += indexSize)\n            {\n                for (let c = 0; c < indexLayout.length; c++)\n                {\n                    seededIndexBuffer.push(i + indexLayout[c]);\n                }\n            }\n        }\n\n        this.create();\n        this.createIndexBuffer(seededIndexBuffer);\n    }\n\n    createIndexBuffer (seededIndex: number[]): void\n    {\n        this.index = new Uint16Array(seededIndex);\n\n        this.indexBuffer = gl.createBuffer();\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.index, gl.STATIC_DRAW);\n\n        //  Free memory\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        seededIndex = [];\n    }\n\n    bind (): void\n    {\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    }\n\n    destroy (): void\n    {\n        super.destroy();\n\n        DeleteGLBuffer(this.indexBuffer);\n\n        this.index = null;\n        this.indexLayout = null;\n        this.indexBuffer = null;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Checks if an array can be used as a matrix.\n *\n * A matrix is a two-dimensional array (array of arrays), where all sub-arrays (rows) have the same length. There must be at least two rows:\n *\n * ```\n *    [\n *        [ 1, 1, 1, 1, 1, 1 ],\n *        [ 2, 0, 0, 0, 0, 4 ],\n *        [ 2, 0, 1, 2, 0, 4 ],\n *        [ 2, 0, 3, 4, 0, 4 ],\n *        [ 2, 0, 0, 0, 0, 4 ],\n *        [ 3, 3, 3, 3, 3, 3 ]\n *    ]\n * ```\n */\nexport function CheckMatrix (matrix: unknown[][]): boolean\n{\n    if (!Array.isArray(matrix) || matrix.length < 2 || !Array.isArray(matrix[0]))\n    {\n        return false;\n    }\n\n    //  How long is the first row?\n    const size = matrix[0].length;\n\n    //  Validate the rest of the rows are the same length\n    for (let i = 1; i < matrix.length; i++)\n    {\n        if (matrix[i].length !== size)\n        {\n            return false;\n        }\n    }\n\n    return true;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { CheckMatrix } from './CheckMatrix';\n\n/**\n * Generates a string (which you can pass to console.log) from the given Array Matrix.\n */\nexport function MatrixToString (matrix: unknown[][]): string\n{\n    let str = '';\n\n    if (!CheckMatrix(matrix))\n    {\n        return str;\n    }\n\n    for (let r = 0; r < matrix.length; r++)\n    {\n        for (let c = 0; c < matrix[r].length; c++)\n        {\n            const cell = matrix[r][c].toString();\n\n            if (cell !== 'undefined')\n            {\n                str = str.padEnd(2, cell);\n            }\n            else\n            {\n                str += '?';\n            }\n\n            if (c < matrix[r].length - 1)\n            {\n                str += ' |';\n            }\n        }\n\n        if (r < matrix.length - 1)\n        {\n            str += '\\n';\n\n            for (let i = 0; i < matrix[r].length; i++)\n            {\n                str += '---';\n\n                if (i < matrix[r].length - 1)\n                {\n                    str += '+';\n                }\n            }\n\n            str += '\\n';\n        }\n\n    }\n\n    return str;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Reverses the columns in the given Array Matrix.\n */\nexport function ReverseColumns (matrix: unknown[][]): unknown[][]\n{\n    return matrix.reverse();\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Reverses the rows in the given Array Matrix.\n */\nexport function ReverseRows (matrix: unknown[][]): unknown[][]\n{\n    for (let i = 0; i < matrix.length; i++)\n    {\n        matrix[i].reverse();\n    }\n\n    return matrix;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Transposes the elements of the given matrix (array of arrays).\n *\n * The transpose of a matrix is a new matrix whose rows are the columns of the original.\n */\nexport function TransposeMatrix (matrix: unknown[][]): unknown[][]\n{\n    const sourceRowCount = matrix.length;\n    const sourceColCount = matrix[0].length;\n\n    const result = new Array(sourceColCount);\n\n    for (let i = 0; i < sourceColCount; i++)\n    {\n        result[i] = new Array(sourceRowCount);\n\n        for (let j = sourceRowCount - 1; j > -1; j--)\n        {\n            result[i][j] = matrix[j][i];\n        }\n    }\n\n    return result;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { CheckMatrix } from './CheckMatrix';\nimport { TransposeMatrix } from './TransposeMatrix';\n\n/**\n * Rotates the array matrix based on the given rotation value.\n *\n * The value can be given in degrees: 90, -90, 270, -270 or 180,\n * or a string command: `rotateLeft`, `rotateRight` or `rotate180`.\n *\n * Based on the routine from {@link http://jsfiddle.net/MrPolywhirl/NH42z/}.\n */\nexport function RotateMatrix (matrix: unknown[][], direction: number | string = 90): unknown[][]\n{\n    if (!CheckMatrix(matrix))\n    {\n        return matrix;\n    }\n\n    if (typeof direction !== 'string')\n    {\n        direction = ((direction % 360) + 360) % 360;\n    }\n\n    if (direction === 90 || direction === -270 || direction === 'rotateLeft')\n    {\n        matrix = TransposeMatrix(matrix);\n        matrix.reverse();\n    }\n    else if (direction === -90 || direction === 270 || direction === 'rotateRight')\n    {\n        matrix.reverse();\n        matrix = TransposeMatrix(matrix);\n    }\n    else if (Math.abs(direction as number) === 180 || direction === 'rotate180')\n    {\n        for (let i = 0; i < matrix.length; i++)\n        {\n            matrix[i].reverse();\n        }\n\n        matrix.reverse();\n    }\n\n    return matrix;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RotateMatrix } from './RotateMatrix';\n\n/**\n * Rotates the array matrix 180 degrees.\n *\n * @function Phaser.Utils.Array.Matrix.Rotate180\n * @since 3.0.0\n *\n * @generic T\n * @genericUse {T[][]} - [matrix,$return]\n *\n * @param {T[][]} [matrix] - The array to rotate.\n *\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\n */\nexport function Rotate180 (matrix: unknown[][]): unknown[][]\n{\n    return RotateMatrix(matrix, 180);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RotateMatrix } from './RotateMatrix';\n\n/**\n * Rotates the array matrix to the left (or 90 degrees)\n *\n * @function Phaser.Utils.Array.Matrix.RotateLeft\n * @since 3.0.0\n *\n * @generic T\n * @genericUse {T[][]} - [matrix,$return]\n *\n * @param {T[][]} [matrix] - The array to rotate.\n *\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\n */\nexport function RotateLeft (matrix: unknown[][]): unknown[][]\n{\n    return RotateMatrix(matrix, 90);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RotateMatrix } from './RotateMatrix';\n\n/**\n * Rotates the array matrix to the left (or -90 degrees)\n *\n * @function Phaser.Utils.Array.Matrix.RotateRight\n * @since 3.0.0\n *\n * @generic T\n * @genericUse {T[][]} - [matrix,$return]\n *\n * @param {T[][]} [matrix] - The array to rotate.\n *\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\n */\nexport function RotateRight (matrix: unknown[][]): unknown[][]\n{\n    return RotateMatrix(matrix, -90);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Create an array representing the range of numbers (usually integers), between, and inclusive of,\n * the given `start` and `end` arguments. For example:\n *\n * `var array = numberArray(2, 4); // array = [2, 3, 4]`\n * `var array = numberArray(0, 9); // array = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]`\n *\n * This is equivalent to `numberArrayStep(start, end, 1)`.\n *\n * You can optionally provide a prefix and / or suffix string. If given the array will contain\n * strings, not integers. For example:\n *\n * `var array = numberArray(1, 4, 'Level '); // array = [\"Level 1\", \"Level 2\", \"Level 3\", \"Level 4\"]`\n * `var array = numberArray(5, 7, 'HD-', '.png'); // array = [\"HD-5.png\", \"HD-6.png\", \"HD-7.png\"]`\n *\n * @param {number} start - The minimum value the array starts with.\n * @param {number} end - The maximum value the array contains.\n * @param {string} [prefix] - Optional prefix to place before the number. If provided the array will contain strings, not integers.\n * @param {string} [suffix] - Optional suffix to place after the number. If provided the array will contain strings, not integers.\n *\n * @return {(number[]|string[])} The array of number values, or strings if a prefix or suffix was provided.\n */\nexport function NumberArray (start: number, end: number, prefix?: string, suffix?: string): (string | number)[]\n{\n    const result: (string | number)[] = [];\n\n    for (let i = start; i <= end; i++)\n    {\n        if (prefix || suffix)\n        {\n            let key = (prefix) ? prefix + i.toString() : i.toString();\n\n            if (suffix)\n            {\n                key = key.concat(suffix);\n            }\n\n            result.push(key);\n        }\n        else\n        {\n            result.push(i);\n        }\n    }\n\n    return result;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Round a given number so it is further away from zero. That is, positive numbers are rounded up, and negative numbers are rounded down.\n *\n * @function Phaser.Math.RoundAwayFromZero\n * @since 3.0.0\n *\n * @param {number} value - The number to round.\n *\n * @return {number} The rounded number, rounded away from zero.\n */\nexport function RoundAwayFromZero (value: number): number\n{\n    // \"Opposite\" of truncate.\n    return (value > 0) ? Math.ceil(value) : Math.floor(value);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RoundAwayFromZero } from '../../math/RoundAwayFromZero';\n\n/**\n * Create an array of numbers (positive and/or negative) progressing from `start`\n * up to but not including `end` by advancing by `step`.\n *\n * If `start` is less than `end` a zero-length range is created unless a negative `step` is specified.\n *\n * Certain values for `start` and `end` (eg. NaN/undefined/null) are currently coerced to 0;\n * for forward compatibility make sure to pass in actual numbers.\n *\n * @example\n * NumberArrayStep(4);\n * // => [0, 1, 2, 3]\n *\n * NumberArrayStep(1, 5);\n * // => [1, 2, 3, 4]\n *\n * NumberArrayStep(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * NumberArrayStep(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * NumberArrayStep(1, 4, 0);\n * // => [1, 1, 1]\n *\n * NumberArrayStep(0);\n * // => []\n *\n * @param {number} [start=0] - The start of the range.\n * @param {number} [end=null] - The end of the range.\n * @param {number} [step=1] - The value to increment or decrement by.\n *\n * @return {number[]} The array of number values.\n */\nexport function NumberArrayStep (start: number, end: number, step: number): number[]\n{\n    const result: number[] = [];\n\n    const total = Math.max(RoundAwayFromZero((end - start) / (step || 1)), 0);\n\n    for (let i = 0; i < total; i++)\n    {\n        result.push(start);\n\n        start += step;\n    }\n\n    return result;\n}\n", "/**\n * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n/**\n * Converts an ArrayBuffer into a base64 string.\n *\n * The resulting string can optionally be a data uri if the `mediaType` argument is provided.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs for more details.\n *\n * @function Phaser.Utils.Base64.ArrayBufferToBase64\n * @since 3.18.0\n *\n * @param {ArrayBuffer} arrayBuffer - The Array Buffer to encode.\n * @param {string} [mediaType] - An optional media type, i.e. `audio/ogg` or `image/jpeg`. If included the resulting string will be a data URI.\n *\n * @return {string} The base64 encoded Array Buffer.\n */\nexport function ArrayBufferToBase64 (arrayBuffer: ArrayBuffer, mediaType: string): string\n{\n    const bytes = new Uint8Array(arrayBuffer);\n    const len = bytes.length;\n\n    let base64 = (mediaType) ? 'data:' + mediaType + ';base64,' : '';\n\n    for (let i = 0; i < len; i += 3)\n    {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2)\n    {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1)\n    {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n}\n", "/**\n * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n//  Use a lookup table to find the index.\nconst lookup = new Uint8Array(256);\n\nfor (let i = 0; i < chars.length; i++)\n{\n    lookup[chars.charCodeAt(i)] = i;\n}\n\n/**\n * Converts a base64 string, either with or without a data uri, into an Array Buffer.\n *\n * @function Phaser.Utils.Base64.Base64ToArrayBuffer\n * @since 3.18.0\n *\n * @param {string} base64 - The base64 string to be decoded. Can optionally contain a data URI header, which will be stripped out prior to decoding.\n *\n * @return {ArrayBuffer} An ArrayBuffer decoded from the base64 data.\n */\nexport function Base64ToArrayBuffer (base64: string): ArrayBuffer\n{\n    //  Is it a data uri? if so, strip the header away\n    base64 = base64.substr(base64.indexOf(',') + 1);\n\n    const len = base64.length;\n    let bufferLength = len * 0.75;\n    let p = 0;\n    let encoded1;\n    let encoded2;\n    let encoded3;\n    let encoded4;\n\n    if (base64[len - 1] === '=')\n    {\n        bufferLength--;\n\n        if (base64[len - 2] === '=')\n        {\n            bufferLength--;\n        }\n    }\n\n    const arrayBuffer = new ArrayBuffer(bufferLength);\n    const bytes = new Uint8Array(arrayBuffer);\n\n    for (let i = 0; i < len; i += 4)\n    {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arrayBuffer;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Capitalizes the first letter of a string if there is one.\n * @example\n * UppercaseFirst('abc');\n * // returns 'Abc'\n * @example\n * UppercaseFirst('the happy family');\n * // returns 'The happy family'\n * @example\n * UppercaseFirst('');\n * // returns ''\n *\n * @function Phaser.Utils.String.UppercaseFirst\n * @since 3.0.0\n *\n * @param {string} str - The string to capitalize.\n *\n * @return {string} A new string, same as the first, but with the first letter capitalized.\n */\nexport function UppercaseFirst (str: string): string\n{\n    return str && str[0].toUpperCase() + str.slice(1);\n}\n", "export function NOOP (): void\n{\n    //  No-op\n}\n", "import { NOOP } from '../../utils';\n\n//  4x4 Matrix in column-major format\n\n/**\n * data[0] = m00\n * data[1] = m01\n * data[2] = m02\n * data[3] = m03\n * data[4] = m10\n * data[5] = m11\n * data[6] = m12\n * data[7] = m13\n * data[8] = m20\n * data[9] = m21\n * data[10] = m22\n * data[11] = m23\n * data[12] = m30\n * data[13] = m31\n * data[14] = m32\n * data[15] = m33\n */\n\nexport class Matrix4\n{\n    data: Float32Array;\n\n    onChange: (mat4: Matrix4) => void;\n\n    constructor (src?: Matrix4 | Float32List)\n    {\n        const data = new Float32Array(16);\n\n        this.data = data;\n        this.onChange = NOOP;\n\n        if (src)\n        {\n            if (Array.isArray(src))\n            {\n                this.fromArray(src);\n            }\n            else\n            {\n                this.fromArray((src as Matrix4).data);\n            }\n        }\n        else\n        {\n            data[0] = 1;\n            data[5] = 1;\n            data[10] = 1;\n            data[15] = 1;\n        }\n    }\n\n    /**\n     * @param m00 - 1st value of 1st row\n     * @param m01 - 2nd value of 1st row\n     * @param m02 - 3rd value of 1st row\n     * @param m03 - 4th value of 1st row\n     * @param m10 - 1st value of 2nd row\n     * @param m11 - 2nd value of 2nd row\n     * @param m12 - 3rd value of 2nd row\n     * @param m13 - 4th value of 2nd row\n     * @param m20 - 1st value of 3rd row\n     * @param m21 - 2nd value of 3rd row\n     * @param m22 - 3rd value of 3rd row\n     * @param m23 - 4th value of 3rd row\n     * @param m30 - 1st value of 4th row\n     * @param m31 - 2nd value of 4th row\n     * @param m32 - 3rd value of 4th row\n     * @param m33 - 4th value of 4th row\n     */\n    set (m00: number, m01: number, m02: number, m03: number, m10: number, m11: number, m12: number, m13: number, m20: number, m21: number, m22: number, m23: number, m30: number, m31: number, m32: number, m33: number): this\n    {\n        const data = this.data;\n\n        data[ 0 ] = m00;\n        data[ 1 ] = m01;\n        data[ 2 ] = m02;\n        data[ 3 ] = m03;\n\n        data[ 4 ] = m10;\n        data[ 5 ] = m11;\n        data[ 6 ] = m12;\n        data[ 7 ] = m13;\n\n        data[ 8 ] = m20;\n        data[ 9 ] = m21;\n        data[ 10 ] = m22;\n        data[ 11 ] = m23;\n\n        data[ 12 ] = m30;\n        data[ 13 ] = m31;\n        data[ 14 ] = m32;\n        data[ 15 ] = m33;\n\n        this.onChange(this);\n\n        return this;\n    }\n\n    toArray (dst: Float32List = [], index: number = 0): Float32List\n    {\n        const data = this.data;\n\n        for (let i = 0; i < 16; i++)\n        {\n            dst[ index + i ] = data[i];\n        }\n\n        return dst;\n    }\n\n    fromArray (src: Float32List, index: number = 0): this\n    {\n        const data = this.data;\n\n        for (let i = 0; i < 16; i++)\n        {\n            data[i] = src[ index + i ];\n        }\n\n        this.onChange(this);\n\n        return this;\n    }\n\n    toString (): string\n    {\n        return '[ mat4=' + this.data.join(', ') + ' ]';\n    }\n\n    destroy (): void\n    {\n        this.onChange = NOOP;\n        this.data = null;\n    }\n}\n", "import { Matrix4 } from './Matrix4';\n\n// Generates a orthogonal projection matrix with the given bounds\n\nexport function Mat4Ortho (left: number, right: number, bottom: number, top: number, near: number, far: number, out: Matrix4 = new Matrix4()): Matrix4\n{\n    const lr = 1 / (left - right);\n    const bt = 1 / (bottom - top);\n    const nf = 1 / (near - far);\n\n    return out.set(\n        -2 * lr,\n        0,\n        0,\n        0,\n        0,\n        -2 * bt,\n        0,\n        0,\n        0,\n        0,\n        2 * nf,\n        0,\n        (left + right) * lr,\n        (top + bottom) * bt,\n        (far + near) * nf,\n        1\n    );\n}\n", "import { IVertexAttribPointer } from './IVertexAttribPointer';\nimport { gl } from '../GL';\n\nexport function CreateAttributes (program: WebGLProgram, config: Object): Map<string, IVertexAttribPointer>\n{\n    const attributes = new Map();\n\n    const defaultSettings =\n    {\n        size: 1,\n        type: gl.FLOAT,\n        normalized: false,\n        stride: 0,\n        offset: 0\n    };\n\n    const total = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let i = 0; i < total; i++)\n    {\n        const attrib = gl.getActiveAttrib(program, i);\n\n        if (!attrib)\n        {\n            break;\n        }\n\n        const name = attrib.name;\n\n        const index = gl.getAttribLocation(program, name);\n\n        gl.enableVertexAttribArray(index);\n\n        const setting = config.hasOwnProperty(name) ? config[name] : {};\n\n        const {\n\n            size = defaultSettings.size,\n            type = defaultSettings.type,\n            normalized = defaultSettings.normalized,\n            stride = defaultSettings.stride,\n            offset = defaultSettings.offset\n\n        } = setting;\n\n        attributes.set(name, { index, size, type, normalized, stride, offset });\n    }\n\n    return attributes;\n}\n", "import { gl } from '../GL';\n\nexport function DeleteShaders (...shaders: WebGLShader[]): void\n{\n    shaders.forEach(shader =>\n    {\n        gl.deleteShader(shader);\n    });\n}\n", "import { DeleteShaders } from './DeleteShaders';\nimport { gl } from '../GL';\n\nexport function CreateProgram (...shaders: WebGLShader[]): WebGLProgram\n{\n    const program = gl.createProgram();\n\n    shaders.forEach(shader =>\n    {\n        gl.attachShader(program, shader);\n    });\n\n    gl.linkProgram(program);\n\n    const status = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n    if (!status)\n    {\n        const info = gl.getProgramInfoLog(program);\n\n        console.error(`Error linking program: ${info}`);\n\n        gl.deleteProgram(program);\n\n        DeleteShaders(...shaders);\n\n        return null;\n    }\n\n    return program;\n}\n", "import { gl } from '../GL';\n\nexport function CreateShader (source: string, type: GLenum): WebGLShader | null\n{\n    const shader = gl.createShader(type);\n\n    gl.shaderSource(shader, source);\n\n    gl.compileShader(shader);\n\n    const status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n    if (!status)\n    {\n        const info = gl.getShaderInfoLog(shader);\n\n        //  Adding line numbers idea borrowed from Gregg Tavares!\n        const sourceLines = source.split('\\n').map((line, index) =>\n        {\n            return `${index}: ${line}`;\n        });\n\n        console.error(`Error compiling shader: ${info}`, sourceLines.join('\\n'));\n\n        gl.deleteShader(shader);\n\n        return null;\n    }\n\n    return shader;\n}\n", "import { gl } from '../GL';\n\nexport type FloatSetter = (v: number) => void;\nexport type F32Setter = (v: Float32List) => void;\nexport type I32Setter = (v: Int32List) => void;\n\nexport function CreateUniformSetter (uniform: WebGLActiveInfo, location: WebGLUniformLocation, isArray: boolean = false): FloatSetter | F32Setter | I32Setter\n{\n    switch (uniform.type)\n    {\n        case gl.INT:\n        case gl.BOOL:\n        {\n            if (isArray)\n            {\n                return (v: Int32List): void =>\n                {\n                    gl.uniform1iv(location, v);\n                };\n            }\n            else\n            {\n                return (v: number): void =>\n                {\n                    gl.uniform1i(location, v);\n                };\n            }\n        }\n\n        case gl.INT_VEC2:\n        case gl.BOOL_VEC2:\n        {\n            return (v: Int32List): void =>\n            {\n                gl.uniform2iv(location, v);\n            };\n        }\n\n        case gl.INT_VEC3:\n        case gl.BOOL_VEC3:\n        {\n            return (v: Int32List): void =>\n            {\n                gl.uniform3iv(location, v);\n            };\n        }\n\n        case gl.INT_VEC4:\n        case gl.BOOL_VEC4:\n        {\n            return (v: Int32List): void =>\n            {\n                gl.uniform4iv(location, v);\n            };\n        }\n\n        case gl.FLOAT:\n        {\n            if (isArray)\n            {\n                return (v: Float32List): void =>\n                {\n                    gl.uniform1fv(location, v);\n                };\n            }\n            else\n            {\n                return (v: number): void =>\n                {\n                    gl.uniform1f(location, v);\n                };\n            }\n        }\n\n        case gl.FLOAT_VEC2:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniform2fv(location, v);\n            };\n        }\n\n        case gl.FLOAT_VEC3:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniform3fv(location, v);\n            };\n        }\n\n        case gl.FLOAT_VEC4:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniform4fv(location, v);\n            };\n        }\n\n        case gl.FLOAT_MAT2:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniformMatrix2fv(location, false, v);\n            };\n        }\n\n        case gl.FLOAT_MAT3:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniformMatrix3fv(location, false, v);\n            };\n        }\n\n        case gl.FLOAT_MAT4:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniformMatrix4fv(location, false, v);\n            };\n        }\n\n        case gl.SAMPLER_2D:\n        case gl.SAMPLER_CUBE:\n        {\n            if (uniform.size > 1)\n            {\n                return (v: Int32List): void =>\n                {\n                    gl.uniform1iv(location, v);\n                };\n            }\n            else\n            {\n                return (v: number): void =>\n                {\n                    gl.uniform1i(location, v);\n                };\n            }\n        }\n    }\n}\n", "import { CreateUniformSetter } from './CreateUniformSetter';\nimport { gl } from '../GL';\n\nexport function CreateUniforms (program: WebGLProgram): Map<string, Function>\n{\n    const uniforms = new Map();\n\n    const total = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (let i = 0; i < total; i++)\n    {\n        const uniform = gl.getActiveUniform(program, i);\n\n        let name = uniform.name;\n\n        if (name.startsWith('gl_') || name.startsWith('webgl_'))\n        {\n            //  Skip built-in uniforms\n            continue;\n        }\n\n        const location = gl.getUniformLocation(program, uniform.name);\n\n        if (location)\n        {\n            let isArray = false;\n\n            //  If uniform name has [0] at the end, remove it\n            if (name.substr(-3) === '[0]')\n            {\n                name = name.substr(0, name.length - 3);\n\n                isArray = (uniform.size > 1);\n            }\n\n            uniforms.set(name, CreateUniformSetter(uniform, location, isArray));\n        }\n    }\n\n    return uniforms;\n}\n", "const BYTE                   = 0x1400;\nconst UNSIGNED_BYTE          = 0x1401;\nconst SHORT                  = 0x1402;\nconst UNSIGNED_SHORT         = 0x1403;\nconst INT                    = 0x1404;\nconst UNSIGNED_INT           = 0x1405;\nconst FLOAT                  = 0x1406;\nconst REPEAT                 = 0x2901;  // eslint-disable-line\nconst CLAMP_TO_EDGE          = 0x812F;\nconst MIRRORED_REPEAT        = 0x8370;  // eslint-disable-line\nconst NEAREST                = 0x2600;  // eslint-disable-line\nconst LINEAR                 = 0x2601;\nconst NEAREST_MIPMAP_NEAREST = 0x2700;  // eslint-disable-line\nconst LINEAR_MIPMAP_NEAREST  = 0x2701;  // eslint-disable-line\nconst NEAREST_MIPMAP_LINEAR  = 0x2702;  // eslint-disable-line\nconst LINEAR_MIPMAP_LINEAR   = 0x2703;  // eslint-disable-line\n\nexport {\n    BYTE,\n    UNSIGNED_BYTE,\n    SHORT,\n    UNSIGNED_SHORT,\n    INT,\n    UNSIGNED_INT,\n    FLOAT,\n    REPEAT,\n    CLAMP_TO_EDGE,\n    MIRRORED_REPEAT,\n    NEAREST,\n    LINEAR,\n    NEAREST_MIPMAP_NEAREST,\n    LINEAR_MIPMAP_NEAREST,\n    NEAREST_MIPMAP_LINEAR,\n    LINEAR_MIPMAP_LINEAR\n};\n", "import * as GL_CONST from '../GL_CONST';\n\n// size = 8\n// size = 8, offset = position\n// size = 4, offset = position + tex coord\n// size = 4, offset = position + tex coord + index\n\nexport const DefaultQuadAttributes =\n{\n    aVertexPosition: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 0 },\n    aTextureCoord: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 8 },\n    aTextureId: { size: 1, type: GL_CONST.FLOAT, normalized: false, offset: 16 },\n    aTintColor: { size: 4, type: GL_CONST.UNSIGNED_BYTE, normalized: true, offset: 20 }\n};\n", "export const DefaultQuadUniforms =\n{\n    uProjectionMatrix: new Float32Array(),\n    uCameraMatrix: new Float32Array(),\n    uTexture: 0\n};\n", "import { gl } from '../GL';\n\nexport function CreateDepthBuffer (framebuffer: WebGLFramebuffer, textureWidth: number, textureHeight: number): WebGLRenderbuffer\n{\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n    const depthBuffer = gl.createRenderbuffer();\n\n    gl.bindRenderbuffer(gl.RENDERBUFFER, depthBuffer);\n\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, textureWidth, textureHeight);\n\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthBuffer);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return depthBuffer;\n}\n", "import { gl } from '../GL';\n\nexport function CreateFramebuffer (texture: WebGLTexture, attachment?: GLenum): WebGLFramebuffer\n{\n    if (!attachment)\n    {\n        attachment = gl.COLOR_ATTACHMENT0;\n    }\n\n    const framebuffer = gl.createFramebuffer();\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, texture, 0);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return framebuffer;\n}\n", "export const SINGLE_QUAD_FRAG =\n`#define SHADER_NAME SINGLE_QUAD_FRAG\n\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nuniform sampler2D uTexture;\n\nvoid main (void)\n{\n    vec4 color = texture2D(uTexture, vTextureCoord);\n\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\n}`;\n", "export const SINGLE_QUAD_VERT =\n`#define SHADER_NAME SINGLE_QUAD_VERT\n\nprecision highp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aTextureId;\nattribute vec4 aTintColor;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uCameraMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nvoid main (void)\n{\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vTintColor = aTintColor;\n\n    gl_Position = uProjectionMatrix * uCameraMatrix * vec4(aVertexPosition, 0.0, 1.0);\n}`;\n", "import { IFrame } from './IFrame';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { Texture } from './Texture';\nimport { Vertex } from '../components';\n\nexport class Frame implements IFrame\n{\n    texture: Texture;\n    key: string | number;\n\n    //  This is the actual area of the texture to draw to canvas / webgl, including any extruded data.\n    //  This is the same as the 'trimmed' + 'extruded' area from an atlas.\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n\n    trimmed: boolean = false;\n\n    //  Original size of the image before being trimmed or added to an atlas (which can add extrude data to it).\n    sourceSizeWidth: number;\n    sourceSizeHeight: number;\n\n    //  The size of the image having been trimmed, before being added to the atlas (i.e. doesn't have any extrusion values in it)\n    spriteSourceSizeX: number;\n    spriteSourceSizeY: number;\n    spriteSourceSizeWidth: number;\n    spriteSourceSizeHeight: number;\n\n    pivot: { x: number; y: number };\n\n    u0: number;\n    v0: number;\n    u1: number;\n    v1: number;\n\n    constructor (texture: Texture, key: string | number, x: number, y: number, width: number, height: number)\n    {\n        this.texture = texture;\n        this.key = key;\n\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n\n        this.updateUVs();\n    }\n\n    setPivot (x: number, y: number): void\n    {\n        this.pivot = { x, y };\n    }\n\n    setSize (width: number, height: number): void\n    {\n        this.width = width;\n        this.height = height;\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n\n        this.updateUVs();\n    }\n\n    setSourceSize (width: number, height: number): void\n    {\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n    }\n\n    setTrim (width: number, height: number, x: number, y: number, w: number, h: number): void\n    {\n        this.trimmed = true;\n\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n\n        this.spriteSourceSizeX = x;\n        this.spriteSourceSizeY = y;\n        this.spriteSourceSizeWidth = w;\n        this.spriteSourceSizeHeight = h;\n    }\n\n    getExtent (originX: number, originY: number): { left: number; right: number; top: number; bottom: number }\n    {\n        const sourceSizeWidth = this.sourceSizeWidth;\n        const sourceSizeHeight = this.sourceSizeHeight;\n\n        let left: number;\n        let right: number;\n        let top: number;\n        let bottom: number;\n\n        if (this.trimmed)\n        {\n            left = this.spriteSourceSizeX - (originX * sourceSizeWidth);\n            right = left + this.spriteSourceSizeWidth;\n\n            top = this.spriteSourceSizeY - (originY * sourceSizeHeight);\n            bottom = top + this.spriteSourceSizeHeight;\n        }\n        else\n        {\n            left = -originX * sourceSizeWidth;\n            right = left + sourceSizeWidth;\n\n            top = -originY * sourceSizeHeight;\n            bottom = top + sourceSizeHeight;\n        }\n\n        return { left, right, top, bottom };\n    }\n\n    copyToExtent (child: IGameObject): this\n    {\n        const originX = child.originX;\n        const originY = child.originY;\n\n        const sourceSizeWidth = this.sourceSizeWidth;\n        const sourceSizeHeight = this.sourceSizeHeight;\n\n        let x: number;\n        let y: number;\n        let width: number;\n        let height: number;\n\n        if (this.trimmed)\n        {\n            x = this.spriteSourceSizeX - (originX * sourceSizeWidth);\n            y = this.spriteSourceSizeY - (originY * sourceSizeHeight);\n\n            width = this.spriteSourceSizeWidth;\n            height = this.spriteSourceSizeHeight;\n        }\n        else\n        {\n            x = -originX * sourceSizeWidth;\n            y = -originY * sourceSizeHeight;\n\n            width = sourceSizeWidth;\n            height = sourceSizeHeight;\n        }\n\n        child.setExtent(x, y, width, height);\n\n        return this;\n    }\n\n    copyToVertices (vertices: Vertex[], offset: number = 0): this\n    {\n        const { u0, u1, v0, v1 } = this;\n\n        vertices[offset + 0].setUV(u0, v0);\n        vertices[offset + 1].setUV(u0, v1);\n        vertices[offset + 2].setUV(u1, v1);\n        vertices[offset + 3].setUV(u1, v0);\n\n        return this;\n    }\n\n    updateUVs (): void\n    {\n        const { x, y, width, height } = this;\n\n        const baseTextureWidth = this.texture.width;\n        const baseTextureHeight = this.texture.height;\n\n        this.u0 = x / baseTextureWidth;\n        this.v0 = y / baseTextureHeight;\n\n        this.u1 = (x + width) / baseTextureWidth;\n        this.v1 = (y + height) / baseTextureHeight;\n    }\n\n    destroy (): void\n    {\n        this.texture = null;\n    }\n}\n", "import { BindingQueue } from '../renderer/BindingQueue';\nimport { Frame } from './Frame';\nimport { IGLTextureBinding } from '../renderer/webgl1/textures/IGLTextureBinding';\nimport { IGLTextureBindingConfig } from '../renderer/webgl1/textures/IGLTextureBindingConfig';\nimport { ITexture } from './ITexture';\n\nexport class Texture implements ITexture\n{\n    //  Unique identifier of this Texture, if stored in the Texture Manager\n    key: string = '';\n\n    width: number;\n    height: number;\n\n    image: TexImageSource;\n\n    binding: IGLTextureBinding;\n\n    firstFrame: Frame;\n\n    frames: Map<string | number, Frame>;\n\n    data: unknown;\n\n    constructor (image?: TexImageSource, width?: number, height?: number, glConfig?: IGLTextureBindingConfig)\n    {\n        if (image)\n        {\n            width = image.width;\n            height = image.height;\n        }\n\n        this.image = image;\n\n        this.width = width;\n        this.height = height;\n\n        this.frames = new Map();\n\n        this.data = {};\n\n        this.addFrame('__BASE', 0, 0, width, height);\n\n        BindingQueue.add(this, glConfig);\n    }\n\n    addFrame (key: string | number, x: number, y: number, width: number, height: number): Frame\n    {\n        if (this.frames.has(key))\n        {\n            return null;\n        }\n\n        const frame = new Frame(this, key, x, y, width, height);\n\n        this.frames.set(key, frame);\n\n        if (!this.firstFrame || this.firstFrame.key === '__BASE')\n        {\n            this.firstFrame = frame;\n        }\n\n        return frame;\n    }\n\n    getFrame (key?: string | number | Frame): Frame\n    {\n        //  null, undefined, empty string, zero\n        if (!key)\n        {\n            return this.firstFrame;\n        }\n\n        if (key instanceof Frame)\n        {\n            key = key.key;\n        }\n\n        let frame: Frame = this.frames.get(key);\n\n        if (!frame)\n        {\n            console.warn(`Frame missing: ${key}`);\n\n            frame = this.firstFrame;\n        }\n\n        return frame;\n    }\n\n    setSize (width: number, height: number): void\n    {\n        this.width = width;\n        this.height = height;\n\n        const frame = this.frames.get('__BASE');\n\n        frame.setSize(width, height);\n    }\n\n    destroy (): void\n    {\n        if (this.binding)\n        {\n            this.binding.destroy();\n        }\n\n        this.frames.clear();\n\n        this.data = null;\n        this.image = null;\n        this.firstFrame = null;\n    }\n}\n", "import { GetHeight, GetResolution, GetWidth } from '../../../config/size/';\n\nimport { CreateAttributes } from './CreateAttributes';\nimport { CreateDepthBuffer } from '../fbo/CreateDepthBuffer';\nimport { CreateFramebuffer } from '../fbo/CreateFramebuffer';\nimport { CreateProgram } from './CreateProgram';\nimport { CreateShader } from './CreateShader';\nimport { CreateUniforms } from './CreateUniforms';\nimport { DefaultQuadAttributes } from './DefaultQuadAttributes';\nimport { DefaultQuadUniforms } from './DefaultQuadUniforms';\nimport { DeleteFramebuffer } from '../fbo/DeleteFramebuffer';\nimport { DeleteGLTexture } from '../textures/DeleteGLTexture';\nimport { DeleteShaders } from './DeleteShaders';\nimport { GLTextureBinding } from '../textures/GLTextureBinding';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { IShader } from './IShader';\nimport { IShaderConfig } from './IShaderConfig';\nimport { IVertexAttribPointer } from './IVertexAttribPointer';\nimport { SINGLE_QUAD_FRAG } from '../glsl/SINGLE_QUAD_FRAG';\nimport { SINGLE_QUAD_VERT } from '../glsl/SINGLE_QUAD_VERT';\nimport { Texture } from '../../../textures/Texture';\nimport { gl } from '../GL';\n\nexport class Shader implements IShader\n{\n    program: WebGLProgram;\n\n    attributes: Map<string, IVertexAttribPointer>;\n\n    uniforms: Map<string, unknown>;\n\n    uniformSetters: Map<string, Function>;\n\n    texture: Texture;\n\n    framebuffer: WebGLFramebuffer;\n\n    renderToFramebuffer: boolean = false;\n\n    renderToDepthbuffer: boolean = false;\n\n    constructor (config?: IShaderConfig)\n    {\n        if (config)\n        {\n            this.fromConfig(config);\n        }\n    }\n\n    fromConfig (config: IShaderConfig): void\n    {\n        const {\n            attributes = DefaultQuadAttributes,\n            fragmentShader = SINGLE_QUAD_FRAG,\n            height = GetHeight(),\n            renderToFramebuffer = false,\n            renderToDepthbuffer = false,\n            resolution = GetResolution(),\n            vertexShader = SINGLE_QUAD_VERT,\n            width = GetWidth(),\n            uniforms = DefaultQuadUniforms\n        } = config;\n\n        this.create(fragmentShader, vertexShader, uniforms, attributes);\n\n        if (renderToFramebuffer)\n        {\n            this.renderToFramebuffer = true;\n\n            const texture = new Texture(null, width * resolution, height * resolution);\n            const binding = new GLTextureBinding(texture);\n\n            texture.binding = binding;\n\n            binding.framebuffer = CreateFramebuffer(binding.texture);\n\n            if (renderToDepthbuffer)\n            {\n                this.renderToDepthbuffer = true;\n\n                binding.depthbuffer = CreateDepthBuffer(binding.framebuffer, texture.width, texture.height);\n            }\n\n            this.texture = texture;\n            this.framebuffer = binding.framebuffer;\n        }\n    }\n\n    create (fragmentShaderSource: string, vertexShaderSource: string, uniforms: {}, attribs: {}): void\n    {\n        const fragmentShader = CreateShader(fragmentShaderSource, gl.FRAGMENT_SHADER);\n        const vertexShader = CreateShader(vertexShaderSource, gl.VERTEX_SHADER);\n\n        if (!fragmentShader || !vertexShader)\n        {\n            return;\n        }\n\n        const program = CreateProgram(fragmentShader, vertexShader);\n\n        if (!program)\n        {\n            return;\n        }\n\n        const currentProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n\n        gl.useProgram(program);\n\n        this.program = program;\n\n        this.uniformSetters = CreateUniforms(program);\n\n        this.uniforms = new Map();\n\n        //  Copy starting values from the config object to the uniforms map\n        for (const [ key, value ] of Object.entries(uniforms))\n        {\n            this.uniforms.set(key, value);\n        }\n\n        this.attributes = CreateAttributes(program, attribs);\n\n        gl.useProgram(currentProgram);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    updateUniforms (renderPass: IRenderPass): void\n    {\n        //  Use this to set any extra uniform values prior to the bind\n    }\n\n    bind (renderPass: IRenderPass): boolean\n    {\n        const uniforms = this.uniforms;\n\n        uniforms.set('uProjectionMatrix', renderPass.projectionMatrix.data);\n        uniforms.set('uCameraMatrix', renderPass.cameraMatrix.data);\n\n        this.updateUniforms(renderPass);\n\n        return this.setUniforms(renderPass);\n    }\n\n    setUniform (key: string, value: unknown): void\n    {\n        const uniforms = this.uniforms;\n\n        if (uniforms.has(key))\n        {\n            uniforms.set(key, value);\n\n            const setter = this.uniformSetters.get(key);\n\n            setter(value);\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setUniforms (renderPass: IRenderPass): boolean\n    {\n        if (!this.program)\n        {\n            return false;\n        }\n\n        gl.useProgram(this.program);\n\n        const uniforms = this.uniforms;\n\n        for (const [ name, setter ] of this.uniformSetters.entries())\n        {\n            setter(uniforms.get(name));\n        }\n\n        return true;\n    }\n\n    //  stride = vertexByteSize\n    setAttributes (renderPass: IRenderPass): void\n    {\n        if (this.program)\n        {\n            const stride = renderPass.currentVertexBuffer.vertexByteSize;\n\n            this.attributes.forEach(attrib =>\n            {\n                gl.vertexAttribPointer(attrib.index, attrib.size, attrib.type, attrib.normalized, stride, attrib.offset);\n            });\n        }\n    }\n\n    destroy (): void\n    {\n        DeleteShaders(this.program);\n        DeleteGLTexture(this.texture);\n        DeleteFramebuffer(this.framebuffer);\n\n        this.uniforms.clear();\n        this.uniformSetters.clear();\n        this.attributes.clear();\n\n        this.program = null;\n        this.texture = null;\n        this.framebuffer = null;\n    }\n}\n", "import { DefaultQuadAttributes } from './DefaultQuadAttributes';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { IShader } from './IShader';\nimport { IShaderConfig } from './IShaderConfig';\nimport { Shader } from './Shader';\n\nexport class QuadShader extends Shader implements IShader\n{\n    constructor (config: IShaderConfig = {})\n    {\n        const shaderConfig = config;\n\n        shaderConfig.attributes = (!shaderConfig.attributes) ? DefaultQuadAttributes : shaderConfig.attributes;\n\n        super(shaderConfig);\n    }\n\n    bind (renderPass: IRenderPass): boolean\n    {\n        const uniforms = this.uniforms;\n\n        uniforms.set('uProjectionMatrix', renderPass.projectionMatrix.data);\n        uniforms.set('uCameraMatrix', renderPass.cameraMatrix.data);\n\n        return super.bind(renderPass);\n    }\n}\n", "export const MULTI_QUAD_FRAG =\n`#define SHADER_NAME MULTI_QUAD_FRAG\n\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nuniform sampler2D uTexture[%count%];\n\nvoid main (void)\n{\n    vec4 color;\n\n    %forloop%\n\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\n}`;\n", "import { GetMaxTextures } from '../../../config/maxtextures/GetMaxTextures';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { IShaderConfig } from './IShaderConfig';\nimport { MULTI_QUAD_FRAG } from '../glsl/MULTI_QUAD_FRAG';\nimport { QuadShader } from './QuadShader';\n\nexport class MultiTextureQuadShader extends QuadShader\n{\n    constructor (config: IShaderConfig = {})\n    {\n        if (!config.fragmentShader)\n        {\n            config.fragmentShader = MULTI_QUAD_FRAG;\n        }\n\n        super(config);\n    }\n\n    create (fragmentShaderSource: string, vertexShaderSource: string, uniforms: {}, attribs: {}): void\n    {\n        const maxTextures = GetMaxTextures();\n\n        let src = '';\n\n        for (let i = 1; i < maxTextures; i++)\n        {\n            if (i > 1)\n            {\n                src += '\\n\\telse ';\n            }\n\n            if (i < maxTextures - 1)\n            {\n                src += `if (vTextureId < ${i}.5)`;\n            }\n\n            src += '\\n\\t{';\n            src += `\\n\\t\\tcolor = texture2D(uTexture[${i}], vTextureCoord);`;\n            src += '\\n\\t}';\n        }\n\n        fragmentShaderSource = fragmentShaderSource.replace(/%count%/gi, `${maxTextures}`);\n        fragmentShaderSource = fragmentShaderSource.replace(/%forloop%/gi, src);\n\n        super.create(fragmentShaderSource, vertexShaderSource, uniforms, attribs);\n    }\n\n    bind (renderPass: IRenderPass): boolean\n    {\n        this.uniforms.set('uTexture', renderPass.textureIndex);\n\n        return super.bind(renderPass);\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\n\nexport function SetDefaultBlendMode (renderPass: IRenderPass, enable: boolean, sfactor?: number, dfactor?: number): void\n{\n    const entry = { enable, sfactor, dfactor };\n\n    //  The default entry always goes into index zero\n    renderPass.blendModeStack[0] = entry;\n\n    renderPass.currentBlendMode = entry;\n    renderPass.defaultBlendMode = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function SetDefaultFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer = null, viewport?: Rectangle): void\n{\n    const entry = { framebuffer, viewport };\n\n    //  The default entry always goes into index zero\n    renderPass.framebufferStack[0] = entry;\n\n    renderPass.currentFramebuffer = entry;\n    renderPass.defaultFramebuffer = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { IShader } from '../shaders/IShader';\n\nexport function SetDefaultShader (renderPass: IRenderPass, shader: IShader, textureID?: number): void\n{\n    const entry = { shader, textureID };\n\n    //  The default entry always goes into index zero\n    renderPass.shaderStack[0] = entry;\n\n    renderPass.currentShader = entry;\n    renderPass.defaultShader = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\n\nexport function SetDefaultVertexBuffer (renderPass: IRenderPass, buffer: IVertexBuffer): void\n{\n    //  The default entry always goes into index zero\n    renderPass.vertexBufferStack[0] = buffer;\n\n    renderPass.currentVertexBuffer = buffer;\n    renderPass.defaultVertexBuffer = buffer;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function SetDefaultViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): void\n{\n    const entry = new Rectangle(x, y, width, height);\n\n    //  The default entry always goes into index zero\n    renderPass.viewportStack[0] = entry;\n\n    renderPass.currentViewport = entry;\n    renderPass.defaultViewport = entry;\n}\n", "import { Game } from './Game';\n\nexport let instance: Game;\nexport let frame: number = 0;\nexport let elapsed: number = 0;\n\nexport const GameInstance =\n{\n    get: (): Game =>\n    {\n        return instance;\n    },\n\n    set: (game: Game | undefined): void =>\n    {\n        instance = game;\n    },\n\n    getFrame: (): number =>\n    {\n        return frame;\n    },\n\n    setFrame: (current: number): void =>\n    {\n        frame = current;\n    },\n\n    getElapsed: (): number =>\n    {\n        return elapsed;\n    },\n\n    setElapsed: (current: number): void =>\n    {\n        elapsed = current;\n    }\n\n};\n", "import { Matrix4 } from './Matrix4';\n\nexport function Mat4Identity (matrix: Matrix4 = new Matrix4()): Matrix4\n{\n    return matrix.set(\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n    );\n}\n", "//  A Matrix2D contains six elements in a short-form of the 3x3 Matrix, with the last column ignored.\n\n//  |----|----|----|\n//  | a  | b  | 0  |\n//  |----|----|----|\n//  | c  | d  | 0  |\n//  |----|----|----|\n//  | tx | ty | 1  |\n//  |----|----|----|\n\nexport class Matrix2D\n{\n    a: number; // element 0\n    b: number; // element 1\n    c: number; // element 2\n    d: number; // element 3\n    tx: number; // element 4\n    ty: number; // element 5\n\n    /**\n     * Creates an instance of Matrix2D.\n     *\n     * @param {number} [a=1] - X scale.\n     * @param {number} [b=0] - X skew.\n     * @param {number} [c=0] - Y skew.\n     * @param {number} [d=1] - Y scale.\n     * @param {number} [tx=0] - X translation\n     * @param {number} [ty=0] - Y translation\n     * @memberof Matrix2D\n     */\n    constructor (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0)\n    {\n        this.set(a, b, c, d, tx, ty);\n    }\n\n    set (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0): this\n    {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.tx = tx;\n        this.ty = ty;\n\n        return this;\n    }\n\n    identity (): this\n    {\n        return this.set();\n    }\n\n    toArray (): number[]\n    {\n        const  { a, b, c, d, tx, ty } = this;\n\n        return [ a, b, c, d, tx, ty ];\n    }\n\n    fromArray (src: number[]): Matrix2D\n    {\n        return this.set(src[0], src[1], src[2], src[3], src[4], src[5]);\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\n *\n * @function Phaser.Math.Angle.Between\n * @since 3.0.0\n *\n * @param {number} x1 - The x coordinate of the first point.\n * @param {number} y1 - The y coordinate of the first point.\n * @param {number} x2 - The x coordinate of the second point.\n * @param {number} y2 - The y coordinate of the second point.\n *\n * @return {number} The angle in radians.\n */\nexport function AngleBetween (x1: number, y1: number, x2: number, y2: number): number\n{\n    return Math.atan2(y2 - y1, x2 - x1);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\n *\n * The difference between this method and {@link Phaser.Math.Angle.Between} is that this assumes the y coordinate\n * travels down the screen.\n *\n * @function Phaser.Math.Angle.BetweenY\n * @since 3.0.0\n *\n * @param {number} x1 - The x coordinate of the first point.\n * @param {number} y1 - The y coordinate of the first point.\n * @param {number} x2 - The x coordinate of the second point.\n * @param {number} y2 - The y coordinate of the second point.\n *\n * @return {number} The angle in radians.\n */\nexport function AngleBetweenY (x1: number, y1: number, x2: number, y2: number): number\n{\n    return Math.atan2(x2 - x1, y2 - y1);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nexport const MATH_CONST = {\n\n    /**\n     * The value of PI * 2.\n     *\n     * @name Phaser.Math.PI2\n     * @type {number}\n     * @since 3.0.0\n     */\n    PI2: Math.PI * 2,\n\n    /**\n     * The value of PI * 2.\n     *\n     * @name Phaser.Math.HALF_PI\n     * @type {number}\n     * @since 3.0.0\n     */\n    HALF_PI: Math.PI * 0.5,\n\n    /**\n     * An epsilon value (1.0e-6)\n     *\n     * @name Phaser.Math.EPSILON\n     * @type {number}\n     * @since 3.0.0\n     */\n    EPSILON: 1.0e-6,\n\n    /**\n     * For converting degrees to radians (PI / 180)\n     *\n     * @name Phaser.Math.DEG_TO_RAD\n     * @type {number}\n     * @since 3.0.0\n     */\n    DEG_TO_RAD: Math.PI / 180,\n\n    /**\n     * For converting radians to degrees (180 / PI)\n     *\n     * @name Phaser.Math.RAD_TO_DEG\n     * @type {number}\n     * @since 3.0.0\n     */\n    RAD_TO_DEG: 180 / Math.PI,\n\n    /**\n     * The minimum safe integer this browser supports.\n     * We use a const for backward compatibility with Internet Explorer.\n     *\n     * @name Phaser.Math.MIN_SAFE_INTEGER\n     * @type {number}\n     * @since 3.21.0\n     */\n    MIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER || -9007199254740991,\n\n    /**\n     * The maximum safe integer this browser supports.\n     * We use a const for backward compatibility with Internet Explorer.\n     *\n     * @name Phaser.Math.MAX_SAFE_INTEGER\n     * @type {number}\n     * @since 3.21.0\n     */\n    MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991\n\n};\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST as CONST } from '../const';\n\n/**\n * Takes an angle in Phasers default clockwise format and converts it so that\n * 0 is North, 90 is West, 180 is South and 270 is East,\n * therefore running counter-clockwise instead of clockwise.\n * \n * You can pass in the angle from a Game Object using:\n * \n * ```javascript\n * var converted = CounterClockwise(gameobject.rotation);\n * ```\n * \n * All values for this function are in radians.\n *\n * @function Phaser.Math.Angle.CounterClockwise\n * @since 3.16.0\n *\n * @param {number} angle - The angle to convert, in radians.\n *\n * @return {number} The converted angle, in radians.\n */\nexport function CounterClockwise (angle: number): number\n{\n    if (angle > Math.PI)\n    {\n        angle -= CONST.PI2;\n    }\n\n    return Math.abs((((angle + CONST.HALF_PI) % CONST.PI2) - CONST.PI2) % CONST.PI2);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST } from '../const';\n\n/**\n * Normalize an angle to the [0, 2pi] range.\n *\n * @function Phaser.Math.Angle.Normalize\n * @since 3.0.0\n *\n * @param {number} angle - The angle to normalize, in radians.\n *\n * @return {number} The normalized angle, in radians.\n */\nexport function NormalizeAngle (angle: number): number\n{\n    angle = angle % MATH_CONST.PI2;\n\n    if (angle >= 0)\n    {\n        return angle;\n    }\n    else\n    {\n        return angle + MATH_CONST.PI2;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { NormalizeAngle } from './NormalizeAngle';\n\n/**\n * Reverse the given angle.\n *\n * @function Phaser.Math.Angle.Reverse\n * @since 3.0.0\n *\n * @param {number} angle - The angle to reverse, in radians.\n *\n * @return {number} The reversed angle, in radians.\n */\nexport function ReverseAngle (angle: number): number\n{\n    return NormalizeAngle(angle + Math.PI);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST } from '../const';\n\n/**\n * Rotates `currentAngle` towards `targetAngle`, taking the shortest rotation distance. The `lerp` argument is the amount to rotate by in this call.\n *\n * @function Phaser.Math.Angle.RotateTo\n * @since 3.0.0\n *\n * @param {number} currentAngle - The current angle, in radians.\n * @param {number} targetAngle - The target angle to rotate to, in radians.\n * @param {number} [lerp=0.05] - The lerp value to add to the current angle.\n *\n * @return {number} The adjusted angle.\n */\nexport function RotateAngleTo (currentAngle: number, targetAngle: number, lerp: number = 0.05): number\n{\n    if (currentAngle === targetAngle)\n    {\n        return currentAngle;\n    }\n\n    if (Math.abs(targetAngle - currentAngle) <= lerp || Math.abs(targetAngle - currentAngle) >= (MATH_CONST.PI2 - lerp))\n    {\n        currentAngle = targetAngle;\n    }\n    else\n    {\n        if (Math.abs(targetAngle - currentAngle) > Math.PI)\n        {\n            if (targetAngle < currentAngle)\n            {\n                targetAngle += MATH_CONST.PI2;\n            }\n            else\n            {\n                targetAngle -= MATH_CONST.PI2;\n            }\n        }\n\n        if (targetAngle > currentAngle)\n        {\n            currentAngle += lerp;\n        }\n        else if (targetAngle < currentAngle)\n        {\n            currentAngle -= lerp;\n        }\n    }\n\n    return currentAngle;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Gets the shortest angle between `angle1` and `angle2`.\n *\n * Both angles must be in the range -180 to 180, which is the same clamped\n * range that `sprite.angle` uses, so you can pass in two sprite angles to\n * this method and get the shortest angle back between the two of them.\n *\n * The angle returned will be in the same range. If the returned angle is\n * greater than 0 then it's a counter-clockwise rotation, if < 0 then it's\n * a clockwise rotation.\n *\n * TODO: Wrap the angles in this function?\n *\n * @function Phaser.Math.Angle.ShortestBetween\n * @since 3.0.0\n *\n * @param {number} angle1 - The first angle in the range -180 to 180.\n * @param {number} angle2 - The second angle in the range -180 to 180.\n *\n * @return {number} The shortest angle, in degrees. If greater than zero it's a counter-clockwise rotation.\n */\nexport function ShortestAngleBetween (angle1: number, angle2: number): number\n{\n    const difference = angle2 - angle1;\n\n    if (difference === 0)\n    {\n        return 0;\n    }\n\n    const times = Math.floor((difference - (-180)) / 360);\n\n    return difference - (times * 360);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Wrap the given `value` between `min` and `max.\n *\n * @function Phaser.Math.Wrap\n * @since 3.0.0\n *\n * @param {number} value - The value to wrap.\n * @param {number} min - The minimum value.\n * @param {number} max - The maximum value.\n *\n * @return {number} The wrapped value.\n */\nexport function Wrap (value: number, min: number, max: number): number\n{\n    const range = max - min;\n\n    return (min + ((((value - min) % range) + range) % range));\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { Wrap } from '../Wrap';\n\n/**\n * Wrap an angle.\n *\n * Wraps the angle to a value in the range of -PI to PI.\n *\n * @function Phaser.Math.Angle.Wrap\n * @since 3.0.0\n *\n * @param {number} angle - The angle to wrap, in radians.\n *\n * @return {number} The wrapped angle, in radians.\n */\nexport function WrapAngle (angle: number): number\n{\n    return Wrap(angle, -Math.PI, Math.PI);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { Wrap } from '../Wrap';\n\n/**\n * Wrap an angle in degrees.\n *\n * Wraps the angle to a value in the range of -180 to 180.\n *\n * @function Phaser.Math.Angle.WrapDegrees\n * @since 3.0.0\n *\n * @param {number} angle - The angle to wrap, in degrees.\n *\n * @return {number} The wrapped angle, in degrees.\n */\nexport function WrapAngleDegrees (angle: number): number\n{\n    return Wrap(angle, -180, 180);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { AngleBetween } from './AngleBetween';\nimport { AngleBetweenY } from './AngleBetweenY';\nimport { CounterClockwise } from './CounterClockwise';\nimport { NormalizeAngle } from './NormalizeAngle';\nimport { ReverseAngle } from './ReverseAngle';\nimport { RotateAngleTo } from './RotateAngleTo';\nimport { ShortestAngleBetween } from './ShortestAngleBetween';\nimport { WrapAngle } from './WrapAngle';\nimport { WrapAngleDegrees } from './WrapAngleDegrees';\n\n/**\n * @namespace Phaser.Math.Angle\n */\n\nexport {\n    AngleBetween,\n    AngleBetweenY,\n    CounterClockwise,\n    NormalizeAngle,\n    ReverseAngle,\n    RotateAngleTo,\n    ShortestAngleBetween,\n    WrapAngle,\n    WrapAngleDegrees\n};\n", "import { GameInstance } from '../GameInstance';\nimport { IRenderer } from '../renderer/IRenderer';\nimport { IStaticCamera } from './IStaticCamera';\nimport { IStaticWorld } from '../world/IStaticWorld';\nimport { Mat4Identity } from '../math/mat4';\nimport { Matrix2D } from '../math/mat2d/Matrix2D';\nimport { Matrix4 } from '../math/mat4/Matrix4';\nimport { Rectangle } from '../geom/rectangle/Rectangle';\n\nexport class StaticCamera implements IStaticCamera\n{\n    world: IStaticWorld;\n    matrix: Matrix4;\n    renderer: IRenderer;\n    type: string;\n\n    width: number;\n    height: number;\n    bounds: Rectangle;\n\n    dirtyRender: boolean;\n    worldTransform: Matrix2D;\n\n    constructor ()\n    {\n        this.type = 'StaticCamera';\n\n        this.dirtyRender = true;\n\n        const game = GameInstance.get();\n\n        this.renderer = game.renderer;\n\n        this.matrix = Mat4Identity();\n\n        this.bounds = new Rectangle();\n\n        this.worldTransform = new Matrix2D();\n\n        this.reset();\n    }\n\n    reset (): void\n    {\n        const renderer = this.renderer;\n\n        if (renderer)\n        {\n            const width = renderer.width;\n            const height = renderer.height;\n\n            this.width = width;\n            this.height = height;\n        }\n\n        this.bounds.set(0, 0, this.width, this.height);\n    }\n\n    destroy (): void\n    {\n        this.world = null;\n        this.worldTransform = null;\n        this.renderer = null;\n        this.matrix = null;\n        this.bounds = null;\n    }\n}\n", "import { CreateTempTextures } from './CreateTempTextures';\nimport { GetBatchSize } from '../../../config/batchsize/GetBatchSize';\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\nimport { IRenderPass } from './IRenderPass';\nimport { IShader } from '../shaders/IShader';\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\nimport { IWebGLRenderer } from '../IWebGLRenderer';\nimport { IndexedVertexBuffer } from '../buffers/IndexedVertexBuffer';\nimport { Mat4Ortho } from '../../../math/mat4/Mat4Ortho';\nimport { Matrix4 } from '../../../math/mat4/Matrix4';\nimport { MultiTextureQuadShader } from '../shaders';\nimport { QuadShader } from '../shaders/QuadShader';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\nimport { SetDefaultBlendMode } from './SetDefaultBlendMode';\nimport { SetDefaultFramebuffer } from './SetDefaultFramebuffer';\nimport { SetDefaultShader } from './SetDefaultShader';\nimport { SetDefaultVertexBuffer } from './SetDefaultVertexBuffer';\nimport { SetDefaultViewport } from './SetDefaultViewport';\nimport { StaticCamera } from '../../../camera';\n\nexport type FramebufferStackEntry = {\n    framebuffer: WebGLFramebuffer;\n    viewport?: Rectangle;\n};\n\nexport type ShaderStackEntry = {\n    shader: IShader;\n    textureID?: number;\n};\n\nexport type BlendModeStackEntry = {\n    enable: boolean;\n    sfactor?: number;\n    dfactor?: number;\n};\n\nexport class RenderPass implements IRenderPass\n{\n    renderer: IWebGLRenderer;\n\n    projectionMatrix: Matrix4;\n    cameraMatrix: Matrix4;\n\n    count: number = 0;\n    prevCount: number = 0;\n    flushTotal: number = 0;\n\n    //  The maximum number of combined image units the GPU supports\n    //  According to the WebGL spec the minimum is 8\n    maxTextures: number = 0;\n    currentActiveTexture: number = 0;\n    startActiveTexture: number = 0;\n    tempTextures: WebGLTexture[] = [];\n    textureIndex: number[] = [];\n\n    //  FBO\n    framebufferStack: FramebufferStackEntry[] = [];\n    currentFramebuffer: FramebufferStackEntry = null;\n    defaultFramebuffer: FramebufferStackEntry = null;\n\n    //  VBO\n    vertexBufferStack: IVertexBuffer[] = [];\n    currentVertexBuffer: IVertexBuffer = null;\n    defaultVertexBuffer: IVertexBuffer = null;\n\n    //  Shader\n    shaderStack: ShaderStackEntry[] = [];\n    currentShader: ShaderStackEntry = null;\n    defaultShader: ShaderStackEntry = null;\n\n    //  Viewport\n    viewportStack: Rectangle[] = [];\n    currentViewport: Rectangle = null;\n    defaultViewport: Rectangle = null;\n\n    //  Blend Mode\n    blendModeStack: BlendModeStackEntry[] = [];\n    currentBlendMode: BlendModeStackEntry = null;\n    defaultBlendMode: BlendModeStackEntry = null;\n\n    //  Single Texture Quad Shader + Camera\n    quadShader: IShader;\n    quadBuffer: IVertexBuffer;\n    quadCamera: IBaseCamera;\n\n    //  Current 2D Camera\n    current2DCamera: IBaseCamera;\n\n    constructor (renderer: IWebGLRenderer)\n    {\n        this.renderer = renderer;\n\n        this.projectionMatrix = new Matrix4();\n\n        this.reset();\n    }\n\n    //  TODO - Call when context is lost and restored\n    reset (): void\n    {\n        const gl = this.renderer.gl;\n\n        const indexLayout = [ 0, 1, 2, 2, 3, 0 ];\n\n        //  TODO - If already created, delete shaders / buffers first (i.e. during context loss)\n\n        //  Default QuadShader (for FBO drawing)\n\n        this.quadShader = new QuadShader();\n        this.quadBuffer = new IndexedVertexBuffer({ isDynamic: false, indexLayout });\n        this.quadCamera = new StaticCamera();\n\n        //  Default settings\n\n        CreateTempTextures(this);\n\n        SetDefaultFramebuffer(this);\n        SetDefaultBlendMode(this, true, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        SetDefaultVertexBuffer(this, new IndexedVertexBuffer({ batchSize: GetBatchSize(), indexLayout }));\n        SetDefaultShader(this, new MultiTextureQuadShader());\n    }\n\n    resize (width: number, height: number): void\n    {\n        //  TODO - -1 to 1?\n        Mat4Ortho(0, width, height, 0, -1000, 1000, this.projectionMatrix);\n\n        this.quadCamera.reset();\n\n        SetDefaultViewport(this, 0, 0, width, height);\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { ShaderStackEntry } from '../shaders/ShaderStackEntry';\n\nexport function BindShader (renderPass: IRenderPass, entry?: ShaderStackEntry): void\n{\n    if (!entry)\n    {\n        entry = renderPass.currentShader;\n    }\n\n    const success = entry.shader.bind(renderPass, entry.textureID);\n\n    if (success)\n    {\n        entry.shader.setAttributes(renderPass);\n    }\n}\n", "import { BindShader } from './BindShader';\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\nimport { IRenderPass } from './IRenderPass';\n\nexport function Begin (renderPass: IRenderPass, camera2D: IBaseCamera): void\n{\n    renderPass.current2DCamera = camera2D;\n    renderPass.cameraMatrix = camera2D.matrix;\n\n    BindShader(renderPass);\n}\n", "import { BlendModeStackEntry } from './RenderPass';\nimport { IRenderPass } from './IRenderPass';\nimport { gl } from '../GL';\n\nexport function BindBlendMode (renderPass: IRenderPass, entry?: BlendModeStackEntry): void\n{\n    if (!entry)\n    {\n        entry = renderPass.currentBlendMode;\n    }\n\n    //  TODO - Only set if different\n    if (entry.enable)\n    {\n        gl.enable(gl.BLEND);\n        gl.blendFunc(entry.sfactor, entry.dfactor);\n    }\n    else\n    {\n        gl.disable(gl.BLEND);\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\nimport { gl } from '../GL';\n\nexport function BindVertexBuffer (renderPass: IRenderPass, buffer?: IVertexBuffer): void\n{\n    if (!buffer)\n    {\n        buffer = renderPass.currentVertexBuffer;\n    }\n\n    //  TODO - Only bind if different\n    const indexBuffer = (buffer.indexed) ? buffer.indexBuffer : null;\n\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer.vertexBuffer);\n}\n", "import { BufferEntry } from '../draw/BufferEntry';\nimport { Flush } from './Flush';\nimport { IRenderPass } from './IRenderPass';\n\nexport function GetVertexBufferEntry (renderPass: IRenderPass, addToCount: number = 0): BufferEntry\n{\n    const buffer = renderPass.currentVertexBuffer;\n\n    //  If batch cannot take the size of this entry, flush it first\n    if (renderPass.count + addToCount >= buffer.batchSize)\n    {\n        Flush(renderPass);\n    }\n\n    const offset = (buffer.indexed) ? renderPass.count * buffer.entryElementSize : renderPass.count * buffer.vertexElementSize;\n\n    renderPass.count += addToCount;\n\n    return {\n        buffer,\n        F32: buffer.vertexViewF32,\n        U32: buffer.vertexViewU32,\n        offset\n    };\n}\n", "import { Flush } from './Flush';\nimport { IRenderPass } from './IRenderPass';\nimport { ITexture } from '../../../textures/ITexture';\nimport { gl } from '../GL';\n\n//  request the next available texture and bind it\n//  returns the new ID\nexport function SetTexture (renderPass: IRenderPass, texture: ITexture): number\n{\n    const binding = texture.binding;\n    const currentActiveTexture = renderPass.currentActiveTexture;\n\n    if (binding.indexCounter < renderPass.startActiveTexture)\n    {\n        binding.indexCounter = renderPass.startActiveTexture;\n\n        if (currentActiveTexture < renderPass.maxTextures)\n        {\n            binding.setIndex(currentActiveTexture);\n\n            gl.activeTexture(gl.TEXTURE0 + currentActiveTexture);\n            gl.bindTexture(gl.TEXTURE_2D, binding.texture);\n\n            renderPass.currentActiveTexture++;\n        }\n        else\n        {\n            //  We're out of textures, so flush the batch and reset back to 1\n            Flush(renderPass);\n\n            renderPass.startActiveTexture++;\n\n            binding.indexCounter = renderPass.startActiveTexture;\n\n            binding.setIndex(1);\n\n            gl.activeTexture(gl.TEXTURE1);\n            gl.bindTexture(gl.TEXTURE_2D, binding.texture);\n\n            renderPass.currentActiveTexture = 2;\n        }\n    }\n\n    return binding.index;\n}\n", "import { BindBlendMode } from './BindBlendMode';\nimport { BindFramebuffer } from './BindFramebuffer';\nimport { BindVertexBuffer } from './BindVertexBuffer';\nimport { BindViewport } from './BindViewport';\nimport { IRenderPass } from './IRenderPass';\n\nexport function Start (renderPass: IRenderPass): void\n{\n    renderPass.current2DCamera = renderPass.quadCamera;\n    renderPass.cameraMatrix = renderPass.quadCamera.matrix;\n\n    renderPass.count = 0;\n    renderPass.flushTotal = 0;\n\n    BindFramebuffer(renderPass, false, renderPass.defaultFramebuffer);\n    BindBlendMode(renderPass, renderPass.defaultBlendMode);\n    BindViewport(renderPass, renderPass.defaultViewport);\n    BindVertexBuffer(renderPass, renderPass.defaultVertexBuffer);\n}\n", "import { WebGLRenderer } from './WebGLRenderer';\n\nexport let instance: WebGLRenderer;\n\nexport const WebGLRendererInstance =\n{\n    get: (): WebGLRenderer =>\n    {\n        return instance;\n    },\n\n    set: (renderer: WebGLRenderer | undefined): void =>\n    {\n        instance = renderer;\n    }\n};\n", "import { GetHeight, GetResolution, GetWidth } from '../../config/size/';\n\nimport { End } from './renderpass/End';\nimport { GL } from './GL';\nimport { GetBackgroundColor } from '../../config/backgroundcolor/GetBackgroundColor';\nimport { GetRGBArray } from './colors/GetRGBArray';\nimport { GetWebGLContext } from '../../config/webglcontext/GetWebGLContext';\nimport { IRenderPass } from './renderpass/IRenderPass';\nimport { ISceneRenderData } from '../../scenes/ISceneRenderData';\nimport { ProcessBindingQueue } from './renderpass/ProcessBindingQueue';\nimport { RenderPass } from './renderpass/RenderPass';\nimport { Start } from './renderpass';\nimport { WebGLRendererInstance } from './WebGLRendererInstance';\n\nexport class WebGLRenderer\n{\n    canvas: HTMLCanvasElement;\n    gl: WebGLRenderingContext;\n\n    renderPass: IRenderPass;\n\n    clearColor = [ 0, 0, 0, 1 ];\n\n    width: number;\n    height: number;\n    resolution: number;\n\n    clearBeforeRender: boolean = true;\n    optimizeRedraw: boolean = false;\n    autoResize: boolean = true;\n\n    contextLost: boolean = false;\n\n    constructor ()\n    {\n        this.width = GetWidth();\n        this.height = GetHeight();\n        this.resolution = GetResolution();\n\n        this.setBackgroundColor(GetBackgroundColor());\n\n        const canvas = document.createElement('canvas');\n\n        canvas.addEventListener('webglcontextlost', (event) => this.onContextLost(event), false);\n        canvas.addEventListener('webglcontextrestored', () => this.onContextRestored(), false);\n\n        this.canvas = canvas;\n\n        this.initContext();\n\n        //  By this stage the context is available\n        WebGLRendererInstance.set(this);\n\n        this.renderPass = new RenderPass(this);\n\n        this.resize(this.width, this.height, this.resolution);\n    }\n\n    initContext (): void\n    {\n        const gl = this.canvas.getContext('webgl', GetWebGLContext());\n\n        GL.set(gl);\n\n        this.gl = gl;\n\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.CULL_FACE);\n    }\n\n    resize (width: number, height: number, resolution: number = 1): void\n    {\n        const calcWidth = width * resolution;\n        const calcHeight = height * resolution;\n\n        this.width = calcWidth;\n        this.height = calcHeight;\n        this.resolution = resolution;\n\n        const canvas = this.canvas;\n\n        canvas.width = calcWidth;\n        canvas.height = calcHeight;\n\n        if (this.autoResize)\n        {\n            canvas.style.width = width.toString() + 'px';\n            canvas.style.height = height.toString() + 'px';\n        }\n\n        this.renderPass.resize(calcWidth, calcHeight);\n    }\n\n    onContextLost (event: Event): void\n    {\n        event.preventDefault();\n\n        this.contextLost = true;\n    }\n\n    onContextRestored (): void\n    {\n        this.contextLost = false;\n\n        this.initContext();\n    }\n\n    setBackgroundColor (color: number): this\n    {\n        GetRGBArray(color, this.clearColor);\n\n        return this;\n    }\n\n    //  TODO - Remove?\n    reset (): void\n    {\n        // this.renderPass.reset();\n    }\n\n    render (renderData: ISceneRenderData): void\n    {\n        if (this.contextLost)\n        {\n            return;\n        }\n\n        const gl = this.gl;\n        const renderPass = this.renderPass;\n\n        //  This is only here because if we don't do _something_ with the context,\n        //  GL Spector can't see it!\n        gl.getContextAttributes();\n\n        ProcessBindingQueue();\n\n        //  Nothing dirty? Display the previous frame\n        if (this.optimizeRedraw && renderData.numDirtyFrames === 0 && renderData.numDirtyCameras === 0)\n        {\n            return;\n        }\n\n        if (this.clearBeforeRender)\n        {\n            const cls = this.clearColor;\n\n            gl.clearColor(cls[0], cls[1], cls[2], cls[3]);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n\n        const worlds = renderData.worldData;\n\n        Start(renderPass);\n\n        for (let i: number = 0; i < worlds.length; i++)\n        {\n            const { world } = worlds[i];\n\n            world.renderGL(renderPass);\n\n            //  Stats sweep\n\n            world.postRenderGL(renderPass);\n        }\n\n        End(renderPass);\n\n        // eslint-disable-next-line no-debugger\n        // debugger;\n    }\n\n    destroy (): void\n    {\n        WebGLRendererInstance.set(undefined);\n    }\n}\n", "import { SetRenderer } from '../renderer/SetRenderer';\nimport { WebGLRenderer } from '../../renderer/webgl1/WebGLRenderer';\n\nexport function WebGL (): () => void\n{\n    return (): void =>\n    {\n        SetRenderer(WebGLRenderer);\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetWebGLContext (contextAttributes: WebGLContextAttributes): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.WEBGL_CONTEXT, contextAttributes);\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\n//  Returns all children of the parent, no matter what depth they go to, using an iterative search.\n//  Does NOT include the parent in the results.\n\nexport function DepthFirstSearch (parent: IGameObject): IGameObject[]\n{\n    const stack: IGameObject[] = [ parent ];\n    const output: IGameObject[] = [];\n\n    while (stack.length > 0)\n    {\n        const node = stack.shift();\n\n        output.push(node);\n\n        const numChildren = node.numChildren;\n\n        if (numChildren > 0)\n        {\n            for (let i = numChildren - 1; i >= 0; i--)\n            {\n                stack.unshift(node.children[i]);\n            }\n        }\n    }\n\n    //  Remove the parent from the results\n    output.shift();\n\n    return output;\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\nexport function GetChildIndex (parent: IGameObject, child: IGameObject): number\n{\n    return parent.children.indexOf(child);\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\nexport function RemoveChildAt (parent: IGameObject, index: number): IGameObject | undefined\n{\n    const children = parent.children;\n    let child: IGameObject;\n\n    if (index >= 0 && index < children.length)\n    {\n        const removed = children.splice(index, 1);\n\n        if (removed[0])\n        {\n            child = removed[0];\n            child.parent = null;\n        }\n    }\n\n    return child;\n}\n", "import { GetChildIndex } from './GetChildIndex';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChildAt } from './RemoveChildAt';\n\nexport function RemoveChild <T extends IGameObject> (parent: IGameObject, child: T): T\n{\n    const currentIndex = GetChildIndex(parent, child);\n\n    if (currentIndex > -1)\n    {\n        RemoveChildAt(parent, currentIndex);\n    }\n\n    return child;\n}\n", "import { IBaseWorld } from '../../world/IBaseWorld';\nimport { IGameObject } from '../IGameObject';\n\nexport const AddedToWorldEvent: string = 'addedtoworld';\n\nexport type AddedToWorldEventHandler = <T extends IGameObject, U extends IBaseWorld> (child: T, world: U) => void;\n", "import { IGameObject } from '../IGameObject';\n\nexport const DestroyEvent: string = 'destroy';\n\nexport type DestroyEventHandler = <T extends IGameObject> (child: T) => void;\n", "import { IGameObject } from '../IGameObject';\n\nexport const PostUpdateEvent: string = 'postupdate';\n\nexport type PostUpdateEventHandler = <T extends IGameObject> (delta: number, time: number, child: T) => void;\n", "import { IBaseWorld } from '../../world/IBaseWorld';\nimport { IGameObject } from '../IGameObject';\n\nexport const RemovedFromWorldEvent: string = 'removedfromworld';\n\nexport type RemovedFromWorldEventHandler = <T extends IGameObject, U extends IBaseWorld> (child: T, world: U) => void;\n", "import { IGameObject } from '../IGameObject';\n\nexport const UpdateEvent: string = 'update';\n\nexport type UpdateEventHandler = <T extends IGameObject> (delta: number, time: number, child: T) => void;\n", "import { IEventEmitter } from './IEventEmitter';\n\nexport function Emit (emitter: IEventEmitter, event: string, ...args: unknown[]): boolean\n{\n    if (emitter.events.size === 0 || !emitter.events.has(event))\n    {\n        return false;\n    }\n\n    const listeners = emitter.events.get(event);\n\n    for (const ee of listeners)\n    {\n        ee.callback.apply(ee.context, args);\n\n        if (ee.once)\n        {\n            listeners.delete(ee);\n        }\n    }\n\n    if (listeners.size === 0)\n    {\n        emitter.events.delete(event);\n    }\n\n    return true;\n}\n", "import { AddedToWorldEvent, RemovedFromWorldEvent } from '../gameobjects/events';\n\nimport { Emit } from '../events/Emit';\nimport { IBaseWorld } from '../world/IBaseWorld';\nimport { IGameObject } from '../gameobjects/IGameObject';\n\nexport function SetWorld (world: IBaseWorld, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        if (child.world)\n        {\n            Emit(child.world, RemovedFromWorldEvent, child, child.world);\n            Emit(child, RemovedFromWorldEvent, child, child.world);\n        }\n\n        child.world = world;\n\n        Emit(world, AddedToWorldEvent, child, world);\n        Emit(child, AddedToWorldEvent, child, world);\n    });\n\n    return children;\n}\n", "import { DepthFirstSearch } from './DepthFirstSearch';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChild } from './RemoveChild';\nimport { SetWorld } from './SetWorld';\n\nexport function SetParent (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        if (child.parent)\n        {\n            RemoveChild(child.parent, child);\n        }\n\n        child.parent = parent;\n    });\n\n    const parentWorld = parent.world;\n\n    if (parentWorld)\n    {\n        //  Full list of all children, including sub-children\n        SetWorld(parentWorld, ...DepthFirstSearch(parent));\n    }\n\n    return children;\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { SetParent } from './SetParent';\n\nexport function AddChild <T extends IGameObject> (parent: IGameObject, child: T): T\n{\n    parent.children.push(child);\n\n    SetParent(parent, child);\n\n    child.updateWorldTransform();\n\n    return child;\n}\n", "export const DIRTY_CONST = {\n\n    CLEAR: 0,\n    TRANSFORM: 1,\n    UPDATE: 2,\n    CHILD_CACHE: 4,\n    POST_RENDER: 8,\n    COLORS: 16,\n    BOUNDS: 32,\n    TEXTURE: 64,\n    FRAME: 128,\n    ALPHA: 256,\n    CHILD: 512,\n\n    //  Special combinations\n    DEFAULT: 1 + 2 + 16 + 32,\n\n    //  Reserved for future use:\n    //  1024\n    //  2048\n    //  4096\n    //  8192\n    //  16384\n    //  32768\n    //  65536\n    //  131072\n    //  262144\n    //  524288\n    //  1048576\n    //  2097152\n    //  4194304\n    //  8388608\n    //  16777216\n    //  33554432\n    //  67108864\n    //  134217728\n    //  268435456\n\n    //  Reserved for user use\n    USER1: 536870912,\n    USER2: 1073741824,\n    USER3: 2147483648,\n    USER4: 4294967296\n\n};\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\nexport function RemoveChildrenBetween (parent: IGameObject, beginIndex: number = 0, endIndex?: number): IGameObject[]\n{\n    const children = parent.children;\n\n    if (endIndex === undefined)\n    {\n        endIndex = children.length;\n    }\n\n    const range = endIndex - beginIndex;\n\n    if (range > 0 && range <= endIndex)\n    {\n        const removed = children.splice(beginIndex, range);\n\n        removed.forEach(child =>\n        {\n            child.parent = null;\n        });\n\n        return removed;\n    }\n    else\n    {\n        return [];\n    }\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\n\nexport function DestroyChildren (parent: IGameObject, beginIndex: number = 0, endIndex?: number): void\n{\n    const removed = RemoveChildrenBetween(parent, beginIndex, endIndex);\n\n    removed.forEach(child =>\n    {\n        child.destroy();\n    });\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChild } from './RemoveChild';\n\nexport function RemoveChildren (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        RemoveChild(parent, child);\n    });\n\n    return children;\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\nimport { SetParent } from './SetParent';\n\nexport function ReparentChildren (parent: IGameObject, newParent: IGameObject, beginIndex: number = 0, endIndex?: number): IGameObject[]\n{\n    const moved = RemoveChildrenBetween(parent, beginIndex, endIndex);\n\n    SetParent(newParent, ...moved);\n\n    moved.forEach(child =>\n    {\n        child.updateWorldTransform();\n    });\n\n    return moved;\n}\n", "import { GetElement } from './GetElement';\n\nexport function AddToDOM (element: HTMLElement, parent?: string | HTMLElement): HTMLElement\n{\n    const target: HTMLElement = GetElement(parent);\n\n    target.appendChild(element);\n\n    return element;\n}\n", "export function DOMContentLoaded (callback: () => void): void\n{\n    const readyState = document.readyState;\n\n    if (readyState === 'complete' || readyState === 'interactive')\n    {\n        callback();\n\n        return;\n    }\n\n    const check = (): void =>\n    {\n        document.removeEventListener('deviceready', check, true);\n        document.removeEventListener('DOMContentLoaded', check, true);\n        window.removeEventListener('load', check, true);\n\n        callback();\n    };\n\n    // TODO - Swap is IsCordova call\n\n    if (!document.body)\n    {\n        window.setTimeout(check, 20);\n    }\n    else if (window.hasOwnProperty('cordova'))\n    {\n        document.addEventListener('deviceready', check, true);\n    }\n    else\n    {\n        document.addEventListener('DOMContentLoaded', check, true);\n        window.addEventListener('load', check, true);\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Takes the given data string and parses it as XML using the native DOMParser interface.\n * The parsed XML object is returned, or `null` if there was an error while parsing the data.\n *\n * @function Phaser.DOM.ParseXML\n * @since 3.0.0\n *\n * @param {string} data - The XML source stored in a string.\n *\n * @return {?XMLDocument} The parsed XML data, or `null` if the data could not be parsed.\n */\nexport function ParseXML (data: string): XMLDocument | null\n{\n    let xml: XMLDocument;\n\n    try\n    {\n        const parser = new DOMParser();\n\n        xml = parser.parseFromString(data, 'text/xml');\n\n        if (!xml || !xml.documentElement || xml.getElementsByTagName('parsererror').length)\n        {\n            return null;\n        }\n        else\n        {\n            return xml;\n        }\n    }\n    catch (error)\n    {\n        return null;\n    }\n}\n", "import { IEventInstance } from './IEventInstance';\n\nexport class EventEmitter\n{\n    events: Map<string, Set<IEventInstance>>;\n\n    constructor ()\n    {\n        this.events = new Map();\n    }\n}\n", "export class EventInstance\n{\n    callback: Function;\n    context: unknown;\n    once: boolean;\n\n    constructor (callback: Function, context: unknown, once: boolean = false)\n    {\n        this.callback = callback;\n        this.context = context;\n        this.once = once;\n    }\n}\n", "import { EventInstance } from './EventInstance';\nimport { IEventEmitter } from './IEventEmitter';\nimport { IEventInstance } from './IEventInstance';\n\nexport function Off (emitter: IEventEmitter, event: string, callback?: Function | IEventInstance, context?: unknown, once?: boolean): IEventEmitter\n{\n    const events = emitter.events;\n    const listeners = events.get(event);\n\n    if (!callback)\n    {\n        //  Remove all events matching the given key\n        events.delete(event);\n    }\n    else if (callback instanceof EventInstance)\n    {\n        listeners.delete(callback as IEventInstance);\n    }\n    else\n    {\n        const hasContext: boolean = !context;\n        const hasOnce: boolean = (once !== undefined);\n\n        for (const listener of listeners)\n        {\n            if (\n                (listener.callback === callback) &&\n                (hasContext && listener.context === context) &&\n                (hasOnce && listener.once === once)\n            )\n            {\n                listeners.delete(listener);\n            }\n        }\n    }\n\n    if (listeners.size === 0)\n    {\n        events.delete(event);\n    }\n\n    return emitter;\n}\n", "import { EventInstance } from './EventInstance';\nimport { IEventEmitter } from './IEventEmitter';\nimport { IEventInstance } from './IEventInstance';\n\nexport function On (emitter: IEventEmitter, event: string, callback: Function, context: unknown = emitter, once: boolean = false): IEventInstance\n{\n    if (typeof callback !== 'function')\n    {\n        throw new TypeError('Listener not a function');\n    }\n\n    const listener = new EventInstance(callback, context, once);\n    const listeners = emitter.events.get(event);\n\n    if (!listeners)\n    {\n        emitter.events.set(event, new Set([ listener ]));\n    }\n    else\n    {\n        listeners.add(listener);\n    }\n\n    return listener;\n}\n", "import { IEventEmitter } from './IEventEmitter';\nimport { IEventInstance } from './IEventInstance';\nimport { On } from './On';\n\nexport function Once (emitter: IEventEmitter, event: string, callback: Function, context: unknown = emitter): IEventInstance\n{\n    return On(emitter, event, callback, context, true);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetBanner (): void\n{\n    const { title, version, url, color, background } = ConfigStore.get(CONFIG_DEFAULTS.BANNER);\n\n    if (title !== '')\n    {\n        const str = (version !== '') ? title + ' ' + version : title;\n\n        console.log(\n            `%c${str}%c ${url}`,\n            `padding: 4px 16px; color: ${color}; background: ${background}`,\n            ''\n        );\n    }\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetGlobalVar (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.GLOBAL_VAR);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetParent (): string | HTMLElement | undefined\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.PARENT);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { IRendererConstructor } from '../../renderer/IRendererConstructor';\n\nexport function GetRenderer (): IRendererConstructor\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.RENDERER);\n}\n", "import { ISceneRenderData } from './ISceneRenderData';\n\nexport function CreateSceneRenderData (): ISceneRenderData\n{\n    return {\n        gameFrame: 0,\n        numTotalFrames: 0,\n        numDirtyFrames: 0,\n        numDirtyCameras: 0,\n        worldData: []\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { ISceneConstructor } from '../../scenes/ISceneConstructor';\n\nexport function GetScenes (): ISceneConstructor[]\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SCENES);\n}\n", "import { ISceneRenderData } from './ISceneRenderData';\n\nexport function ResetSceneRenderData (renderData: ISceneRenderData, gameFrame: number = 0): void\n{\n    renderData.gameFrame = gameFrame;\n    renderData.numTotalFrames = 0;\n    renderData.numDirtyFrames = 0;\n    renderData.numDirtyCameras = 0;\n    renderData.worldData.length = 0;\n}\n", "import { SceneManager } from './SceneManager';\n\nlet instance: SceneManager;\n\nexport const SceneManagerInstance =\n{\n    get: (): SceneManager =>\n    {\n        return instance;\n    },\n\n    set: (manager: SceneManager | null): void =>\n    {\n        instance = manager;\n    }\n};\n", "import { Emit, Once } from '../events';\n\nimport { CreateSceneRenderData } from './CreateSceneRenderData';\nimport { Game } from '../Game';\nimport { GameInstance } from '../GameInstance';\nimport { GetScenes } from '../config/scenes';\nimport { IScene } from './IScene';\nimport { ISceneRenderData } from './ISceneRenderData';\nimport { ResetSceneRenderData } from './ResetSceneRenderData';\nimport { SceneManagerInstance } from './SceneManagerInstance';\n\nexport class SceneManager\n{\n    game: Game;\n\n    scenes: Map<string, IScene>  = new Map();\n\n    //  Used by Install to assign default scene keys when not specified\n    sceneIndex: number = 0;\n\n    //  Flush the cache\n    flush: boolean = false;\n\n    renderResult: ISceneRenderData = CreateSceneRenderData();\n\n    constructor ()\n    {\n        this.game = GameInstance.get();\n\n        SceneManagerInstance.set(this);\n\n        Once(this.game, 'boot', () => this.boot());\n    }\n\n    boot (): void\n    {\n        GetScenes().forEach(scene => new scene());\n    }\n\n    update (delta: number, time: number): void\n    {\n        for (const scene of this.scenes.values())\n        {\n            Emit(scene, 'update', delta, time);\n        }\n    }\n\n    render (gameFrame: number): ISceneRenderData\n    {\n        const results = this.renderResult;\n\n        ResetSceneRenderData(results, gameFrame);\n\n        for (const scene of this.scenes.values())\n        {\n            Emit(scene, 'render', results);\n        }\n\n        if (this.flush)\n        {\n            //  Invalidate the renderer cache\n            results.numDirtyFrames++;\n\n            //  And reset\n            this.flush = false;\n        }\n\n        return results;\n    }\n}\n", "import { SetBackgroundColor } from './backgroundcolor/SetBackgroundColor';\nimport { SetBanner } from './banner/SetBanner';\nimport { SetBatchSize } from './batchsize/SetBatchSize';\nimport { SetDefaultOrigin } from './defaultorigin/SetDefaultOrigin';\nimport { SetMaxTextures } from './maxtextures/SetMaxTextures';\nimport { SetSize } from './size/SetSize';\nimport { SetWebGLContext } from './webglcontext';\n\n//  Phaser 4 defaults\n\nexport function SetConfigDefaults (): void\n{\n    SetBackgroundColor(0);\n    SetBatchSize(4096);\n    SetBanner('Phaser', '4.0.0', 'https://phaser4.io');\n    SetMaxTextures(0);\n    SetDefaultOrigin(0.5, 0.5);\n    SetSize(800, 600, 1);\n    SetWebGLContext({\n        antialias: true,\n        desynchronized: true,\n        preserveDrawingBuffer: true\n    });\n}\n", "export function CreateCanvas (width: number, height: number): CanvasRenderingContext2D\n{\n    const canvas = document.createElement('canvas');\n\n    canvas.width = width;\n    canvas.height = height;\n\n    return canvas.getContext('2d');\n}\n", "import { TextureManager } from './TextureManager';\n\nlet instance: TextureManager;\n\nexport const TextureManagerInstance =\n{\n    get: (): TextureManager =>\n    {\n        return instance;\n    },\n\n    set: (manager: TextureManager | null): void =>\n    {\n        instance = manager;\n    }\n};\n", "import { CreateCanvas } from './CreateCanvas';\nimport { IGLTextureBindingConfig } from '../renderer/webgl1/textures/IGLTextureBindingConfig';\nimport { Texture } from './Texture';\nimport { TextureManagerInstance } from './TextureManagerInstance';\n\nexport class TextureManager\n{\n    textures: Map<string, Texture>;\n\n    constructor ()\n    {\n        this.textures = new Map();\n\n        this.createDefaultTextures();\n\n        TextureManagerInstance.set(this);\n    }\n\n    private createDefaultTextures (): void\n    {\n        this.add('__BLANK', new Texture(CreateCanvas(32, 32).canvas));\n\n        const missing = CreateCanvas(32, 32);\n\n        missing.strokeStyle = '#0f0';\n        missing.moveTo(0, 0);\n        missing.lineTo(32, 32);\n        missing.stroke();\n        missing.strokeRect(0.5, 0.5, 31, 31);\n\n        this.add('__MISSING', new Texture(missing.canvas));\n\n        const white = CreateCanvas(32, 32);\n\n        white.fillStyle = '#fff';\n        white.fillRect(0, 0, 32, 32);\n\n        this.add('__WHITE', new Texture(white.canvas));\n    }\n\n    get (key: string): Texture\n    {\n        const textures = this.textures;\n\n        if (textures.has(key))\n        {\n            return textures.get(key);\n        }\n        else\n        {\n            return textures.get('__MISSING');\n        }\n    }\n\n    has (key: string): boolean\n    {\n        return this.textures.has(key);\n    }\n\n    add (key: string, source: Texture | HTMLImageElement, glConfig?: IGLTextureBindingConfig): Texture\n    {\n        let texture: Texture;\n        const textures = this.textures;\n\n        if (!textures.has(key))\n        {\n            if (source instanceof Texture)\n            {\n                texture = source;\n            }\n            else\n            {\n                texture = new Texture(source, 0, 0, glConfig);\n            }\n\n            texture.key = key;\n\n            textures.set(key, texture);\n        }\n\n        return texture;\n    }\n}\n", "import { AddToDOM, DOMContentLoaded } from './dom';\nimport { Emit, EventEmitter } from './events';\n\nimport { GameInstance } from './GameInstance';\nimport { GetBanner } from './config/banner';\nimport { GetGlobalVar } from './config/globalvar';\nimport { GetParent } from './config/parent';\nimport { GetRenderer } from './config/renderer';\nimport { IRenderer } from './renderer/IRenderer';\nimport { SceneManager } from './scenes/SceneManager';\nimport { SetConfigDefaults } from './config/SetConfigDefaults';\nimport { TextureManager } from './textures/TextureManager';\n\nexport class Game extends EventEmitter\n{\n    readonly VERSION: string = '4.0.0-beta1';\n\n    isBooted: boolean = false;\n    isPaused: boolean = false;\n\n    willUpdate: boolean = true;\n    willRender: boolean = true;\n\n    lastTick: number = 0;\n    elapsed: number = 0;\n\n    //  The current game frame\n    frame: number = 0;\n\n    renderer: IRenderer;\n    textureManager: TextureManager;\n    sceneManager: SceneManager;\n\n    constructor (...settings: { (): void }[])\n    {\n        super();\n\n        GameInstance.set(this);\n\n        SetConfigDefaults();\n\n        DOMContentLoaded(() => this.boot(settings));\n    }\n\n    boot (settings: { (): void }[]): void\n    {\n        //  Activate the settings post DOM Content Loaded\n        settings.forEach(setting => setting());\n\n        const renderer = GetRenderer();\n\n        this.renderer = new renderer();\n        this.textureManager = new TextureManager();\n        this.sceneManager = new SceneManager();\n\n        //  Only add to the DOM if they either didn't set a Parent, or expressly set it to be non-null\n        //  Otherwise we'll let them add the canvas to the DOM themselves\n        const parent = GetParent();\n\n        if (parent)\n        {\n            AddToDOM(this.renderer.canvas, parent);\n        }\n\n        const globalVar = GetGlobalVar();\n\n        if (globalVar && window)\n        {\n            (window as unknown)[globalVar] = this;\n        }\n\n        this.isBooted = true;\n\n        GetBanner();\n\n        Emit(this, 'boot');\n\n        this.lastTick = performance.now();\n\n        this.step(this.lastTick);\n    }\n\n    pause (): void\n    {\n        this.isPaused = true;\n    }\n\n    resume (): void\n    {\n        this.isPaused = false;\n\n        this.lastTick = performance.now();\n    }\n\n    step (time: number): void\n    {\n        //  Note that privacy.resistFingerprinting can round this value to 100ms or more!\n        const delta = time - this.lastTick;\n\n        this.lastTick = time;\n        this.elapsed += delta;\n\n        if (!this.isPaused)\n        {\n            if (this.willUpdate)\n            {\n                this.sceneManager.update(delta, time);\n\n                Emit(this, 'update', delta, time);\n            }\n\n            if (this.willRender)\n            {\n                this.renderer.render(this.sceneManager.render(this.frame));\n            }\n        }\n\n        //  The frame always advances by 1 each step (even when paused)\n        this.frame++;\n\n        GameInstance.setFrame(this.frame);\n        GameInstance.setElapsed(this.elapsed);\n\n        requestAnimationFrame(now => this.step(now));\n    }\n\n    destroy (): void\n    {\n        //  TODO - Code destroy function\n    }\n}\n", "import { Loader } from './Loader';\n\nexport class File\n{\n    key: string;\n    url: string;\n    responseType: XMLHttpRequestResponseType = 'text';\n    crossOrigin: string | undefined = undefined;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data: any;\n\n    error: ErrorEvent | undefined;\n    config: unknown;\n    skipCache: boolean = false;\n    hasLoaded: boolean = false;\n    loader: Loader;\n    load: () => Promise<File>;\n\n    constructor (key: string, url: string, config?: unknown)\n    {\n        this.key = key;\n        this.url = url;\n        this.config = config;\n    }\n}\n", "import { Loader } from './Loader';\n\nexport function GetURL (key: string, url: string, extension: string, loader?: Loader): string\n{\n    if (!url)\n    {\n        url = key + extension;\n    }\n\n    if ((/^(?:blob:|data:|http:\\/\\/|https:\\/\\/|\\/\\/)/).exec(url))\n    {\n        return url;\n    }\n    else if (loader)\n    {\n        return loader.baseURL + loader.path + url;\n    }\n    else\n    {\n        return url;\n    }\n}\n", "import { File } from './File';\n\nexport function ImageTagLoader (file: File): Promise<File>\n{\n    file.data = new Image();\n\n    if (file.crossOrigin)\n    {\n        file.data.crossOrigin = file.crossOrigin;\n    }\n\n    return new Promise((resolve, reject) =>\n    {\n        file.data.onload = (): void =>\n        {\n            if (file.data.onload)\n            {\n                file.data.onload = null;\n                file.data.onerror = null;\n                resolve(file);\n            }\n        };\n\n        file.data.onerror = (event: ErrorEvent): void =>\n        {\n            if (file.data.onload)\n            {\n                file.data.onload = null;\n                file.data.onerror = null;\n                file.error = event;\n                reject(file);\n            }\n        };\n\n        file.data.src = file.url;\n\n        // Image is immediately-available or cached\n\n        if (file.data.complete && file.data.width && file.data.height)\n        {\n            file.data.onload = null;\n            file.data.onerror = null;\n            resolve(file);\n        }\n    });\n}\n", "import { File } from '../File';\nimport { GetURL } from '../GetURL';\nimport { IGLTextureBindingConfig } from '../../renderer/webgl1/textures/IGLTextureBindingConfig';\nimport { ImageTagLoader } from '../ImageTagLoader';\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\n\nexport function ImageFile (key: string, url?: string, glConfig?: IGLTextureBindingConfig): File\n{\n    const file = new File(key, url);\n\n    file.load = (): Promise<File> =>\n    {\n        file.url = GetURL(file.key, file.url, '.png', file.loader);\n\n        if (file.loader)\n        {\n            file.crossOrigin = file.loader.crossOrigin;\n        }\n\n        return new Promise((resolve, reject) =>\n        {\n            const textureManager = TextureManagerInstance.get();\n\n            if (textureManager.has(file.key))\n            {\n                resolve(file);\n            }\n            else\n            {\n                ImageTagLoader(file).then(file =>\n                {\n                    textureManager.add(file.key, file.data as HTMLImageElement, glConfig);\n\n                    resolve(file);\n\n                }).catch(file =>\n                {\n                    reject(file);\n                });\n            }\n        });\n    };\n\n    return file;\n}\n", "import { Emit, EventEmitter } from '../events';\n\nimport { File } from './File';\n\nexport class Loader extends EventEmitter\n{\n    baseURL: string = '';\n    path: string = '';\n    crossOrigin: string = 'anonymous';\n\n    //  -1 means load everything at once (only recommended on http/2 servers)\n    maxParallelDownloads: number = -1;\n\n    isLoading: boolean = false;\n    progress: number;\n\n    queue: Set<File>;\n    inflight: Set<File>;\n    completed: Set<File>;\n\n    onComplete: Function;\n    onError: Function;\n\n    constructor ()\n    {\n        super();\n\n        this.reset();\n    }\n\n    reset (): void\n    {\n        this.isLoading = false;\n\n        this.queue = new Set();\n        this.inflight = new Set();\n        this.completed = new Set();\n\n        this.progress = 0;\n    }\n\n    add (...file: File[]): this\n    {\n        file.forEach(entity =>\n        {\n            entity.loader = this;\n\n            this.queue.add(entity);\n        });\n\n        return this;\n    }\n\n    start (): Promise<Loader>\n    {\n        if (this.isLoading)\n        {\n            return null;\n        }\n\n        return new Promise((resolve, reject) =>\n        {\n            this.completed.clear();\n            this.progress = 0;\n\n            if (this.queue.size > 0)\n            {\n                this.isLoading = true;\n\n                this.onComplete = resolve;\n                this.onError = reject;\n\n                // console.log('Loader.start');\n\n                Emit(this, 'start');\n\n                this.nextFile();\n            }\n            else\n            {\n                this.progress = 1;\n\n                Emit(this, 'complete');\n\n                resolve(this);\n                // onComplete();\n            }\n        });\n\n        /*\n        if (this.isLoading)\n        {\n            return this;\n        }\n\n        this.completed.clear();\n        this.progress = 0;\n\n        if (this.queue.size > 0)\n        {\n            this.isLoading = true;\n\n            this.onComplete = onComplete;\n\n            // console.log('Loader.start');\n\n            Emit(this, 'start');\n\n            this.nextFile();\n        }\n        else\n        {\n            this.progress = 1;\n\n            Emit(this, 'complete');\n\n            onComplete();\n        }\n\n        return this;\n        */\n    }\n\n    nextFile (): void\n    {\n        let limit = this.queue.size;\n\n        if (this.maxParallelDownloads !== -1)\n        {\n            limit = Math.min(limit, this.maxParallelDownloads) - this.inflight.size;\n        }\n\n        // console.log('Loader.nextFile', limit);\n\n        if (limit)\n        {\n            // console.log('Batching', limit, 'files to download');\n\n            const iterator = this.queue.values();\n\n            while (limit > 0)\n            {\n                const file = iterator.next().value;\n\n                // console.log('Loader.nextFile', file.key, '=>', file.url);\n\n                this.inflight.add(file);\n\n                this.queue.delete(file);\n\n                file.load()\n                    .then(\n                        (file: File) => this.fileComplete(file)\n                    )\n                    .catch(\n                        (file: File) => this.fileError(file)\n                    );\n\n                limit--;\n            }\n        }\n        else if (this.inflight.size === 0)\n        {\n            // console.log('Loader inflight zero');\n\n            this.stop();\n\n            // window.setTimeout(() => this.stop(), 0);\n        }\n    }\n\n    stop (): void\n    {\n        if (!this.isLoading)\n        {\n            return;\n        }\n\n        this.isLoading = false;\n\n        Emit(this, 'complete', this.completed);\n\n        this.onComplete();\n\n        this.completed.clear();\n    }\n\n    private updateProgress (file: File): void\n    {\n        this.inflight.delete(file);\n        this.completed.add(file);\n\n        const totalCompleted = this.completed.size;\n        const totalQueued = this.queue.size + this.inflight.size;\n\n        if (totalCompleted > 0)\n        {\n            this.progress = totalCompleted / (totalCompleted + totalQueued);\n        }\n\n        Emit(this, 'progress', this.progress, totalCompleted, totalQueued);\n\n        this.nextFile();\n    }\n\n    private fileComplete (file: File): void\n    {\n        Emit(this, 'filecomplete', file);\n\n        this.updateProgress(file);\n    }\n\n    private fileError (file: File): void\n    {\n        Emit(this, 'fileerror', file);\n\n        this.updateProgress(file);\n    }\n\n    totalFilesToLoad (): number\n    {\n        return this.queue.size + this.inflight.size;\n    }\n\n    setBaseURL (url: string = ''): this\n    {\n        if (url !== '' && url.substr(-1) !== '/')\n        {\n            url = url.concat('/');\n        }\n\n        this.baseURL = url;\n\n        return this;\n    }\n\n    setPath (path: string = ''): this\n    {\n        if (path !== '' && path.substr(-1) !== '/')\n        {\n            path = path.concat('/');\n        }\n\n        this.path = path;\n\n        return this;\n    }\n\n    setCORS (crossOrigin: string): this\n    {\n        this.crossOrigin = crossOrigin;\n\n        return this;\n    }\n\n    setMaxParallelDownloads (max: number): this\n    {\n        this.maxParallelDownloads = max;\n\n        return this;\n    }\n}\n", "import { ISceneConfig } from './ISceneConfig';\n\nexport function GetConfigValue<Property extends keyof ISceneConfig> (config: ISceneConfig, property: Property, defaultValue: ISceneConfig[Property]): ISceneConfig[Property]\n{\n    if (Object.prototype.hasOwnProperty.call(config, property))\n    {\n        return config[property];\n    }\n    else\n    {\n        return defaultValue;\n    }\n}\n", "import { GetConfigValue } from './GetConfigValue';\nimport { IScene } from './IScene';\nimport { ISceneConfig } from './ISceneConfig';\nimport { SceneManagerInstance } from './SceneManagerInstance';\n\nexport function Install (scene: IScene, config: string | ISceneConfig = {}): void\n{\n    const sceneManager = SceneManagerInstance.get();\n\n    const size = sceneManager.scenes.size;\n    const sceneIndex = sceneManager.sceneIndex;\n    const firstScene = (size === 0);\n\n    if (typeof config === 'string')\n    {\n        scene.key = config;\n    }\n    else if (config || (!config && firstScene))\n    {\n        scene.key = GetConfigValue(config, 'key', 'scene' + sceneIndex.toString());\n    }\n\n    if (sceneManager.scenes.has(scene.key))\n    {\n        console.warn('Scene key already in use: ' + scene.key);\n    }\n    else\n    {\n        sceneManager.scenes.set(scene.key, scene);\n\n        sceneManager.flush = true;\n\n        sceneManager.sceneIndex++;\n    }\n}\n", "// import { Emit } from '../events/Emit';\n\nimport { Game } from '../Game';\nimport { GameInstance } from '../GameInstance';\nimport { IEventEmitter } from '../events/IEventEmitter';\nimport { IEventInstance } from '../events/IEventInstance';\nimport { IScene } from './IScene';\nimport { ISceneConfig } from './ISceneConfig';\nimport { Install } from './Install';\n\nexport class Scene implements IScene, IEventEmitter\n{\n    key: string;\n    game: Game;\n    events: Map<string, Set<IEventInstance>>;\n\n    constructor (config?: string | ISceneConfig)\n    {\n        this.game = GameInstance.get();\n        this.events = new Map();\n\n        Install(this, config);\n    }\n\n    // shutdown (): void\n    // {\n    //     Emit(this, 'shutdown');\n    // }\n\n    // destroy (): void\n    // {\n    //     Emit(this, 'destroy');\n\n    //     this.events.clear();\n\n    //     this.game = null;\n    //     this.events = null;\n    // }\n}\n", "import { Matrix2D } from '../../math/mat2d';\nimport { Rectangle } from '../../geom/rectangle';\nimport { Vertices } from './Vertices';\n\nexport function GetVertices (worldTransform: Matrix2D, transformExtent: Rectangle): Vertices\n{\n    const { a, b, c, d, tx, ty } = worldTransform;\n    const { x, y, right, bottom } = transformExtent;\n\n    const x0 = (x * a) + (y * c) + tx;\n    const y0 = (x * b) + (y * d) + ty;\n\n    const x1 = (x * a) + (bottom * c) + tx;\n    const y1 = (x * b) + (bottom * d) + ty;\n\n    const x2 = (right * a) + (bottom * c) + tx;\n    const y2 = (right * b) + (bottom * d) + ty;\n\n    const x3 = (right * a) + (y * c) + tx;\n    const y3 = (right * b) + (y * d) + ty;\n\n    return { x0, y0, x1, y1, x2, y2, x3, y3 };\n}\n", "import { DIRTY_CONST } from '../../gameobjects/DIRTY_CONST';\nimport { GetVertices } from '../transform/GetVertices';\nimport { IBoundsComponent } from './IBoundsComponent';\nimport { IGameObject } from '../../gameobjects/IGameObject';\nimport { Rectangle } from '../../geom/rectangle/Rectangle';\n\nexport class BoundsComponent implements IBoundsComponent\n{\n    entity: IGameObject;\n\n    //  The bounds of the entity calculated in world space\n    private area: Rectangle;\n\n    fixed: boolean = false;\n\n    includeChildren: boolean = true;\n\n    visibleOnly: boolean = true;\n\n    constructor (entity: IGameObject)\n    {\n        this.entity = entity;\n\n        this.area = new Rectangle();\n    }\n\n    set (x: number, y: number, width: number, height: number): void\n    {\n        this.area.set(x, y, width, height);\n    }\n\n    get (): Rectangle\n    {\n        if (this.entity.isDirty(DIRTY_CONST.BOUNDS) && !this.fixed)\n        {\n            this.update();\n        }\n\n        return this.area;\n    }\n\n    updateLocal (): Rectangle\n    {\n        const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVertices(this.entity.worldTransform, this.entity.transformExtent);\n\n        const x = Math.min(x0, x1, x2, x3);\n        const y = Math.min(y0, y1, y2, y3);\n        const right = Math.max(x0, x1, x2, x3);\n        const bottom = Math.max(y0, y1, y2, y3);\n\n        return this.area.set(\n            x,\n            y,\n            right - x,\n            bottom - y\n        );\n    }\n\n    update (): Rectangle\n    {\n        //  First we get the bounds for this Game Object\n        const bounds = this.updateLocal();\n\n        this.entity.clearDirty(DIRTY_CONST.BOUNDS);\n\n        if (!this.includeChildren || !this.entity.numChildren)\n        {\n            return bounds;\n        }\n\n        const visibleOnly = this.visibleOnly;\n        const children = this.entity.children;\n\n        let x = bounds.x;\n        let y = bounds.y;\n        let right = bounds.right;\n        let bottom = bounds.bottom;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            if (!child || (visibleOnly && !child.visible))\n            {\n                continue;\n            }\n\n            const childBounds = child.bounds.get();\n\n            if (childBounds.x < x)\n            {\n                x = childBounds.x;\n            }\n\n            if (childBounds.y < y)\n            {\n                y = childBounds.y;\n            }\n\n            if (childBounds.right > right)\n            {\n                right = childBounds.right;\n            }\n\n            if (childBounds.bottom > bottom)\n            {\n                bottom = childBounds.bottom;\n            }\n        }\n\n        return bounds.set(\n            x,\n            y,\n            right - x,\n            bottom - y\n        );\n    }\n\n    destroy (): void\n    {\n        this.entity = null;\n        this.area = null;\n    }\n}\n", "import { IGameObject } from '../../gameobjects/IGameObject';\nimport { IInputComponent } from './IInputComponent';\nimport { IInteractiveArea } from '../../input/IInteractiveArea';\n\nexport class InputComponent implements IInputComponent\n{\n    entity: IGameObject;\n    enabled: boolean = false;\n    enabledChildren: boolean = true;\n    hitArea: IInteractiveArea;\n\n    constructor (entity: IGameObject)\n    {\n        this.entity = entity;\n    }\n\n    destroy (): void\n    {\n        this.entity = null;\n        this.hitArea = null;\n    }\n}\n", "export class Vec2\n{\n    x: number;\n    y: number;\n\n    constructor (x: number = 0, y: number = 0)\n    {\n        this.set(x, y);\n    }\n\n    set (x: number = 0, y: number = 0): this\n    {\n        this.x = x;\n        this.y = y;\n\n        return this;\n    }\n\n    toArray (dst: Float32List = [], index: number = 0): Float32List\n    {\n        const { x, y } = this;\n\n        dst[ index ] = x;\n        dst[ index + 1 ] = y;\n\n        return dst;\n    }\n\n    fromArray (src: Float32List, index: number = 0): this\n    {\n        return this.set(\n            src[ index ],\n            src[ index + 1 ]\n        );\n    }\n\n    toString (): string\n    {\n        const { x, y } = this;\n\n        return `{ x=${x}, y=${y} }`;\n    }\n}\n", "import { Vertex } from '../../../components/Vertex';\n\nexport function PackColors (vertices: Vertex[]): void\n{\n    vertices.forEach(vertex =>\n    {\n        vertex.packColor();\n    });\n}\n", "import { GetVertices } from './GetVertices';\nimport { Matrix2D } from '../../math/mat2d/Matrix2D';\nimport { Rectangle } from '../../geom/rectangle/Rectangle';\nimport { Vertex } from '../Vertex';\n\nexport function UpdateVertices (vertices: Vertex[], worldTransform: Matrix2D, transformExtent: Rectangle): void\n{\n    const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVertices(worldTransform, transformExtent);\n\n    vertices[0].setPosition(x0, y0);\n    vertices[1].setPosition(x1, y1);\n    vertices[2].setPosition(x2, y2);\n    vertices[3].setPosition(x3, y3);\n}\n", "import { DIRTY_CONST } from '../../gameobjects/DIRTY_CONST';\nimport { IGameObject } from '../../gameobjects/IGameObject';\nimport { PackColors } from '../../renderer/webgl1/colors/PackColors';\nimport { UpdateVertices } from './UpdateVertices';\n\nexport function PreRenderVertices <T extends IGameObject> (gameObject: T): T\n{\n    const vertices = gameObject.vertices;\n\n    if (gameObject.isDirty(DIRTY_CONST.COLORS))\n    {\n        PackColors(vertices);\n\n        gameObject.clearDirty(DIRTY_CONST.COLORS);\n    }\n\n    if (gameObject.isDirty(DIRTY_CONST.TRANSFORM))\n    {\n        UpdateVertices(vertices, gameObject.worldTransform, gameObject.transformExtent);\n\n        gameObject.clearDirty(DIRTY_CONST.TRANSFORM);\n    }\n\n    return gameObject;\n}\n", "import { Matrix2D } from '../../math/mat2d';\n\nexport function UpdateLocalTransform (localTransform: Matrix2D, transformData: Float32Array): void\n{\n    const [ x, y, rotation, scaleX, scaleY, skewX, skewY ] = transformData;\n\n    localTransform.set(\n        Math.cos(rotation + skewY) * scaleX,\n        Math.sin(rotation + skewY) * scaleX,\n        -Math.sin(rotation - skewX) * scaleY,\n        Math.cos(rotation - skewX) * scaleY,\n        x,\n        y\n    );\n}\n", "import { IMatrix2D } from './IMatrix2D';\nimport { Matrix2D } from './Matrix2D';\n\n//  Copy the values from the src Matrix to the target Matrix and return the target Matrix.\n\nexport function Mat2dCopyFrom (src: IMatrix2D, target: Matrix2D): Matrix2D\n{\n    const { a, b, c, d, tx, ty } = src;\n\n    return target.set(a, b, c, d, tx, ty);\n}\n", "import { Mat2dCopyFrom } from '../../math/mat2d/Mat2dCopyFrom';\nimport { Matrix2D } from '../../math/mat2d';\n\nexport function UpdateWorldTransform (localTransform: Matrix2D, worldTransform: Matrix2D, passthru: boolean, parentWorldTransform?: Matrix2D): void\n{\n    if (!parentWorldTransform)\n    {\n        Mat2dCopyFrom(localTransform, worldTransform);\n    }\n    else if (passthru)\n    {\n        Mat2dCopyFrom(parentWorldTransform, worldTransform);\n    }\n    else\n    {\n        const { a, b, c, d, tx, ty } = localTransform;\n        const { a: pa, b: pb, c: pc, d: pd, tx: ptx, ty: pty } = parentWorldTransform;\n\n        worldTransform.set(\n            a  * pa + b  * pc,\n            a  * pb + b  * pd,\n            c  * pa + d  * pc,\n            c  * pb + d  * pd,\n            tx * pa + ty * pc + ptx,\n            tx * pb + ty * pd + pty\n        );\n    }\n}\n", "export function PackColor (rgb: number, alpha: number): number\n{\n    const ua = ((alpha * 255) | 0) & 0xFF;\n\n    return ((ua << 24) | rgb) >>> 0;\n}\n", "import { PackColor } from '../renderer/webgl1/colors/PackColor';\n\nexport class Vertex\n{\n    x: number = 0;\n    y: number = 0;\n    z: number = 0;\n\n    u: number = 0;\n    v: number = 0;\n\n    texture: number = 0;\n\n    tint: number = 0xffffff;\n    alpha: number = 1;\n    color: number = 4294967295;\n\n    constructor (x: number = 0, y: number = 0, z: number = 0)\n    {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    setPosition (x: number, y: number, z: number = 0): this\n    {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        return this;\n    }\n\n    setUV (u: number, v: number): this\n    {\n        this.u = u;\n        this.v = v;\n\n        return this;\n    }\n\n    setColor (color: number, alpha: number = 1): this\n    {\n        this.tint = color;\n        this.alpha = alpha;\n\n        this.packColor();\n\n        return this;\n    }\n\n    setAlpha (value: number): this\n    {\n        this.alpha = value;\n\n        return this;\n    }\n\n    setTint (value: number): this\n    {\n        this.tint = value;\n\n        return this;\n    }\n\n    packColor (): void\n    {\n        this.color = PackColor(this.tint, this.alpha);\n    }\n}\n", "import { GetVertexBufferEntry } from '../renderpass/GetVertexBufferEntry';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { ITexture } from '../../../textures/ITexture';\nimport { SetTexture } from '../renderpass/SetTexture';\nimport { Vertex } from '../../../components';\n\nexport function BatchTexturedQuad <T extends ITexture> (texture: T, vertices: Vertex[], renderPass: IRenderPass): void\n{\n    const { F32, U32, offset } = GetVertexBufferEntry(renderPass, 1);\n\n    const textureIndex = SetTexture(renderPass, texture);\n\n    let vertOffset = offset;\n\n    vertices.forEach(vertex =>\n    {\n        F32[vertOffset + 0] = vertex.x;\n        F32[vertOffset + 1] = vertex.y;\n        F32[vertOffset + 2] = vertex.u;\n        F32[vertOffset + 3] = vertex.v;\n        F32[vertOffset + 4] = textureIndex;\n        U32[vertOffset + 5] = vertex.color;\n\n        vertOffset += 6;\n    });\n}\n\n/*\n    vertexData array structure:\n\n    0 = topLeft.x\n    1 = topLeft.y\n    2 = frame.u0\n    3 = frame.v0\n    4 = textureIndex\n    5 = topLeft.packedColor\n\n    6 = bottomLeft.x\n    7 = bottomLeft.y\n    8 = frame.u0\n    9 = frame.v1\n    10 = textureIndex\n    11 = bottomLeft.packedColor\n\n    12 = bottomRight.x\n    13 = bottomRight.y\n    14 = frame.u1\n    15 = frame.v1\n    16 = textureIndex\n    17 = bottomRight.packedColor\n\n    18 = topRight.x\n    19 = topRight.y\n    20 = frame.u1\n    21 = frame.v0\n    22 = textureIndex\n    23 = topRight.packedColor\n*/\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetDefaultOriginX (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.DEFAULT_ORIGIN).x;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetDefaultOriginY (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.DEFAULT_ORIGIN).y;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Returns the size of the Rectangle, expressed as a Point object.\n * With the value of the `width` as the `x` property and the `height` as the `y` property.\n */\nexport function GetRectangleSize (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\n{\n    return out.set(rect.width, rect.height);\n}\n", "export const TRANSFORM_CONST = {\n\n    X: 0,\n    Y: 1,\n    ROTATION: 2,\n    SCALE_X: 3,\n    SCALE_Y: 4,\n    SKEW_X: 5,\n    SKEW_Y: 6,\n    ORIGIN_X: 7,\n    ORIGIN_Y: 8,\n    PASSTHRU: 9\n\n};\n", "import { GetDefaultOriginX, GetDefaultOriginY } from '../config/defaultorigin';\nimport { UpdateLocalTransform, UpdateWorldTransform } from '../components/transform';\n\nimport { BoundsComponent } from '../components/bounds/BoundsComponent';\nimport { DIRTY_CONST } from './DIRTY_CONST';\nimport { DestroyChildren } from '../display/DestroyChildren';\nimport { DestroyEvent } from './events/DestroyEvent';\nimport { Emit } from '../events/Emit';\nimport { GameInstance } from '../GameInstance';\nimport { GetRectangleSize } from '../geom/rectangle/GetRectangleSize';\nimport { IBaseWorld } from '../world/IBaseWorld';\nimport { IBoundsComponent } from '../components/bounds/IBoundsComponent';\nimport { ICanvasRenderer } from '../renderer/canvas/ICanvasRenderer';\nimport { IEventInstance } from '../events/IEventInstance';\nimport { IGameObject } from './IGameObject';\nimport { IInputComponent } from '../components/input/IInputComponent';\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\nimport { InputComponent } from '../components/input/InputComponent';\nimport { Matrix2D } from '../math/mat2d/Matrix2D';\nimport { Rectangle } from '../geom/rectangle/Rectangle';\nimport { ReparentChildren } from '../display/ReparentChildren';\nimport { TRANSFORM_CONST } from '../components/transform/TRANSFORM_CONST';\nimport { Vec2 } from '../math/vec2/Vec2';\nimport { Vertex } from '../components/Vertex';\n\nexport class GameObject implements IGameObject\n{\n    type: string = 'GameObject';\n    name: string = '';\n\n    //  The World this Game Object belongs to. A Game Object can only belong to one World instance at any one time.\n    world: IBaseWorld;\n\n    //  The direct parent of this Game Object in the scene graph (if any)\n    parent: IGameObject;\n\n    children: IGameObject[];\n\n    events: Map<string, Set<IEventInstance>>;\n\n    willUpdate: boolean = true;\n    willUpdateChildren: boolean = true;\n\n    willRender: boolean = true;\n    willRenderChildren: boolean = true;\n    willCacheChildren: boolean = false;\n\n    dirty: number = 0;\n    dirtyFrame: number = 0;\n\n    localTransform: Matrix2D;\n    worldTransform: Matrix2D;\n    transformData: Float32Array;\n    transformExtent: Rectangle;\n\n    bounds: IBoundsComponent;\n    input: IInputComponent;\n\n    vertices: Vertex[];\n\n    visible: boolean = true;\n\n    constructor (x: number = 0, y: number = 0)\n    {\n        this.children = [];\n        this.vertices = [];\n\n        this.events = new Map();\n\n        this.localTransform = new Matrix2D();\n        this.worldTransform = new Matrix2D();\n\n        //  See TRANSFORM_CONST for array layout\n        this.transformData = new Float32Array([ x, y, 0, 1, 1, 0, 0, GetDefaultOriginX(), GetDefaultOriginY(), 0 ]);\n        this.transformExtent = new Rectangle();\n\n        this.bounds = new BoundsComponent(this);\n        this.input = new InputComponent(this);\n\n        this.dirty = DIRTY_CONST.DEFAULT;\n\n        this.updateLocalTransform();\n        this.updateWorldTransform();\n    }\n\n    isRenderable (): boolean\n    {\n        return (this.visible && this.willRender);\n    }\n\n    isDirty (flag: number): boolean\n    {\n        return (this.dirty & flag) !== 0;\n    }\n\n    clearDirty (flag: number): this\n    {\n        if (this.isDirty(flag))\n        {\n            this.dirty ^= flag;\n        }\n\n        return this;\n    }\n\n    setDirty (flag: number, flag2?: number): this\n    {\n        if (!this.isDirty(flag))\n        {\n            this.dirty ^= flag;\n            this.dirtyFrame = GameInstance.getFrame();\n        }\n\n        if (!this.isDirty(flag2))\n        {\n            this.dirty ^= flag2;\n        }\n\n        return this;\n    }\n\n    update (delta: number, time: number): void\n    {\n        if (this.willUpdateChildren)\n        {\n            const children = this.children;\n\n            for (let i = 0; i < children.length; i++)\n            {\n                const child = children[i];\n\n                if (child && child.willUpdate)\n                {\n                    child.update(delta, time);\n                }\n            }\n        }\n\n        this.postUpdate(delta, time);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postUpdate (delta: number, time: number): void\n    {\n        //  Empty for parent classes to use.\n        //  Called after this GameObject and all of its children have been updated.\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    renderGL <T extends IRenderPass> (renderPass: T): void\n    {\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    renderCanvas <T extends ICanvasRenderer> (renderer: T): void\n    {\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        //  Called after this GameObject and all of its children have been rendered.\n        //  If it doesn't have any children, this method is never called.\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postRenderCanvas <T extends ICanvasRenderer> (renderer: T): void\n    {\n        //  Called after this GameObject and all of its children have been rendered.\n        //  If it doesn't have any children, this method is never called.\n    }\n\n    get numChildren (): number\n    {\n        return this.children.length;\n    }\n\n    getBounds (): Rectangle\n    {\n        return this.bounds.get();\n    }\n\n    updateTransform (flag: number, value: number): void\n    {\n        if (this.transformData[flag] !== value)\n        {\n            this.transformData[flag] = value;\n\n            this.updateLocalTransform();\n            this.updateWorldTransform();\n        }\n    }\n\n    updateLocalTransform (): void\n    {\n        this.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n\n        UpdateLocalTransform(this.localTransform, this.transformData);\n    }\n\n    updateWorldTransform (): void\n    {\n        this.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n\n        const parentWorldTransform = (this.parent) ? this.parent.worldTransform : undefined;\n\n        UpdateWorldTransform(this.localTransform, this.worldTransform, this.passthru, parentWorldTransform);\n\n        if (this.numChildren)\n        {\n            //  Sweep all children - by this point our local and world transforms are correct\n            const children = this.children;\n\n            for (let i = 0; i < children.length; i++)\n            {\n                const child = children[i];\n\n                child.updateWorldTransform();\n            }\n        }\n    }\n\n    //  The area covered by this transform component + origin + size (usually from a Frame)\n    setExtent (x: number, y: number, width: number, height: number): void\n    {\n        this.transformExtent.set(x, y, width, height);\n\n        this.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n    }\n\n    updateExtent (width?: number, height?: number): void\n    {\n        const extent = this.transformExtent;\n\n        if (width !== undefined)\n        {\n            extent.width = width;\n        }\n\n        if (height !== undefined)\n        {\n            extent.height = height;\n        }\n\n        extent.x = -(this.originX) * extent.width;\n        extent.y = -(this.originY) * extent.height;\n\n        this.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n    }\n\n    setSize (width: number, height: number = width): this\n    {\n        this.updateExtent(width, height);\n\n        return this;\n    }\n\n    setPosition (x: number, y: number): this\n    {\n        this.x = x;\n        this.y = y;\n\n        return this;\n    }\n\n    setSkew (x: number, y: number = x): this\n    {\n        this.skewX = x;\n        this.skewY = y;\n\n        return this;\n    }\n\n    setScale (x: number, y: number = x): this\n    {\n        this.scaleX = x;\n        this.scaleY = y;\n\n        return this;\n    }\n\n    setRotation (value: number): this\n    {\n        this.rotation = value;\n\n        return this;\n    }\n\n    setOrigin (x: number, y: number = x): this\n    {\n        const transformData = this.transformData;\n\n        transformData[TRANSFORM_CONST.ORIGIN_X] = x;\n        transformData[TRANSFORM_CONST.ORIGIN_Y] = y;\n\n        this.updateExtent();\n\n        return this;\n    }\n\n    getSize (out: Vec2 = new Vec2()): Vec2\n    {\n        return GetRectangleSize(this.transformExtent, out);\n    }\n\n    getPosition (out: Vec2 = new Vec2()): Vec2\n    {\n        return out.set(this.x, this.y);\n    }\n\n    getOrigin (out: Vec2 = new Vec2()): Vec2\n    {\n        return out.set(this.originX, this.originY);\n    }\n\n    getSkew (out: Vec2 = new Vec2()): Vec2\n    {\n        return out.set(this.skewX, this.skewY);\n    }\n\n    getScale (out: Vec2 = new Vec2()): Vec2\n    {\n        return out.set(this.scaleX, this.scaleY);\n    }\n\n    getRotation (): number\n    {\n        return this.rotation;\n    }\n\n    set width (value: number)\n    {\n        this.updateExtent(value);\n    }\n\n    get width (): number\n    {\n        return this.transformExtent.width;\n    }\n\n    set height (value: number)\n    {\n        this.updateExtent(undefined, value);\n    }\n\n    get height (): number\n    {\n        return this.transformExtent.height;\n    }\n\n    set x (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.X, value);\n    }\n\n    get x (): number\n    {\n        return this.transformData[TRANSFORM_CONST.X];\n    }\n\n    set y (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.Y, value);\n    }\n\n    get y (): number\n    {\n        return this.transformData[TRANSFORM_CONST.Y];\n    }\n\n    set originX (value: number)\n    {\n        const transformData = this.transformData;\n\n        if (value !== transformData[TRANSFORM_CONST.ORIGIN_X])\n        {\n            transformData[TRANSFORM_CONST.ORIGIN_X] = value;\n\n            this.updateExtent();\n        }\n    }\n\n    get originX (): number\n    {\n        return this.transformData[TRANSFORM_CONST.ORIGIN_X];\n    }\n\n    set originY (value: number)\n    {\n        const transformData = this.transformData;\n\n        if (value !== transformData[TRANSFORM_CONST.ORIGIN_Y])\n        {\n            transformData[TRANSFORM_CONST.ORIGIN_Y] = value;\n\n            this.updateExtent();\n        }\n    }\n\n    get originY (): number\n    {\n        return this.transformData[TRANSFORM_CONST.ORIGIN_Y];\n    }\n\n    set skewX (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.SKEW_X, value);\n    }\n\n    get skewX (): number\n    {\n        return this.transformData[TRANSFORM_CONST.SKEW_X];\n    }\n\n    set skewY (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.SKEW_Y, value);\n    }\n\n    get skewY (): number\n    {\n        return this.transformData[TRANSFORM_CONST.SKEW_Y];\n    }\n\n    set scaleX (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.SCALE_X, value);\n    }\n\n    get scaleX (): number\n    {\n        return this.transformData[TRANSFORM_CONST.SCALE_X];\n    }\n\n    set scaleY (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.SCALE_Y, value);\n    }\n\n    get scaleY (): number\n    {\n        return this.transformData[TRANSFORM_CONST.SCALE_Y];\n    }\n\n    set rotation (value: number)\n    {\n        this.updateTransform(TRANSFORM_CONST.ROTATION, value);\n    }\n\n    get rotation (): number\n    {\n        return this.transformData[TRANSFORM_CONST.ROTATION];\n    }\n\n    set passthru (value: boolean)\n    {\n        this.updateTransform(TRANSFORM_CONST.PASSTHRU, Number(value));\n    }\n\n    get passthru (): boolean\n    {\n        return Boolean(this.transformData[TRANSFORM_CONST.PASSTHRU]);\n    }\n\n    destroy (reparentChildren?: IGameObject): void\n    {\n        if (reparentChildren)\n        {\n            ReparentChildren(this, reparentChildren);\n        }\n        else\n        {\n            DestroyChildren(this);\n        }\n\n        Emit(this, DestroyEvent, this);\n\n        this.bounds.destroy();\n        this.input.destroy();\n\n        this.events.clear();\n\n        this.world = null;\n        this.parent = null;\n        this.children = null;\n\n        this.vertices = [];\n    }\n}\n", "import { DIRTY_CONST } from '../DIRTY_CONST';\nimport { GameObject } from '../GameObject';\nimport { IContainer } from './IContainer';\n\nexport class Container extends GameObject implements IContainer\n{\n    protected _alpha: number = 1;\n\n    constructor (x: number = 0, y: number = 0)\n    {\n        super(x, y);\n\n        this.type = 'Container';\n    }\n\n    get alpha (): number\n    {\n        return this._alpha;\n    }\n\n    set alpha (value: number)\n    {\n        if (value !== this._alpha)\n        {\n            this._alpha = value;\n\n            this.vertices.forEach(vertex =>\n            {\n                vertex.setAlpha(value);\n            });\n\n            this.setDirty(DIRTY_CONST.COLORS);\n        }\n    }\n}\n", "import { Frame } from '../../../textures';\nimport { ICanvasRenderer } from '../ICanvasRenderer';\nimport { Matrix2D } from '../../../math/mat2d';\nimport { Rectangle } from '../../../geom/rectangle';\n\nexport function DrawImage (frame: Frame, alpha: number, worldTransform: Matrix2D, transformExtent: Rectangle, renderer: ICanvasRenderer): void\n{\n    if (!frame)\n    {\n        return;\n    }\n\n    const ctx = renderer.ctx;\n\n    const { a, b, c, d, tx, ty } = worldTransform;\n    const { x, y } = transformExtent;\n\n    ctx.save();\n\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    ctx.globalAlpha = alpha;\n\n    ctx.drawImage(frame.texture.image as HTMLImageElement, frame.x, frame.y, frame.width, frame.height, x, y, frame.width, frame.height);\n\n    ctx.restore();\n}\n", "import { Frame } from '../../textures/Frame';\nimport { ISprite } from './ISprite';\nimport { Texture } from '../../textures';\n\nexport function SetFrame <T extends ISprite> (texture: Texture, key?: string | number | Frame, ...children: T[]): T[]\n{\n    const frame = texture.getFrame(key);\n\n    const pivot = frame.pivot;\n\n    children.forEach(child =>\n    {\n        //  TODO - If frame is dirty, reset it anyway\n        if (!child || frame === child.frame)\n        {\n            return;\n        }\n\n        child.frame = frame;\n        child.hasTexture = true;\n\n        if (pivot)\n        {\n            child.setOrigin(pivot.x, pivot.y);\n        }\n\n        frame.copyToExtent(child);\n\n        //  This rarely changes, so we'll set it here, rather than every game step:\n        frame.copyToVertices(child.vertices);\n    });\n\n    return children;\n}\n", "import { Texture } from './Texture';\nimport { TextureManagerInstance } from './TextureManagerInstance';\n\nexport function GetTexture (key: string): Texture\n{\n    return TextureManagerInstance.get().get(key);\n}\n", "import { Frame } from '../../textures/Frame';\nimport { GetTexture } from '../../textures/GetTexture';\nimport { IFrame } from '../../textures/IFrame';\nimport { ISprite } from './ISprite';\nimport { ITexture } from '../../textures/ITexture';\nimport { SetFrame } from './SetFrame';\nimport { Texture } from '../../textures/Texture';\n\nexport function SetTexture <T extends ISprite> (key: string | ITexture | IFrame, frame: string | number | IFrame, ...children: T[]): T[]\n{\n    if (!key)\n    {\n        //  Remove texture from all children\n        children.forEach(child =>\n        {\n            child.texture = null;\n            child.frame = null;\n            child.hasTexture = false;\n        });\n    }\n    else\n    {\n        let texture: Texture;\n\n        if (key instanceof Frame)\n        {\n            frame = key;\n            texture = key.texture;\n        }\n        else if (key instanceof Texture)\n        {\n            texture = key;\n        }\n        else\n        {\n            texture = GetTexture(key as string);\n        }\n\n        if (!texture)\n        {\n            console.warn(`Invalid Texture key: ${key as string}`);\n        }\n        else\n        {\n            children.forEach(child =>\n            {\n                child.texture = texture;\n            });\n\n            SetFrame(texture, frame, ...children);\n        }\n    }\n\n    return children;\n}\n", "import { BatchTexturedQuad } from '../../renderer/webgl1/draw/BatchTexturedQuad';\nimport { Container } from '../container/Container';\nimport { DIRTY_CONST } from '../DIRTY_CONST';\nimport { DrawImage } from '../../renderer/canvas/draw/DrawImage';\nimport { Frame } from '../../textures/Frame';\nimport { ICanvasRenderer } from '../../renderer/canvas/ICanvasRenderer';\nimport { IFrame } from '../../textures/IFrame';\nimport { IGameObject } from '../IGameObject';\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\nimport { ISprite } from './ISprite';\nimport { ITexture } from '../../textures/ITexture';\nimport { PreRenderVertices } from '../../components/transform/PreRenderVertices';\nimport { SetFrame } from './SetFrame';\nimport { SetTexture } from './SetTexture';\nimport { Texture } from '../../textures/Texture';\nimport { Vertex } from '../../components/Vertex';\n\nexport class Sprite extends Container implements ISprite\n{\n    texture: Texture;\n    frame: Frame;\n    hasTexture: boolean = false;\n\n    protected _tint: number = 0xffffff;\n\n    constructor (x: number, y: number, texture: string | Texture | Frame, frame?: string | number | Frame)\n    {\n        super(x, y);\n\n        this.type = 'Sprite';\n\n        this.vertices = [ new Vertex(), new Vertex(), new Vertex(), new Vertex() ];\n\n        this.setTexture(texture, frame);\n    }\n\n    setTexture (key: string | ITexture | IFrame, frame?: string | number | IFrame): this\n    {\n        SetTexture(key, frame, this);\n\n        return this;\n    }\n\n    setFrame (key?: string | number | IFrame): this\n    {\n        SetFrame(this.texture, key, this);\n\n        return this;\n    }\n\n    isRenderable (): boolean\n    {\n        return (this.visible && this.willRender && this.hasTexture && this.alpha > 0);\n    }\n\n    renderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        PreRenderVertices(this);\n\n        BatchTexturedQuad(this.texture, this.vertices, renderPass);\n    }\n\n    renderCanvas <T extends ICanvasRenderer> (renderer: T): void\n    {\n        PreRenderVertices(this);\n\n        DrawImage(this.frame, this.alpha, this.worldTransform, this.transformExtent, renderer);\n    }\n\n    get tint (): number\n    {\n        return this._tint;\n    }\n\n    set tint (value: number)\n    {\n        if (value !== this._tint)\n        {\n            this._tint = value;\n\n            this.vertices.forEach(vertex =>\n            {\n                vertex.setTint(value);\n            });\n\n            this.setDirty(DIRTY_CONST.COLORS);\n        }\n    }\n\n    destroy (reparentChildren?: IGameObject): void\n    {\n        super.destroy(reparentChildren);\n\n        this.texture = null;\n        this.frame = null;\n        this.hasTexture = false;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Force a value within the boundaries by clamping it to the range `min`, `max`.\n *\n * @function Phaser.Math.Clamp\n * @since 3.0.0\n *\n * @param {number} value - The value to be clamped.\n * @param {number} min - The minimum bounds.\n * @param {number} max - The maximum bounds.\n *\n * @return {number} The clamped value.\n */\nexport function Clamp (value: number, min: number, max: number): number\n{\n    return Math.max(min, Math.min(max, value));\n}\n", "import { Pane } from 'tweakpane';\n\nexport class SpriteVertsEditor\n{\n    constructor (spriteRef)\n    {\n        this.target = spriteRef;\n        this.verts = spriteRef.vertices;\n\n        this.createWindow();\n    }\n\n    createWindow ()\n    {\n        const pane = new Pane();\n\n        const verts = this.verts;\n        const step01 = { step: 10 };\n        const stepUV = { step: 0.1, min: -1, max: 1 };\n\n        const vert1Folder = pane.addFolder({ title: 'Vert 1 - Top Left' });\n\n        vert1Folder.addInput(verts[0], 'x', step01);\n        vert1Folder.addInput(verts[0], 'y', step01);\n        vert1Folder.addInput(verts[0], 'u', stepUV);\n        vert1Folder.addInput(verts[0], 'v', stepUV);\n\n        const vert2Folder = pane.addFolder({ title: 'Vert 2 - Bottom Left' });\n\n        vert2Folder.addInput(verts[1], 'x', step01);\n        vert2Folder.addInput(verts[1], 'y', step01);\n        vert2Folder.addInput(verts[1], 'u', stepUV);\n        vert2Folder.addInput(verts[1], 'v', stepUV);\n\n        const vert3Folder = pane.addFolder({ title: 'Vert 3 - Bottom Right' });\n\n        vert3Folder.addInput(verts[2], 'x', step01);\n        vert3Folder.addInput(verts[2], 'y', step01);\n        vert3Folder.addInput(verts[2], 'u', stepUV);\n        vert3Folder.addInput(verts[2], 'v', stepUV);\n\n        const vert4Folder = pane.addFolder({ title: 'Vert 4 - Top Right' });\n\n        vert4Folder.addInput(verts[3], 'x', step01);\n        vert4Folder.addInput(verts[3], 'y', step01);\n        vert4Folder.addInput(verts[3], 'u', stepUV);\n        vert4Folder.addInput(verts[3], 'v', stepUV);\n    }\n}\n", "import { IBaseWorld } from '../IBaseWorld';\nimport { IWorldRenderData } from '../IWorldRenderData';\n\nexport const WorldRenderEvent: string = 'worldrender';\n\nexport type WorldRenderEventHandler = (renderData: IWorldRenderData, world: IBaseWorld) => void;\n", "import { IBaseWorld } from '../IBaseWorld';\n\nexport const WorldShutdownEvent: string = 'worldshutdown';\n\nexport type WorldShutdownEventHandler = (world: IBaseWorld) => void;\n", "import { IWorldRenderData } from './IWorldRenderData';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function CalculateTotalRenderable (entry: SearchEntry, renderData: IWorldRenderData): void\n{\n    renderData.numRendered++;\n    renderData.numRenderable++;\n\n    if (entry.node.dirtyFrame >= renderData.gameFrame)\n    {\n        renderData.dirtyFrame++;\n    }\n\n    entry.children.forEach(child =>\n    {\n        if (child.children.length > 0)\n        {\n            CalculateTotalRenderable(child, renderData);\n        }\n    });\n}\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function HasDirtyChildren (parent: SearchEntry): boolean\n{\n    if (parent.node.isDirty(DIRTY_CONST.CHILD_CACHE))\n    {\n        return true;\n    }\n\n    const stack = [ parent ];\n\n    while (stack.length > 0)\n    {\n        const entry = stack.pop();\n\n        if (entry.node.isDirty(DIRTY_CONST.TRANSFORM))\n        {\n            return true;\n        }\n\n        const numChildren = entry.children.length;\n\n        if (numChildren > 0)\n        {\n            for (let i = 0; i < numChildren; i++)\n            {\n                stack.push(entry.children[i]);\n            }\n        }\n    }\n\n    stack.length = 0;\n\n    return false;\n}\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\nimport { HasDirtyChildren } from './HasDirtyChildren';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function UpdateCachedLayers (cachedLayers: SearchEntry[], dirtyCamera: boolean): void\n{\n    cachedLayers.forEach(layer =>\n    {\n        if (dirtyCamera || HasDirtyChildren(layer))\n        {\n            //  Camera is dirty, or layer has at least one dirty child\n            layer.node.setDirty(DIRTY_CONST.CHILD_CACHE);\n        }\n        else\n        {\n            //  Camera is clean and no dirty children, so we can re-use layer cache\n            //  So let's remove the children for this layer\n            layer.children.length = 0;\n        }\n    });\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function WorldDepthFirstSearch (cachedLayers: SearchEntry[], parent: IGameObject, output: SearchEntry[] = []): SearchEntry[]\n{\n    for (let i = 0; i < parent.numChildren; i++)\n    {\n        const node = parent.children[i];\n\n        if (node.isRenderable())\n        {\n            const children: SearchEntry[] = [];\n\n            const entry = { node, children };\n\n            output.push(entry);\n\n            if (node.willRenderChildren && node.numChildren > 0)\n            {\n                if (node.willCacheChildren)\n                {\n                    cachedLayers.push(entry);\n                }\n\n                WorldDepthFirstSearch(cachedLayers, node, children);\n            }\n        }\n    }\n\n    return output;\n}\n", "import { CalculateTotalRenderable } from './CalculateTotalRenderable';\nimport { IBaseWorld } from './IBaseWorld';\nimport { SearchEntry } from '../display/SearchEntryType';\nimport { UpdateCachedLayers } from './UpdateCachedLayers';\nimport { WorldDepthFirstSearch } from './WorldDepthFirstSearch';\n\nexport function BuildRenderList (world: IBaseWorld): void\n{\n    const cachedLayers: SearchEntry[] = [];\n    const stack: SearchEntry[] = [];\n\n    //  entries is now populated with the n-tree search results, only containing nodes that will actually render\n    const entries = WorldDepthFirstSearch(cachedLayers, world, stack);\n\n    const renderData = world.renderData;\n\n    //  We can now sweep through the entries and purge non-dirty children of cached layers,\n    //  before finally building the render list. We can only do this if the camera is clean.\n\n    if (cachedLayers.length > 0)\n    {\n        UpdateCachedLayers(cachedLayers, world.camera.dirtyRender);\n    }\n\n    //  TODO: numRenderable probably needs to move to the search function\n    entries.forEach(entry =>\n    {\n        if (entry.children.length > 0)\n        {\n            CalculateTotalRenderable(entry, renderData);\n        }\n        else\n        {\n            renderData.numRendered++;\n            renderData.numRenderable++;\n\n            if (entry.node.dirtyFrame >= renderData.gameFrame)\n            {\n                renderData.dirtyFrame++;\n            }\n        }\n    });\n\n    world.renderList = entries;\n\n    if (world.forceRefresh)\n    {\n        renderData.dirtyFrame++;\n\n        world.forceRefresh = false;\n    }\n\n    // console.log(entries);\n    // console.log(renderData);\n    // eslint-disable-next-line no-debugger\n    // debugger;\n}\n", "import { IMatrix2D } from './IMatrix2D';\n\n//  Compares the a and b matrix and returns if they are equal.\n\nexport function Mat2dEquals (a: IMatrix2D, b: IMatrix2D): boolean\n{\n    return (\n        a.a === b.a &&\n        a.b === b.b &&\n        a.c === b.c &&\n        a.d === b.d &&\n        a.tx === b.tx &&\n        a.ty === b.ty\n    );\n}\n", "import { ISceneRenderData } from '../scenes/ISceneRenderData';\nimport { IWorldRenderData } from './IWorldRenderData';\n\nexport function MergeRenderData (sceneRenderData: ISceneRenderData, worldRenderData: IWorldRenderData): void\n{\n    sceneRenderData.numDirtyFrames += worldRenderData.dirtyFrame;\n    sceneRenderData.numTotalFrames += worldRenderData.numRendered;\n\n    if (worldRenderData.camera.dirtyRender)\n    {\n        sceneRenderData.numDirtyCameras++;\n    }\n\n    sceneRenderData.worldData.push(worldRenderData);\n}\n", "import { IWorldRenderData } from './IWorldRenderData';\n\nexport function ResetWorldRenderData (renderData: IWorldRenderData, gameFrame: number): void\n{\n    renderData.gameFrame = gameFrame;\n    renderData.dirtyFrame = 0;\n    renderData.numRendered = 0;\n    renderData.numRenderable = 0;\n}\n", "import * as GameObjectEvents from '../gameobjects/events';\nimport * as WorldEvents from './events';\n\nimport { Begin, Flush } from '../renderer/webgl1/renderpass';\nimport { Emit, Off, On, Once } from '../events';\n\nimport { BuildRenderList } from './BuildRenderList';\nimport { GameObject } from '../gameobjects';\nimport { IBaseCamera } from '../camera/IBaseCamera';\nimport { IBaseWorld } from './IBaseWorld';\nimport { IEventInstance } from '../events/IEventInstance';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\nimport { IScene } from '../scenes/IScene';\nimport { ISceneRenderData } from '../scenes/ISceneRenderData';\nimport { IWorldRenderData } from './IWorldRenderData';\nimport { Mat2dEquals } from '../math/mat2d/Mat2dEquals';\nimport { MergeRenderData } from './MergeRenderData';\nimport { RemoveChildren } from '../display';\nimport { ResetWorldRenderData } from './ResetWorldRenderData';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport class BaseWorld extends GameObject implements IBaseWorld\n{\n    scene: IScene;\n\n    camera: IBaseCamera;\n    renderData: IWorldRenderData;\n    forceRefresh: boolean = false;\n    events: Map<string, Set<IEventInstance>>;\n    is3D: boolean = false;\n\n    renderList: SearchEntry[];\n\n    private _updateListener: IEventInstance;\n    private _renderListener: IEventInstance;\n    private _shutdownListener: IEventInstance;\n\n    constructor (scene: IScene)\n    {\n        super();\n\n        this.type = 'BaseWorld';\n        this.scene = scene;\n        this.world = this;\n\n        this.events = new Map();\n\n        this.renderList = [];\n\n        this._updateListener = On(scene, 'update', (delta: number, time: number) => this.update(delta, time));\n        this._renderListener = On(scene, 'render', (renderData: ISceneRenderData) => this.render(renderData));\n        this._shutdownListener = On(scene, 'shutdown', () => this.shutdown());\n        Once(scene, 'destroy', () => this.destroy());\n    }\n\n    update (delta: number, time: number): void\n    {\n        if (!this.willUpdate)\n        {\n            return;\n        }\n\n        Emit(this, GameObjectEvents.UpdateEvent, delta, time, this);\n\n        super.update(delta, time);\n    }\n\n    postUpdate (delta: number, time: number): void\n    {\n        Emit(this, GameObjectEvents.PostUpdateEvent, delta, time, this);\n    }\n\n    render (sceneRenderData: ISceneRenderData): void\n    {\n        const renderData = this.renderData;\n\n        ResetWorldRenderData(renderData, sceneRenderData.gameFrame);\n\n        if (!this.willRender || !this.visible)\n        {\n            return;\n        }\n\n        BuildRenderList(this);\n\n        Emit(this, WorldEvents.WorldRenderEvent, renderData, this);\n\n        MergeRenderData(sceneRenderData, renderData);\n\n        this.camera.dirtyRender = false;\n    }\n\n    renderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        const currentCamera = renderPass.current2DCamera;\n        const camera = this.camera;\n\n        if (!currentCamera || !Mat2dEquals(camera.worldTransform, currentCamera.worldTransform))\n        {\n            Flush(renderPass);\n        }\n\n        Begin(renderPass, camera);\n\n        this.renderList.forEach(entry =>\n        {\n            if (entry.children.length > 0)\n            {\n                this.renderNode(entry, renderPass);\n            }\n            else\n            {\n                entry.node.renderGL(renderPass);\n            }\n        });\n    }\n\n    renderNode (entry: SearchEntry, renderPass: IRenderPass): void\n    {\n        entry.node.renderGL(renderPass);\n\n        entry.children.forEach(child =>\n        {\n            if (child.children.length > 0)\n            {\n                this.renderNode(child, renderPass);\n            }\n            else\n            {\n                child.node.renderGL(renderPass);\n            }\n        });\n\n        entry.node.postRenderGL(renderPass);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        //  Emit event?\n    }\n\n    shutdown (): void\n    {\n        const scene = this.scene;\n\n        Off(scene, 'update', this._updateListener);\n        Off(scene, 'render', this._renderListener);\n        Off(scene, 'shutdown', this._shutdownListener);\n\n        //  Clear the display list and reset the camera, but leave\n        //  everything in place so we can return to this World again\n        //  at a later stage\n\n        RemoveChildren(this);\n\n        Emit(this, WorldEvents.WorldShutdownEvent, this);\n\n        ResetWorldRenderData(this.renderData, 0);\n\n        if (this.camera)\n        {\n            this.camera.reset();\n        }\n    }\n\n    destroy (reparentChildren?: IGameObject): void\n    {\n        super.destroy(reparentChildren);\n\n        Emit(this, GameObjectEvents.DestroyEvent, this);\n\n        ResetWorldRenderData(this.renderData, 0);\n\n        if (this.camera)\n        {\n            this.camera.destroy();\n        }\n\n        this.events.clear();\n\n        this.camera = null;\n        this.renderData = null;\n        this.events = null;\n    }\n}\n", "import { IBaseCamera } from '../camera/IBaseCamera';\nimport { IBaseWorld } from './IBaseWorld';\nimport { IWorldRenderData } from './IWorldRenderData';\n\nexport function CreateWorldRenderData (world: IBaseWorld, camera: IBaseCamera): IWorldRenderData\n{\n    return {\n        world,\n        camera,\n        gameFrame: 0,\n        dirtyFrame: 0,\n        numRendered: 0,\n        numRenderable: 0\n    };\n}\n", "import { BaseWorld } from './BaseWorld';\nimport { CreateWorldRenderData } from './CreateWorldRenderData';\nimport { IScene } from '../scenes/IScene';\nimport { IStaticCamera } from '../camera/IStaticCamera';\nimport { IStaticWorld } from './IStaticWorld';\nimport { StaticCamera } from '../camera/StaticCamera';\n\n//  A Static World is designed specifically to have a bounds of a fixed size\n//  and a camera that doesn't move at all (no scrolling, rotation, etc)\n//  Because it has a fixed size, there is no camera culling enabled.\n//  Games that use this kind of world include Pacman, Bejeweled and 2048.\n\nexport class StaticWorld extends BaseWorld implements IStaticWorld\n{\n    camera: IStaticCamera;\n\n    constructor (scene: IScene)\n    {\n        super(scene);\n\n        this.type = 'StaticWorld';\n\n        this.camera = new StaticCamera();\n\n        this.renderData = CreateWorldRenderData(this, this.camera);\n    }\n}\n", "import { BackgroundColor, GlobalVar, Parent, Scenes, WebGL } from '../../../../../phaser-genesis/src/config';\n\nimport { AddChild } from '../../../../../phaser-genesis/src/display/';\nimport { Game } from '../../../../../phaser-genesis/src/Game';\nimport { ImageFile } from '../../../../../phaser-genesis/src/loader/files/ImageFile';\nimport { Loader } from '../../../../../phaser-genesis/src/loader/Loader';\nimport { Scene } from '../../../../../phaser-genesis/src/scenes/Scene';\nimport { Sprite } from '../../../../../phaser-genesis/src/gameobjects/';\nimport { SpriteVertsEditor } from '../../../live/libs/phaser4debugkit/SpriteVertsEditor';\nimport { StaticWorld } from '../../../../../phaser-genesis/src/world/StaticWorld';\nimport { UpdateVertices } from '../../../../../phaser-genesis/src/components/transform';\n\nclass Demo extends Scene\n{\n    constructor ()\n    {\n        super();\n\n        const loader = new Loader();\n\n        loader.add(ImageFile('f', 'assets/f-texture.png'));\n\n        loader.start().then(() => {\n\n            const world = new StaticWorld(this);\n\n            const sprite = new Sprite(300, 300, 'f');\n\n            //  Populate the verts so Tweakpane can see the values before rendering\n            UpdateVertices(sprite.vertices, sprite.worldTransform, sprite.transformExtent);\n\n            AddChild(world, sprite);\n\n            new SpriteVertsEditor(sprite);\n\n        });\n    }\n}\n\nnew Game(\n    WebGL(),\n    Parent('gameParent'),\n    GlobalVar('Phaser4'),\n    BackgroundColor(0x2d2d2d),\n    Scenes(Demo)\n);\n"],
  "mappings": "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",
  "names": []
}
